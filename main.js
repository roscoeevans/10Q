var sm={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function cR(){if(X0)return Ml;X0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=t,Ml.jsx=i,Ml.jsxs=i,Ml}var Z0;function hR(){return Z0||(Z0=1,sm.exports=cR()),sm.exports}var gt=hR(),am={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function fR(){if(W0)return Rt;W0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,N={};function O(P,et,mt){this.props=P,this.context=et,this.refs=N,this.updater=mt||w}O.prototype.isReactComponent={},O.prototype.setState=function(P,et){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,et,"setState")},O.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function k(){}k.prototype=O.prototype;function F(P,et,mt){this.props=P,this.context=et,this.refs=N,this.updater=mt||w}var $=F.prototype=new k;$.constructor=F,x($,O.prototype),$.isPureReactComponent=!0;var rt=Array.isArray,J={H:null,A:null,T:null,S:null},at=Object.prototype.hasOwnProperty;function M(P,et,mt,ot,lt,Ct){return mt=Ct.ref,{$$typeof:e,type:P,key:et,ref:mt!==void 0?mt:null,props:Ct}}function C(P,et){return M(P.type,et,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function V(P){var et={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(mt){return et[mt]})}var L=/\/+/g;function j(P,et){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):et.toString(36)}function I(){}function se(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(et){P.status==="pending"&&(P.status="fulfilled",P.value=et)},function(et){P.status==="pending"&&(P.status="rejected",P.reason=et)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function de(P,et,mt,ot,lt){var Ct=typeof P;(Ct==="undefined"||Ct==="boolean")&&(P=null);var wt=!1;if(P===null)wt=!0;else switch(Ct){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(P.$$typeof){case e:case t:wt=!0;break;case v:return wt=P._init,de(wt(P._payload),et,mt,ot,lt)}}if(wt)return lt=lt(P),wt=ot===""?"."+j(P,0):ot,rt(lt)?(mt="",wt!=null&&(mt=wt.replace(L,"$&/")+"/"),de(lt,et,mt,"",function(ae){return ae})):lt!=null&&(R(lt)&&(lt=C(lt,mt+(lt.key==null||P&&P.key===lt.key?"":(""+lt.key).replace(L,"$&/")+"/")+wt)),et.push(lt)),1;wt=0;var ve=ot===""?".":ot+":";if(rt(P))for(var zt=0;zt<P.length;zt++)ot=P[zt],Ct=ve+j(ot,zt),wt+=de(ot,et,mt,Ct,lt);else if(zt=A(P),typeof zt=="function")for(P=zt.call(P),zt=0;!(ot=P.next()).done;)ot=ot.value,Ct=ve+j(ot,zt++),wt+=de(ot,et,mt,Ct,lt);else if(Ct==="object"){if(typeof P.then=="function")return de(se(P),et,mt,ot,lt);throw et=String(P),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return wt}function st(P,et,mt){if(P==null)return P;var ot=[],lt=0;return de(P,ot,"","",function(Ct){return et.call(mt,Ct,lt++)}),ot}function ct(P){if(P._status===-1){var et=P._result;et=et(),et.then(function(mt){(P._status===0||P._status===-1)&&(P._status=1,P._result=mt)},function(mt){(P._status===0||P._status===-1)&&(P._status=2,P._result=mt)}),P._status===-1&&(P._status=0,P._result=et)}if(P._status===1)return P._result.default;throw P._result}var ht=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Nt(){}return Rt.Children={map:st,forEach:function(P,et,mt){st(P,function(){et.apply(this,arguments)},mt)},count:function(P){var et=0;return st(P,function(){et++}),et},toArray:function(P){return st(P,function(et){return et})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Rt.Component=O,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=F,Rt.StrictMode=s,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(P){return function(){return P.apply(null,arguments)}},Rt.cloneElement=function(P,et,mt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ot=x({},P.props),lt=P.key,Ct=void 0;if(et!=null)for(wt in et.ref!==void 0&&(Ct=void 0),et.key!==void 0&&(lt=""+et.key),et)!at.call(et,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&et.ref===void 0||(ot[wt]=et[wt]);var wt=arguments.length-2;if(wt===1)ot.children=mt;else if(1<wt){for(var ve=Array(wt),zt=0;zt<wt;zt++)ve[zt]=arguments[zt+2];ot.children=ve}return M(P.type,lt,void 0,void 0,Ct,ot)},Rt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Rt.createElement=function(P,et,mt){var ot,lt={},Ct=null;if(et!=null)for(ot in et.key!==void 0&&(Ct=""+et.key),et)at.call(et,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(lt[ot]=et[ot]);var wt=arguments.length-2;if(wt===1)lt.children=mt;else if(1<wt){for(var ve=Array(wt),zt=0;zt<wt;zt++)ve[zt]=arguments[zt+2];lt.children=ve}if(P&&P.defaultProps)for(ot in wt=P.defaultProps,wt)lt[ot]===void 0&&(lt[ot]=wt[ot]);return M(P,Ct,void 0,void 0,null,lt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(P){return{$$typeof:d,render:P}},Rt.isValidElement=R,Rt.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ct}},Rt.memo=function(P,et){return{$$typeof:g,type:P,compare:et===void 0?null:et}},Rt.startTransition=function(P){var et=J.T,mt={};J.T=mt;try{var ot=P(),lt=J.S;lt!==null&&lt(mt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Nt,ht)}catch(Ct){ht(Ct)}finally{J.T=et}},Rt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Rt.use=function(P){return J.H.use(P)},Rt.useActionState=function(P,et,mt){return J.H.useActionState(P,et,mt)},Rt.useCallback=function(P,et){return J.H.useCallback(P,et)},Rt.useContext=function(P){return J.H.useContext(P)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(P,et){return J.H.useDeferredValue(P,et)},Rt.useEffect=function(P,et){return J.H.useEffect(P,et)},Rt.useId=function(){return J.H.useId()},Rt.useImperativeHandle=function(P,et,mt){return J.H.useImperativeHandle(P,et,mt)},Rt.useInsertionEffect=function(P,et){return J.H.useInsertionEffect(P,et)},Rt.useLayoutEffect=function(P,et){return J.H.useLayoutEffect(P,et)},Rt.useMemo=function(P,et){return J.H.useMemo(P,et)},Rt.useOptimistic=function(P,et){return J.H.useOptimistic(P,et)},Rt.useReducer=function(P,et,mt){return J.H.useReducer(P,et,mt)},Rt.useRef=function(P){return J.H.useRef(P)},Rt.useState=function(P){return J.H.useState(P)},Rt.useSyncExternalStore=function(P,et,mt){return J.H.useSyncExternalStore(P,et,mt)},Rt.useTransition=function(){return J.H.useTransition()},Rt.version="19.0.0",Rt}var J0;function Ap(){return J0||(J0=1,am.exports=fR()),am.exports}var H=Ap(),om={exports:{}},Ol={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function dR(){return t_||(t_=1,function(e){function t(st,ct){var ht=st.length;st.push(ct);t:for(;0<ht;){var Nt=ht-1>>>1,P=st[Nt];if(0<o(P,ct))st[Nt]=ct,st[ht]=P,ht=Nt;else break t}}function i(st){return st.length===0?null:st[0]}function s(st){if(st.length===0)return null;var ct=st[0],ht=st.pop();if(ht!==ct){st[0]=ht;t:for(var Nt=0,P=st.length,et=P>>>1;Nt<et;){var mt=2*(Nt+1)-1,ot=st[mt],lt=mt+1,Ct=st[lt];if(0>o(ot,ht))lt<P&&0>o(Ct,ot)?(st[Nt]=Ct,st[lt]=ht,Nt=lt):(st[Nt]=ot,st[mt]=ht,Nt=mt);else if(lt<P&&0>o(Ct,ht))st[Nt]=Ct,st[lt]=ht,Nt=lt;else break t}}return ct}function o(st,ct){var ht=st.sortIndex-ct.sortIndex;return ht!==0?ht:st.id-ct.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,E=null,A=3,w=!1,x=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(st){for(var ct=i(g);ct!==null;){if(ct.callback===null)s(g);else if(ct.startTime<=st)s(g),ct.sortIndex=ct.expirationTime,t(m,ct);else break;ct=i(g)}}function rt(st){if(N=!1,$(st),!x)if(i(m)!==null)x=!0,se();else{var ct=i(g);ct!==null&&de(rt,ct.startTime-st)}}var J=!1,at=-1,M=5,C=-1;function R(){return!(e.unstable_now()-C<M)}function V(){if(J){var st=e.unstable_now();C=st;var ct=!0;try{t:{x=!1,N&&(N=!1,k(at),at=-1),w=!0;var ht=A;try{e:{for($(st),E=i(m);E!==null&&!(E.expirationTime>st&&R());){var Nt=E.callback;if(typeof Nt=="function"){E.callback=null,A=E.priorityLevel;var P=Nt(E.expirationTime<=st);if(st=e.unstable_now(),typeof P=="function"){E.callback=P,$(st),ct=!0;break e}E===i(m)&&s(m),$(st)}else s(m);E=i(m)}if(E!==null)ct=!0;else{var et=i(g);et!==null&&de(rt,et.startTime-st),ct=!1}}break t}finally{E=null,A=ht,w=!1}ct=void 0}}finally{ct?L():J=!1}}}var L;if(typeof F=="function")L=function(){F(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,I=j.port2;j.port1.onmessage=V,L=function(){I.postMessage(null)}}else L=function(){O(V,0)};function se(){J||(J=!0,L())}function de(st,ct){at=O(function(){st(e.unstable_now())},ct)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(st){st.callback=null},e.unstable_continueExecution=function(){x||w||(x=!0,se())},e.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<st?Math.floor(1e3/st):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return i(m)},e.unstable_next=function(st){switch(A){case 1:case 2:case 3:var ct=3;break;default:ct=A}var ht=A;A=ct;try{return st()}finally{A=ht}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(st,ct){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var ht=A;A=st;try{return ct()}finally{A=ht}},e.unstable_scheduleCallback=function(st,ct,ht){var Nt=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Nt+ht:Nt):ht=Nt,st){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ht+P,st={id:v++,callback:ct,priorityLevel:st,startTime:ht,expirationTime:P,sortIndex:-1},ht>Nt?(st.sortIndex=ht,t(g,st),i(m)===null&&st===i(g)&&(N?(k(at),at=-1):N=!0,de(rt,ht-Nt))):(st.sortIndex=P,t(m,st),x||w||(x=!0,se())),st},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(st){var ct=A;return function(){var ht=A;A=ct;try{return st.apply(this,arguments)}finally{A=ht}}}}(um)),um}var e_;function mR(){return e_||(e_=1,lm.exports=dR()),lm.exports}var cm={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function pR(){if(n_)return Ze;n_=1;var e=Ap();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},Ze.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},Ze.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Ze.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Ze.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:w}):v==="script"&&s.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Ze.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Ze.requestFormReset=function(m){s.d.r(m)},Ze.unstable_batchedUpdates=function(m,g){return m(g)},Ze.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.0.0",Ze}var i_;function gR(){if(i_)return cm.exports;i_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cm.exports=pR(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function yR(){if(r_)return Ol;r_=1;var e=mR(),t=Ap(),i=gR();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),rt=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function at(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case w:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case x:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:C(n.type)||"Memo";case F:r=n._payload,n=n._init;try{return C(n(r))}catch{}}return null}var R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,L,j;function I(n){if(L===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+n+j}var se=!1;function de(n,r){if(!n||se)return"";se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var K=Y}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(Y){K=Y}n.call(tt.prototype)}}else{try{throw Error()}catch(Y){K=Y}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var D=T.split(`
`),B=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var X=`
`+D[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{se=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function st(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=de(n.type,!1),n;case 11:return n=de(n.type.render,!1),n;case 1:return n=de(n.type,!0),n;default:return""}}function ct(n){try{var r="";do r+=st(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ht(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Nt(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function P(n){if(ht(n)!==n)throw Error(s(188))}function et(n){var r=n.alternate;if(!r){if(r=ht(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return P(f),n;if(p===l)return P(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,l=p;break}if(S===l){T=!0,l=f,a=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===a){T=!0,a=p,l=f;break}if(S===l){T=!0,l=p,a=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function mt(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=mt(n),r!==null)return r;n=n.sibling}return null}var ot=Array.isArray,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct={pending:!1,data:null,method:null,action:null},wt=[],ve=-1;function zt(n){return{current:n}}function ae(n){0>ve||(n.current=wt[ve],wt[ve]=null,ve--)}function Kt(n,r){ve++,wt[ve]=n.current,n.current=r}var rn=zt(null),Ri=zt(null),wn=zt(null),ur=zt(null);function cr(n,r){switch(Kt(wn,r),Kt(Ri,n),Kt(rn,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?w0(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=w0(n),r=R0(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ae(rn),Kt(rn,r)}function Ci(){ae(rn),ae(Ri),ae(wn)}function Co(n){n.memoizedState!==null&&Kt(ur,n);var r=rn.current,a=R0(r,n.type);r!==a&&(Kt(Ri,n),Kt(rn,a))}function aa(n){Ri.current===n&&(ae(rn),ae(Ri)),ur.current===n&&(ae(ur),Cl._currentValue=Ct)}var oa=Object.prototype.hasOwnProperty,fs=e.unstable_scheduleCallback,la=e.unstable_cancelCallback,of=e.unstable_shouldYield,Do=e.unstable_requestPaint,hn=e.unstable_now,Du=e.unstable_getCurrentPriorityLevel,be=e.unstable_ImmediatePriority,Oe=e.unstable_UserBlockingPriority,Di=e.unstable_NormalPriority,xu=e.unstable_LowPriority,xo=e.unstable_IdlePriority,lf=e.log,ds=e.unstable_setDisableYieldValue,hr=null,Ye=null;function Vo(n){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(hr,n,void 0,(n.current.flags&128)===128)}catch{}}function ti(n){if(typeof lf=="function"&&ds(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(hr,n)}catch{}}var sn=Math.clz32?Math.clz32:Iu,Io=Math.log,Vu=Math.LN2;function Iu(n){return n>>>=0,n===0?32:31-(Io(n)/Vu|0)|0}var ei=128,fr=4194304;function Kn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Rn(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,p=n.pingedLanes,T=n.warmLanes;n=n.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~f,a!==0?l=Kn(a):(p&=S,p!==0?l=Kn(p):n||(T=S&~T,T!==0&&(l=Kn(T))))):(S=a&~f,S!==0?l=Kn(S):p!==0?l=Kn(p):n||(T=a&~T,T!==0&&(l=Kn(T)))),l===0?0:r!==0&&r!==l&&!(r&f)&&(f=l&-l,T=r&-r,f>=T||f===32&&(T&4194176)!==0)?r:l}function dr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ua(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var n=ei;return ei<<=1,!(ei&4194176)&&(ei=128),n}function mr(){var n=fr;return fr<<=1,!(fr&62914560)&&(fr=4194304),n}function ca(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function me(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Mu(n,r,a,l,f,p){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,B=n.hiddenUpdates;for(a=T&~a;0<a;){var X=31-sn(a),tt=1<<X;S[X]=0,D[X]=-1;var K=B[X];if(K!==null)for(B[X]=null,X=0;X<K.length;X++){var Y=K[X];Y!==null&&(Y.lane&=-536870913)}a&=~tt}l!==0&&pr(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~r))}function pr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-sn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function gr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-sn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Ou(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Nu(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:H0(n.type))}function yr(n,r){var a=lt.p;try{return lt.p=n,r()}finally{lt.p=a}}var ni=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ni,we="__reactProps$"+ni,xi="__reactContainer$"+ni,ms="__reactEvents$"+ni,ha="__reactListeners$"+ni,ii="__reactHandles$"+ni,Oo="__reactResources$"+ni,vr="__reactMarker$"+ni;function ps(n){delete n[Ne],delete n[we],delete n[ms],delete n[ha],delete n[ii]}function Qn(n){var r=n[Ne];if(r)return r;for(var a=n.parentNode;a;){if(r=a[xi]||a[Ne]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=x0(n);n!==null;){if(a=n[Ne])return a;n=x0(n)}return r}n=a,a=n.parentNode}return null}function Vi(n){if(n=n[Ne]||n[xi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function _r(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Tr(n){var r=n[Oo];return r||(r=n[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Jt(n){n[vr]=!0}var No=new Set,fa={};function gn(n,r){fn(n,r),fn(n+"Capture",r)}function fn(n,r){for(fa[n]=r,n=0;n<r.length;n++)No.add(r[n])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},Lo={};function Pu(n){return oa.call(Lo,n)?!0:oa.call(Po,n)?!1:uf.test(n)?Lo[n]=!0:(Po[n]=!0,!1)}function Er(n,r,a){if(Pu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Ar(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Cn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cf(n){var r=Lu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function gs(n){n._valueTracker||(n._valueTracker=cf(n))}function Uo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Lu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function da(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ii=/[\n"\\]/g;function oe(n){return n.replace(Ii,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sr(n,r,a,l,f,p,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+an(r)):n.value!==""+an(r)&&(n.value=""+an(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?ma(n,T,an(r)):a!=null?ma(n,T,an(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+an(S):n.removeAttribute("name")}function ys(n,r,a,l,f,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function ma(n,r,a){r==="number"&&da(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function jt(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function vs(n,r,a){if(r!=null&&(r=""+an(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+an(a):""}function br(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Dn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var hf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||hf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Uu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ko(n,f,l)}else for(var p in r)r.hasOwnProperty(p)&&ko(n,p,r[p])}function Bo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(n){return df.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xn=null;function pa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mi=null,Oi=null;function Ni(n){var r=Vi(n);if(r&&(n=r.stateNode)){var a=n[we]||null;t:switch(n=r.stateNode,r.type){case"input":if(Sr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+oe(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[we]||null;if(!f)throw Error(s(90));Sr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Uo(l)}break t;case"textarea":vs(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&jt(n,!!a.multiple,r,!1)}}}var zo=!1;function ku(n,r,a){if(zo)return n(r,a);zo=!0;try{var l=n(r);return l}finally{if(zo=!1,(Mi!==null||Oi!==null)&&(xc(),Mi&&(r=Mi,n=Oi,Oi=Mi=null,Ni(r),n)))for(r=0;r<n.length;r++)Ni(n[r])}}function _s(n,r){var a=n.stateNode;if(a===null)return null;var l=a[we]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!1;if(yn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Vn=!1}var si=null,wr=null,Pi=null;function jo(){if(Pi)return Pi;var n,r=wr,a=r.length,l,f="value"in si?si.value:si.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&r[a-l]===f[p-l];l++);return Pi=f.slice(n,1<l?1-l:void 0)}function ai(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function qo(){return!1}function Pe(n){function r(a,l,f,p,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?oi:qo,this.isPropagationStopped=qo,this}return V(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Pe(Ht),Es=V({},Ht,{view:0,detail:0}),Bu=Pe(Es),ya,va,li,As=V({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==li&&(li&&n.type==="mousemove"?(ya=n.screenX-li.screenX,va=n.screenY-li.screenY):va=ya=0,li=n),ya)},movementY:function(n){return"movementY"in n?n.movementY:va}}),In=Pe(As),zu=V({},As,{dataTransfer:0}),mf=Pe(zu),Ss=V({},Es,{relatedTarget:0}),_a=Pe(Ss),Fo=V({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Pe(Fo),ju=V({},Ht,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ea=Pe(ju),pf=V({},Ht,{data:0}),Ho=Pe(pf),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Fu[n])?!!r[n]:!1}function ws(){return Go}var Hu=V({},Es,{key:function(n){if(n.key){var r=bs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ai(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(n){return n.type==="keypress"?ai(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ai(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Aa=Pe(Hu),Gu=V({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Pe(Gu),Li=V({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Ku=Pe(Li),Qu=V({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),$u=Pe(Qu),Yu=V({},As,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=Pe(Yu),on=V({},Ht,{newState:0,oldState:0}),Xu=Pe(on),Zu=[9,13,27,32],ui=yn&&"CompositionEvent"in window,h=null;yn&&"documentMode"in document&&(h=document.documentMode);var y=yn&&"TextEvent"in window&&!h,_=yn&&(!ui||h&&8<h&&11>=h),b=" ",q=!1;function Q(n,r){switch(n){case"keyup":return Zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pt=!1;function Re(n,r){switch(n){case"compositionend":return it(r);case"keypress":return r.which!==32?null:(q=!0,b);case"textInput":return n=r.data,n===b&&q?null:n;default:return null}}function Lt(n,r){if(Pt)return n==="compositionend"||!ui&&Q(n,r)?(n=jo(),Pi=wr=si=null,Pt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Le[n.type]:r==="textarea"}function Ui(n,r,a,l){Mi?Oi?Oi.push(l):Oi=[l]:Mi=l,r=Nc(r,"onChange"),0<r.length&&(a=new ga("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var je=null,ci=null;function Qo(n){T0(n,0)}function Wu(n){var r=_r(n);if(Uo(r))return n}function Yg(n,r){if(n==="change")return r}var Xg=!1;if(yn){var gf;if(yn){var yf="oninput"in document;if(!yf){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),yf=typeof Zg.oninput=="function"}gf=yf}else gf=!1;Xg=gf&&(!document.documentMode||9<document.documentMode)}function Wg(){je&&(je.detachEvent("onpropertychange",Jg),ci=je=null)}function Jg(n){if(n.propertyName==="value"&&Wu(ci)){var r=[];Ui(r,ci,n,pa(n)),ku(Qo,r)}}function zw(n,r,a){n==="focusin"?(Wg(),je=r,ci=a,je.attachEvent("onpropertychange",Jg)):n==="focusout"&&Wg()}function jw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wu(ci)}function qw(n,r){if(n==="click")return Wu(r)}function Fw(n,r){if(n==="input"||n==="change")return Wu(r)}function Hw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vn=typeof Object.is=="function"?Object.is:Hw;function $o(n,r){if(vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!oa.call(r,f)||!vn(n[f],r[f]))return!1}return!0}function ty(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ey(n,r){var a=ty(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ty(a)}}function ny(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ny(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function iy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=da(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=da(n.document)}return r}function vf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Gw(n,r){var a=iy(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&ny(r.ownerDocument.documentElement,r)){if(l!==null&&vf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,p=Math.min(l.start,f);l=l.end===void 0?p:Math.min(l.end,f),!a.extend&&p>l&&(f=l,l=p,p=f),f=ey(r,p);var T=ey(r,l);f&&T&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),p>l?(a.addRange(n),a.extend(T.node,T.offset)):(n.setEnd(T.node,T.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Kw=yn&&"documentMode"in document&&11>=document.documentMode,ba=null,_f=null,Yo=null,Tf=!1;function ry(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||ba==null||ba!==da(l)||(l=ba,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&$o(Yo,l)||(Yo=l,l=Nc(_f,"onSelect"),0<l.length&&(r=new ga("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=ba)))}function Rs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var wa={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Ef={},sy={};yn&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Cs(n){if(Ef[n])return Ef[n];if(!wa[n])return n;var r=wa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in sy)return Ef[n]=r[a];return n}var ay=Cs("animationend"),oy=Cs("animationiteration"),ly=Cs("animationstart"),Qw=Cs("transitionrun"),$w=Cs("transitionstart"),Yw=Cs("transitioncancel"),uy=Cs("transitionend"),cy=new Map,hy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(n,r){cy.set(n,r),gn(r,[n])}var Mn=[],Ra=0,Af=0;function Ju(){for(var n=Ra,r=Af=Ra=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var p=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&fy(a,f,p)}}function tc(n,r,a,l){Mn[Ra++]=n,Mn[Ra++]=r,Mn[Ra++]=a,Mn[Ra++]=l,Af|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Sf(n,r,a,l){return tc(n,r,a,l),ec(n)}function Rr(n,r){return tc(n,null,null,r),ec(n)}function fy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&r!==null&&n.tag===3&&(p=n.stateNode,f=31-sn(a),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[r]:n.push(r),r.lane=a|536870912)}function ec(n){if(50<Tl)throw Tl=0,xd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ca={},dy=new WeakMap;function On(n,r){if(typeof n=="object"&&n!==null){var a=dy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ct(r)},dy.set(n,r),r)}return{value:n,source:r,stack:ct(r)}}var Da=[],xa=0,nc=null,ic=0,Nn=[],Pn=0,Ds=null,ki=1,Bi="";function xs(n,r){Da[xa++]=ic,Da[xa++]=nc,nc=n,ic=r}function my(n,r,a){Nn[Pn++]=ki,Nn[Pn++]=Bi,Nn[Pn++]=Ds,Ds=n;var l=ki;n=Bi;var f=32-sn(l)-1;l&=~(1<<f),a+=1;var p=32-sn(r)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,ki=1<<32-sn(r)+f|a<<f|l,Bi=p+n}else ki=1<<p|a<<f|l,Bi=n}function bf(n){n.return!==null&&(xs(n,1),my(n,1,0))}function wf(n){for(;n===nc;)nc=Da[--xa],Da[xa]=null,ic=Da[--xa],Da[xa]=null;for(;n===Ds;)Ds=Nn[--Pn],Nn[Pn]=null,Bi=Nn[--Pn],Nn[Pn]=null,ki=Nn[--Pn],Nn[Pn]=null}var ln=null,qe=null,qt=!1,Yn=null,hi=!1,Rf=Error(s(519));function Vs(n){var r=Error(s(418,""));throw Wo(On(r,n)),Rf}function py(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ne]=n,r[we]=l,a){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)Mt(Al[a],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),ys(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gs(r);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),br(r,l.value,l.defaultValue,l.children),gs(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||b0(r.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),l.onScroll!=null&&Mt("scroll",r),l.onScrollEnd!=null&&Mt("scrollend",r),l.onClick!=null&&(r.onclick=Pc),r=!0):r=!1,r||Vs(n)}function gy(n){for(ln=n.return;ln;)switch(ln.tag){case 3:case 27:hi=!0;return;case 5:case 13:hi=!1;return;default:ln=ln.return}}function Xo(n){if(n!==ln)return!1;if(!qt)return gy(n),qt=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Kd(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&qe&&Vs(n),gy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){qe=Zn(n.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}qe=null}}else qe=ln?Zn(n.stateNode.nextSibling):null;return!0}function Zo(){qe=ln=null,qt=!1}function Wo(n){Yn===null?Yn=[n]:Yn.push(n)}var Jo=Error(s(460)),yy=Error(s(474)),Cf={then:function(){}};function vy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function rc(){}function _y(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(rc,rc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Jo?Error(s(483)):n;default:if(typeof r.status=="string")r.then(rc,rc);else{if(n=Xt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Jo?Error(s(483)):n}throw tl=r,Jo}}var tl=null;function Ty(){if(tl===null)throw Error(s(459));var n=tl;return tl=null,n}var Va=null,el=0;function sc(n){var r=el;return el+=1,Va===null&&(Va=[]),_y(Va,n,r)}function nl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ac(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ey(n){var r=n._init;return r(n._payload)}function Ay(n){function r(z,U){if(n){var G=z.deletions;G===null?(z.deletions=[U],z.flags|=16):G.push(U)}}function a(z,U){if(!n)return null;for(;U!==null;)r(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(z,U){return z=kr(z,U),z.index=0,z.sibling=null,z}function p(z,U,G){return z.index=G,n?(G=z.alternate,G!==null?(G=G.index,G<U?(z.flags|=33554434,U):G):(z.flags|=33554434,U)):(z.flags|=1048576,U)}function T(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function S(z,U,G,Z){return U===null||U.tag!==6?(U=Ed(G,z.mode,Z),U.return=z,U):(U=f(U,G),U.return=z,U)}function D(z,U,G,Z){var ft=G.type;return ft===m?X(z,U,G.props.children,Z,G.key):U!==null&&(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===F&&Ey(ft)===U.type)?(U=f(U,G.props),nl(U,G),U.return=z,U):(U=bc(G.type,G.key,G.props,null,z.mode,Z),nl(U,G),U.return=z,U)}function B(z,U,G,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Ad(G,z.mode,Z),U.return=z,U):(U=f(U,G.children||[]),U.return=z,U)}function X(z,U,G,Z,ft){return U===null||U.tag!==7?(U=zs(G,z.mode,Z,ft),U.return=z,U):(U=f(U,G),U.return=z,U)}function tt(z,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ed(""+U,z.mode,G),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return G=bc(U.type,U.key,U.props,null,z.mode,G),nl(G,U),G.return=z,G;case d:return U=Ad(U,z.mode,G),U.return=z,U;case F:var Z=U._init;return U=Z(U._payload),tt(z,U,G)}if(ot(U)||at(U))return U=zs(U,z.mode,G,null),U.return=z,U;if(typeof U.then=="function")return tt(z,sc(U),G);if(U.$$typeof===w)return tt(z,Ec(z,U),G);ac(z,U)}return null}function K(z,U,G,Z){var ft=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ft!==null?null:S(z,U,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===ft?D(z,U,G,Z):null;case d:return G.key===ft?B(z,U,G,Z):null;case F:return ft=G._init,G=ft(G._payload),K(z,U,G,Z)}if(ot(G)||at(G))return ft!==null?null:X(z,U,G,Z,null);if(typeof G.then=="function")return K(z,U,sc(G),Z);if(G.$$typeof===w)return K(z,U,Ec(z,G),Z);ac(z,G)}return null}function Y(z,U,G,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(G)||null,S(U,z,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case c:return z=z.get(Z.key===null?G:Z.key)||null,D(U,z,Z,ft);case d:return z=z.get(Z.key===null?G:Z.key)||null,B(U,z,Z,ft);case F:var xt=Z._init;return Z=xt(Z._payload),Y(z,U,G,Z,ft)}if(ot(Z)||at(Z))return z=z.get(G)||null,X(U,z,Z,ft,null);if(typeof Z.then=="function")return Y(z,U,G,sc(Z),ft);if(Z.$$typeof===w)return Y(z,U,G,Ec(U,Z),ft);ac(U,Z)}return null}function dt(z,U,G,Z){for(var ft=null,xt=null,pt=U,_t=U=0,Be=null;pt!==null&&_t<G.length;_t++){pt.index>_t?(Be=pt,pt=null):Be=pt.sibling;var Ft=K(z,pt,G[_t],Z);if(Ft===null){pt===null&&(pt=Be);break}n&&pt&&Ft.alternate===null&&r(z,pt),U=p(Ft,U,_t),xt===null?ft=Ft:xt.sibling=Ft,xt=Ft,pt=Be}if(_t===G.length)return a(z,pt),qt&&xs(z,_t),ft;if(pt===null){for(;_t<G.length;_t++)pt=tt(z,G[_t],Z),pt!==null&&(U=p(pt,U,_t),xt===null?ft=pt:xt.sibling=pt,xt=pt);return qt&&xs(z,_t),ft}for(pt=l(pt);_t<G.length;_t++)Be=Y(pt,z,_t,G[_t],Z),Be!==null&&(n&&Be.alternate!==null&&pt.delete(Be.key===null?_t:Be.key),U=p(Be,U,_t),xt===null?ft=Be:xt.sibling=Be,xt=Be);return n&&pt.forEach(function(Gr){return r(z,Gr)}),qt&&xs(z,_t),ft}function St(z,U,G,Z){if(G==null)throw Error(s(151));for(var ft=null,xt=null,pt=U,_t=U=0,Be=null,Ft=G.next();pt!==null&&!Ft.done;_t++,Ft=G.next()){pt.index>_t?(Be=pt,pt=null):Be=pt.sibling;var Gr=K(z,pt,Ft.value,Z);if(Gr===null){pt===null&&(pt=Be);break}n&&pt&&Gr.alternate===null&&r(z,pt),U=p(Gr,U,_t),xt===null?ft=Gr:xt.sibling=Gr,xt=Gr,pt=Be}if(Ft.done)return a(z,pt),qt&&xs(z,_t),ft;if(pt===null){for(;!Ft.done;_t++,Ft=G.next())Ft=tt(z,Ft.value,Z),Ft!==null&&(U=p(Ft,U,_t),xt===null?ft=Ft:xt.sibling=Ft,xt=Ft);return qt&&xs(z,_t),ft}for(pt=l(pt);!Ft.done;_t++,Ft=G.next())Ft=Y(pt,z,_t,Ft.value,Z),Ft!==null&&(n&&Ft.alternate!==null&&pt.delete(Ft.key===null?_t:Ft.key),U=p(Ft,U,_t),xt===null?ft=Ft:xt.sibling=Ft,xt=Ft);return n&&pt.forEach(function(uR){return r(z,uR)}),qt&&xs(z,_t),ft}function ce(z,U,G,Z){if(typeof G=="object"&&G!==null&&G.type===m&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case c:t:{for(var ft=G.key;U!==null;){if(U.key===ft){if(ft=G.type,ft===m){if(U.tag===7){a(z,U.sibling),Z=f(U,G.props.children),Z.return=z,z=Z;break t}}else if(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===F&&Ey(ft)===U.type){a(z,U.sibling),Z=f(U,G.props),nl(Z,G),Z.return=z,z=Z;break t}a(z,U);break}else r(z,U);U=U.sibling}G.type===m?(Z=zs(G.props.children,z.mode,Z,G.key),Z.return=z,z=Z):(Z=bc(G.type,G.key,G.props,null,z.mode,Z),nl(Z,G),Z.return=z,z=Z)}return T(z);case d:t:{for(ft=G.key;U!==null;){if(U.key===ft)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){a(z,U.sibling),Z=f(U,G.children||[]),Z.return=z,z=Z;break t}else{a(z,U);break}else r(z,U);U=U.sibling}Z=Ad(G,z.mode,Z),Z.return=z,z=Z}return T(z);case F:return ft=G._init,G=ft(G._payload),ce(z,U,G,Z)}if(ot(G))return dt(z,U,G,Z);if(at(G)){if(ft=at(G),typeof ft!="function")throw Error(s(150));return G=ft.call(G),St(z,U,G,Z)}if(typeof G.then=="function")return ce(z,U,sc(G),Z);if(G.$$typeof===w)return ce(z,U,Ec(z,G),Z);ac(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(a(z,U.sibling),Z=f(U,G),Z.return=z,z=Z):(a(z,U),Z=Ed(G,z.mode,Z),Z.return=z,z=Z),T(z)):a(z,U)}return function(z,U,G,Z){try{el=0;var ft=ce(z,U,G,Z);return Va=null,ft}catch(pt){if(pt===Jo)throw pt;var xt=Bn(29,pt,null,z.mode);return xt.lanes=Z,xt.return=z,xt}finally{}}}var Is=Ay(!0),Sy=Ay(!1),Ia=zt(null),oc=zt(0);function by(n,r){n=Xi,Kt(oc,n),Kt(Ia,r),Xi=n|r.baseLanes}function Df(){Kt(oc,Xi),Kt(Ia,Ia.current)}function xf(){Xi=oc.current,ae(Ia),ae(oc)}var Ln=zt(null),fi=null;function Cr(n){var r=n.alternate;Kt(De,De.current&1),Kt(Ln,n),fi===null&&(r===null||Ia.current!==null||r.memoizedState!==null)&&(fi=n)}function wy(n){if(n.tag===22){if(Kt(De,De.current),Kt(Ln,n),fi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(fi=n)}}else Dr()}function Dr(){Kt(De,De.current),Kt(Ln,Ln.current)}function zi(n){ae(Ln),fi===n&&(fi=null),ae(De)}var De=zt(0);function lc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Xw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Zw=e.unstable_scheduleCallback,Ww=e.unstable_NormalPriority,xe={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new Xw,data:new Map,refCount:0}}function il(n){n.refCount--,n.refCount===0&&Zw(Ww,function(){n.controller.abort()})}var rl=null,If=0,Ma=0,Oa=null;function Jw(n,r){if(rl===null){var a=rl=[];If=0,Ma=Ud(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return If++,r.then(Ry,Ry),r}function Ry(){if(--If===0&&rl!==null){Oa!==null&&(Oa.status="fulfilled");var n=rl;rl=null,Ma=0,Oa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function t1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Cy=R.S;R.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Jw(n,r),Cy!==null&&Cy(n,r)};var Ms=zt(null);function Mf(){var n=Ms.current;return n!==null?n:Xt.pooledCache}function uc(n,r){r===null?Kt(Ms,Ms.current):Kt(Ms,r.pool)}function Dy(){var n=Mf();return n===null?null:{parent:xe._currentValue,pool:n}}var xr=0,Dt=null,Qt=null,_e=null,cc=!1,Na=!1,Os=!1,hc=0,sl=0,Pa=null,e1=0;function pe(){throw Error(s(321))}function Of(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!vn(n[a],r[a]))return!1;return!0}function Nf(n,r,a,l,f,p){return xr=p,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?Ns:Vr,Os=!1,p=a(l,f),Os=!1,Na&&(p=Vy(r,a,l,f)),xy(n),p}function xy(n){R.H=di;var r=Qt!==null&&Qt.next!==null;if(xr=0,_e=Qt=Dt=null,cc=!1,sl=0,Pa=null,r)throw Error(s(300));n===null||Ue||(n=n.dependencies,n!==null&&Tc(n)&&(Ue=!0))}function Vy(n,r,a,l){Dt=n;var f=0;do{if(Na&&(Pa=null),sl=0,Na=!1,25<=f)throw Error(s(301));if(f+=1,_e=Qt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}R.H=Ps,p=r(a,l)}while(Na);return p}function n1(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?al(r):r,n=n.useState()[0],(Qt!==null?Qt.memoizedState:null)!==n&&(Dt.flags|=1024),r}function Pf(){var n=hc!==0;return hc=0,n}function Lf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Uf(n){if(cc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}cc=!1}xr=0,_e=Qt=Dt=null,Na=!1,sl=hc=0,Pa=null}function dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Dt.memoizedState=_e=n:_e=_e.next=n,_e}function Te(){if(Qt===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=Qt.next;var r=_e===null?Dt.memoizedState:_e.next;if(r!==null)_e=r,Qt=n;else{if(n===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Qt=n,n={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},_e===null?Dt.memoizedState=_e=n:_e=_e.next=n}return _e}var fc;fc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(n){var r=sl;return sl+=1,Pa===null&&(Pa=[]),n=_y(Pa,n,r),r=Dt,(_e===null?r.memoizedState:_e.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?Ns:Vr),n}function dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return al(n);if(n.$$typeof===w)return Xe(n)}throw Error(s(438,String(n)))}function kf(n){var r=null,a=Dt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=fc(),Dt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=rt;return r.index++,a}function ji(n,r){return typeof r=="function"?r(n):r}function mc(n){var r=Te();return Bf(r,Qt,n)}function Bf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var S=T=null,D=null,B=r,X=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(Ut&tt)===tt:(xr&tt)===tt){var K=B.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===Ma&&(X=!0);else if((xr&K)===K){B=B.next,K===Ma&&(X=!0);continue}else tt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=tt,T=p):D=D.next=tt,Dt.lanes|=K,Br|=K;tt=B.action,Os&&a(p,tt),p=B.hasEagerState?B.eagerState:a(p,tt)}else K={lane:tt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=K,T=p):D=D.next=K,Dt.lanes|=tt,Br|=tt;B=B.next}while(B!==null&&B!==r);if(D===null?T=p:D.next=S,!vn(p,n.memoizedState)&&(Ue=!0,X&&(a=Oa,a!==null)))throw a;n.memoizedState=p,n.baseState=T,n.baseQueue=D,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function zf(n){var r=Te(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do p=n(p,T.action),T=T.next;while(T!==f);vn(p,r.memoizedState)||(Ue=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function Iy(n,r,a){var l=Dt,f=Te(),p=qt;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!vn((Qt||f).memoizedState,a);if(T&&(f.memoizedState=a,Ue=!0),f=f.queue,Ff(Ny.bind(null,l,f,n),[n]),f.getSnapshot!==r||T||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,La(9,Oy.bind(null,l,f,a,r),{destroy:void 0},null),Xt===null)throw Error(s(349));p||xr&60||My(l,r,a)}return a}function My(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Dt.updateQueue,r===null?(r=fc(),Dt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Oy(n,r,a,l){r.value=a,r.getSnapshot=l,Py(r)&&Ly(n)}function Ny(n,r,a){return a(function(){Py(r)&&Ly(n)})}function Py(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!vn(n,a)}catch{return!0}}function Ly(n){var r=Rr(n,2);r!==null&&un(r,n,2)}function jf(n){var r=dn();if(typeof n=="function"){var a=n;if(n=a(),Os){ti(!0);try{a()}finally{ti(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},r}function Uy(n,r,a,l){return n.baseState=a,Bf(n,Qt,typeof l=="function"?l:ji)}function i1(n,r,a,l,f){if(yc(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};R.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,ky(r,p)):(p.next=a.next,r.pending=a.next=p)}}function ky(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var p=R.T,T={};R.T=T;try{var S=a(f,l),D=R.S;D!==null&&D(T,S),By(n,r,S)}catch(B){qf(n,r,B)}finally{R.T=p}}else try{p=a(f,l),By(n,r,p)}catch(B){qf(n,r,B)}}function By(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zy(n,r,l)},function(l){return qf(n,r,l)}):zy(n,r,a)}function zy(n,r,a){r.status="fulfilled",r.value=a,jy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,ky(n,a)))}function qf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,jy(r),r=r.next;while(r!==l)}n.action=null}function jy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function qy(n,r){return r}function Fy(n,r){if(qt){var a=Xt.formState;if(a!==null){t:{var l=Dt;if(qt){if(qe){e:{for(var f=qe,p=hi;f.nodeType!==8;){if(!p){f=null;break e}if(f=Zn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){qe=Zn(f.nextSibling),l=f.data==="F!";break t}}Vs(l)}l=!1}l&&(r=a[0])}}return a=dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:r},a.queue=l,a=ov.bind(null,Dt,l),l.dispatch=a,l=jf(!1),p=$f.bind(null,Dt,!1,l.queue),l=dn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=i1.bind(null,Dt,f,p,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Hy(n){var r=Te();return Gy(r,Qt,n)}function Gy(n,r,a){r=Bf(n,r,qy)[0],n=mc(ji)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?al(r):r;var l=Te(),f=l.queue,p=f.dispatch;return a!==l.memoizedState&&(Dt.flags|=2048,La(9,r1.bind(null,f,a),{destroy:void 0},null)),[r,p,n]}function r1(n,r){n.action=r}function Ky(n){var r=Te(),a=Qt;if(a!==null)return Gy(r,a,n);Te(),r=r.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function La(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Dt.updateQueue,r===null&&(r=fc(),Dt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Qy(){return Te().memoizedState}function pc(n,r,a,l){var f=dn();Dt.flags|=n,f.memoizedState=La(1|r,a,{destroy:void 0},l===void 0?null:l)}function gc(n,r,a,l){var f=Te();l=l===void 0?null:l;var p=f.memoizedState.inst;Qt!==null&&l!==null&&Of(l,Qt.memoizedState.deps)?f.memoizedState=La(r,a,p,l):(Dt.flags|=n,f.memoizedState=La(1|r,a,p,l))}function $y(n,r){pc(8390656,8,n,r)}function Ff(n,r){gc(2048,8,n,r)}function Yy(n,r){return gc(4,2,n,r)}function Xy(n,r){return gc(4,4,n,r)}function Zy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Wy(n,r,a){a=a!=null?a.concat([n]):null,gc(4,4,Zy.bind(null,r,n),a)}function Hf(){}function Jy(n,r){var a=Te();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Of(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function tv(n,r){var a=Te();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Of(r,l[1]))return l[0];if(l=n(),Os){ti(!0);try{n()}finally{ti(!1)}}return a.memoizedState=[l,r],l}function Gf(n,r,a){return a===void 0||xr&1073741824?n.memoizedState=r:(n.memoizedState=a,n=n0(),Dt.lanes|=n,Br|=n,a)}function ev(n,r,a,l){return vn(a,r)?a:Ia.current!==null?(n=Gf(n,a,l),vn(n,r)||(Ue=!0),n):xr&42?(n=n0(),Dt.lanes|=n,Br|=n,r):(Ue=!0,n.memoizedState=a)}function nv(n,r,a,l,f){var p=lt.p;lt.p=p!==0&&8>p?p:8;var T=R.T,S={};R.T=S,$f(n,!1,r,a);try{var D=f(),B=R.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=t1(D,l);ol(n,r,X,An(n))}else ol(n,r,l,An(n))}catch(tt){ol(n,r,{then:function(){},status:"rejected",reason:tt},An())}finally{lt.p=p,R.T=T}}function s1(){}function Kf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=iv(n).queue;nv(n,f,r,Ct,a===null?s1:function(){return rv(n),a(l)})}function iv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ct,baseState:Ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Ct},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function rv(n){var r=iv(n).next.queue;ol(n,r,{},An())}function Qf(){return Xe(Cl)}function sv(){return Te().memoizedState}function av(){return Te().memoizedState}function a1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();n=Or(a);var l=Nr(r,n,a);l!==null&&(un(l,r,a),cl(l,r,a)),r={cache:Vf()},n.payload=r;return}r=r.return}}function o1(n,r,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yc(n)?lv(r,a):(a=Sf(n,r,a,l),a!==null&&(un(a,n,l),uv(a,r,l)))}function ov(n,r,a){var l=An();ol(n,r,a,l)}function ol(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(n))lv(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,S=p(T,a);if(f.hasEagerState=!0,f.eagerState=S,vn(S,T))return tc(n,r,f,0),Xt===null&&Ju(),!1}catch{}finally{}if(a=Sf(n,r,f,l),a!==null)return un(a,n,l),uv(a,r,l),!0}return!1}function $f(n,r,a,l){if(l={lane:2,revertLane:Ud(),action:l,hasEagerState:!1,eagerState:null,next:null},yc(n)){if(r)throw Error(s(479))}else r=Sf(n,a,l,2),r!==null&&un(r,n,2)}function yc(n){var r=n.alternate;return n===Dt||r!==null&&r===Dt}function lv(n,r){Na=cc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function uv(n,r,a){if(a&4194176){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,gr(n,a)}}var di={readContext:Xe,use:dc,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe};di.useCacheRefresh=pe,di.useMemoCache=pe,di.useHostTransitionStatus=pe,di.useFormState=pe,di.useActionState=pe,di.useOptimistic=pe;var Ns={readContext:Xe,use:dc,useCallback:function(n,r){return dn().memoizedState=[n,r===void 0?null:r],n},useContext:Xe,useEffect:$y,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,pc(4194308,4,Zy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return pc(4194308,4,n,r)},useInsertionEffect:function(n,r){pc(4,2,n,r)},useMemo:function(n,r){var a=dn();r=r===void 0?null:r;var l=n();if(Os){ti(!0);try{n()}finally{ti(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=dn();if(a!==void 0){var f=a(r);if(Os){ti(!0);try{a(r)}finally{ti(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=o1.bind(null,Dt,n),[l.memoizedState,n]},useRef:function(n){var r=dn();return n={current:n},r.memoizedState=n},useState:function(n){n=jf(n);var r=n.queue,a=ov.bind(null,Dt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(n,r){var a=dn();return Gf(a,n,r)},useTransition:function(){var n=jf(!1);return n=nv.bind(null,Dt,n.queue,!0,!1),dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Dt,f=dn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Xt===null)throw Error(s(349));Ut&60||My(l,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,$y(Ny.bind(null,l,p,n),[n]),l.flags|=2048,La(9,Oy.bind(null,l,p,a,r),{destroy:void 0},null),a},useId:function(){var n=dn(),r=Xt.identifierPrefix;if(qt){var a=Bi,l=ki;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=e1++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return dn().memoizedState=a1.bind(null,Dt)}};Ns.useMemoCache=kf,Ns.useHostTransitionStatus=Qf,Ns.useFormState=Fy,Ns.useActionState=Fy,Ns.useOptimistic=function(n){var r=dn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=$f.bind(null,Dt,!0,a),a.dispatch=r,[n,r]};var Vr={readContext:Xe,use:dc,useCallback:Jy,useContext:Xe,useEffect:Ff,useImperativeHandle:Wy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:tv,useReducer:mc,useRef:Qy,useState:function(){return mc(ji)},useDebugValue:Hf,useDeferredValue:function(n,r){var a=Te();return ev(a,Qt.memoizedState,n,r)},useTransition:function(){var n=mc(ji)[0],r=Te().memoizedState;return[typeof n=="boolean"?n:al(n),r]},useSyncExternalStore:Iy,useId:sv};Vr.useCacheRefresh=av,Vr.useMemoCache=kf,Vr.useHostTransitionStatus=Qf,Vr.useFormState=Hy,Vr.useActionState=Hy,Vr.useOptimistic=function(n,r){var a=Te();return Uy(a,Qt,n,r)};var Ps={readContext:Xe,use:dc,useCallback:Jy,useContext:Xe,useEffect:Ff,useImperativeHandle:Wy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:tv,useReducer:zf,useRef:Qy,useState:function(){return zf(ji)},useDebugValue:Hf,useDeferredValue:function(n,r){var a=Te();return Qt===null?Gf(a,n,r):ev(a,Qt.memoizedState,n,r)},useTransition:function(){var n=zf(ji)[0],r=Te().memoizedState;return[typeof n=="boolean"?n:al(n),r]},useSyncExternalStore:Iy,useId:sv};Ps.useCacheRefresh=av,Ps.useMemoCache=kf,Ps.useHostTransitionStatus=Qf,Ps.useFormState=Ky,Ps.useActionState=Ky,Ps.useOptimistic=function(n,r){var a=Te();return Qt!==null?Uy(a,Qt,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Yf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:V({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Xf={isMounted:function(n){return(n=n._reactInternals)?ht(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=An(),f=Or(l);f.payload=r,a!=null&&(f.callback=a),r=Nr(n,f,l),r!==null&&(un(r,n,l),cl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=An(),f=Or(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Nr(n,f,l),r!==null&&(un(r,n,l),cl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=An(),l=Or(a);l.tag=2,r!=null&&(l.callback=r),r=Nr(n,l,a),r!==null&&(un(r,n,a),cl(r,n,a))}};function cv(n,r,a,l,f,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!$o(a,l)||!$o(f,p):!0}function hv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Xf.enqueueReplaceState(r,r.state,null)}function Ls(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=V({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function fv(n){vc(n)}function dv(n){console.error(n)}function mv(n){vc(n)}function _c(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function pv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Zf(n,r,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(n,r)},a}function gv(n){return n=Or(n),n.tag=3,n}function yv(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){pv(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){pv(r,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function l1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ul(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return fi===null?Md():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Cf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nd(n,l,f)),!1;case 22:return a.flags|=65536,l===Cf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nd(n,l,f)),!1}throw Error(s(435,a.tag))}return Nd(n,l,f),Md(),!1}if(qt)return r=Ln.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Rf&&(n=Error(s(422),{cause:l}),Wo(On(n,a)))):(l!==Rf&&(r=Error(s(423),{cause:l}),Wo(On(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=On(l,a),f=Zf(n.stateNode,l,f),fd(n,f),ue!==4&&(ue=2)),!1;var p=Error(s(520),{cause:l});if(p=On(p,a),vl===null?vl=[p]:vl.push(p),ue!==4&&(ue=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Zf(a.stateNode,l,n),fd(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zr===null||!zr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=gv(f),yv(f,n,a,l),fd(a,f),!1}a=a.return}while(a!==null);return!1}var vv=Error(s(461)),Ue=!1;function Fe(n,r,a,l){r.child=n===null?Sy(r,null,a,l):Is(r,n.child,a,l)}function _v(n,r,a,l,f){a=a.render;var p=r.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return ks(r),l=Nf(n,r,a,T,p,f),S=Pf(),n!==null&&!Ue?(Lf(n,r,f),qi(n,r,f)):(qt&&S&&bf(r),r.flags|=1,Fe(n,r,l,f),r.child)}function Tv(n,r,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Td(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,Ev(n,r,p,l,f)):(n=bc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!ad(n,f)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(T,l)&&n.ref===r.ref)return qi(n,r,f)}return r.flags|=1,n=kr(p,l),n.ref=r.ref,n.return=r,r.child=n}function Ev(n,r,a,l,f){if(n!==null){var p=n.memoizedProps;if($o(p,l)&&n.ref===r.ref)if(Ue=!1,r.pendingProps=l=p,ad(n,f))n.flags&131072&&(Ue=!0);else return r.lanes=n.lanes,qi(n,r,f)}return Wf(n,r,a,l,f)}function Av(n,r,a){var l=r.pendingProps,f=l.children,p=(r.stateNode._pendingVisibility&2)!==0,T=n!==null?n.memoizedState:null;if(ll(n,r),l.mode==="hidden"||p){if(r.flags&128){if(l=T!==null?T.baseLanes|a:a,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return Sv(n,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&uc(r,T!==null?T.cachePool:null),T!==null?by(r,T):Df(),wy(r);else return r.lanes=r.childLanes=536870912,Sv(n,r,T!==null?T.baseLanes|a:a,a)}else T!==null?(uc(r,T.cachePool),by(r,T),Dr(),r.memoizedState=null):(n!==null&&uc(r,null),Df(),Dr());return Fe(n,r,f,a),r.child}function Sv(n,r,a,l){var f=Mf();return f=f===null?null:{parent:xe._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&uc(r,null),Df(),wy(r),n!==null&&ul(n,r,l,!0),null}function ll(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Wf(n,r,a,l,f){return ks(r),a=Nf(n,r,a,l,void 0,f),l=Pf(),n!==null&&!Ue?(Lf(n,r,f),qi(n,r,f)):(qt&&l&&bf(r),r.flags|=1,Fe(n,r,a,f),r.child)}function bv(n,r,a,l,f,p){return ks(r),r.updateQueue=null,a=Vy(r,l,a,f),xy(n),l=Pf(),n!==null&&!Ue?(Lf(n,r,p),qi(n,r,p)):(qt&&l&&bf(r),r.flags|=1,Fe(n,r,a,p),r.child)}function wv(n,r,a,l,f){if(ks(r),r.stateNode===null){var p=Ca,T=a.contextType;typeof T=="object"&&T!==null&&(p=Xe(T)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xf,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},cd(r),T=a.contextType,p.context=typeof T=="object"&&T!==null?Xe(T):Ca,p.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Yf(r,a,T,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Xf.enqueueReplaceState(p,p.state,null),fl(r,l,p,f),hl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){p=r.stateNode;var S=r.memoizedProps,D=Ls(a,S);p.props=D;var B=p.context,X=a.contextType;T=Ca,typeof X=="object"&&X!==null&&(T=Xe(X));var tt=a.getDerivedStateFromProps;X=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||B!==T)&&hv(r,p,l,T),Mr=!1;var K=r.memoizedState;p.state=K,fl(r,l,p,f),hl(),B=r.memoizedState,S||K!==B||Mr?(typeof tt=="function"&&(Yf(r,a,tt,l),B=r.memoizedState),(D=Mr||cv(r,a,D,l,K,B,T))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),p.props=l,p.state=B,p.context=T,l=D):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,hd(n,r),T=r.memoizedProps,X=Ls(a,T),p.props=X,tt=r.pendingProps,K=p.context,B=a.contextType,D=Ca,typeof B=="object"&&B!==null&&(D=Xe(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==tt||K!==D)&&hv(r,p,l,D),Mr=!1,K=r.memoizedState,p.state=K,fl(r,l,p,f),hl();var Y=r.memoizedState;T!==tt||K!==Y||Mr||n!==null&&n.dependencies!==null&&Tc(n.dependencies)?(typeof S=="function"&&(Yf(r,a,S,l),Y=r.memoizedState),(X=Mr||cv(r,a,X,l,K,Y,D)||n!==null&&n.dependencies!==null&&Tc(n.dependencies))?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,Y,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,Y,D)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),p.props=l,p.state=Y,p.context=D,l=X):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),l=!1)}return p=l,ll(n,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&l?(r.child=Is(r,n.child,null,f),r.child=Is(r,null,a,f)):Fe(n,r,a,f),r.memoizedState=p.state,n=r.child):n=qi(n,r,f),n}function Rv(n,r,a,l){return Zo(),r.flags|=256,Fe(n,r,a,l),r.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function td(n){return{baseLanes:n,cachePool:Dy()}}function ed(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=zn),n}function Cv(n,r,a){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:(De.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(qt){if(f?Cr(r):Dr(),qt){var S=qe,D;if(D=S){t:{for(D=S,S=hi;D.nodeType!==8;){if(!S){S=null;break t}if(D=Zn(D.nextSibling),D===null){S=null;break t}}S=D}S!==null?(r.memoizedState={dehydrated:S,treeContext:Ds!==null?{id:ki,overflow:Bi}:null,retryLane:536870912},D=Bn(18,null,null,0),D.stateNode=S,D.return=r,r.child=D,ln=r,qe=null,D=!0):D=!1}D||Vs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?r.lanes=16:r.lanes=536870912,null;zi(r)}return S=l.children,l=l.fallback,f?(Dr(),f=r.mode,S=id({mode:"hidden",children:S},f),l=zs(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=td(a),f.childLanes=ed(n,T,a),r.memoizedState=Jf,l):(Cr(r),nd(r,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(p)r.flags&256?(Cr(r),r.flags&=-257,r=rd(n,r,a)):r.memoizedState!==null?(Dr(),r.child=n.child,r.flags|=128,r=null):(Dr(),f=l.fallback,S=r.mode,l=id({mode:"visible",children:l.children},S),f=zs(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Is(r,n.child,null,a),l=r.child,l.memoizedState=td(a),l.childLanes=ed(n,T,a),r.memoizedState=Jf,r=f);else if(Cr(r),S.data==="$!"){if(T=S.nextSibling&&S.nextSibling.dataset,T)var B=T.dgst;T=B,l=Error(s(419)),l.stack="",l.digest=T,Wo({value:l,source:null,stack:null}),r=rd(n,r,a)}else if(Ue||ul(n,r,a,!1),T=(a&n.childLanes)!==0,Ue||T){if(T=Xt,T!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(T.suspendedLanes|a)?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Rr(n,l),un(T,n,l),vv}S.data==="$?"||Md(),r=rd(n,r,a)}else S.data==="$?"?(r.flags|=128,r.child=n.child,r=S1.bind(null,n),S._reactRetry=r,r=null):(n=D.treeContext,qe=Zn(S.nextSibling),ln=r,qt=!0,Yn=null,hi=!1,n!==null&&(Nn[Pn++]=ki,Nn[Pn++]=Bi,Nn[Pn++]=Ds,ki=n.id,Bi=n.overflow,Ds=r),r=nd(r,l.children),r.flags|=4096);return r}return f?(Dr(),f=l.fallback,S=r.mode,D=n.child,B=D.sibling,l=kr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,B!==null?f=kr(B,f):(f=zs(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=n.child.memoizedState,S===null?S=td(a):(D=S.cachePool,D!==null?(B=xe._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=Dy(),S={baseLanes:S.baseLanes|a,cachePool:D}),f.memoizedState=S,f.childLanes=ed(n,T,a),r.memoizedState=Jf,l):(Cr(r),a=n.child,n=a.sibling,a=kr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function nd(n,r){return r=id({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function id(n,r){return Jv(n,r,0,null)}function rd(n,r,a){return Is(r,n.child,null,a),n=nd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Dv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),ld(n.return,r,a)}function sd(n,r,a,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function xv(n,r,a){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(Fe(n,r,l.children,a),l=De.current,l&2)l=l&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dv(n,a,r);else if(n.tag===19)Dv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Kt(De,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&lc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),sd(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&lc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}sd(r,!0,a,null,p);break;case"together":sd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Br|=r.lanes,!(a&r.childLanes))if(n!==null){if(ul(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=kr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=kr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function ad(n,r){return n.lanes&r?!0:(n=n.dependencies,!!(n!==null&&Tc(n)))}function u1(n,r,a){switch(r.tag){case 3:cr(r,r.stateNode.containerInfo),Ir(r,xe,n.memoizedState.cache),Zo();break;case 27:case 5:Co(r);break;case 4:cr(r,r.stateNode.containerInfo);break;case 10:Ir(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(r),r.flags|=128,null):a&r.child.childLanes?Cv(n,r,a):(Cr(r),n=qi(n,r,a),n!==null?n.sibling:null);Cr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ul(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return xv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Kt(De,De.current),l)break;return null;case 22:case 23:return r.lanes=0,Av(n,r,a);case 24:Ir(r,xe,n.memoizedState.cache)}return qi(n,r,a)}function Vv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ue=!0;else{if(!ad(n,a)&&!(r.flags&128))return Ue=!1,u1(n,r,a);Ue=!!(n.flags&131072)}else Ue=!1,qt&&r.flags&1048576&&my(r,ic,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Td(l)?(n=Ls(l,n),r.tag=1,r=wv(null,r,l,n,a)):(r.tag=0,r=Wf(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===x){r.tag=11,r=_v(null,r,l,n,a);break t}else if(f===k){r.tag=14,r=Tv(null,r,l,n,a);break t}}throw r=C(l)||l,Error(s(306,r,""))}}return r;case 0:return Wf(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ls(l,r.pendingProps),wv(n,r,l,f,a);case 3:t:{if(cr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var p=r.pendingProps;f=r.memoizedState,l=f.element,hd(n,r),fl(r,p,null,a);var T=r.memoizedState;if(p=T.cache,Ir(r,xe,p),p!==f.cache&&ud(r,[xe],a,!0),hl(),p=T.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Rv(n,r,p,a);break t}else if(p!==l){l=On(Error(s(424)),r),Wo(l),r=Rv(n,r,p,a);break t}else for(qe=Zn(r.stateNode.containerInfo.firstChild),ln=r,qt=!0,Yn=null,hi=!0,a=Sy(r,null,p,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zo(),p===l){r=qi(n,r,a);break t}Fe(n,r,p,a)}r=r.child}return r;case 26:return ll(n,r),n===null?(a=O0(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,n=r.pendingProps,l=Lc(wn.current).createElement(a),l[Ne]=r,l[we]=n,He(l,a,n),Jt(l),r.stateNode=l):r.memoizedState=O0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Co(r),n===null&&qt&&(l=r.stateNode=V0(r.type,r.pendingProps,wn.current),ln=r,hi=!0,qe=Zn(l.firstChild)),l=r.pendingProps.children,n!==null||qt?Fe(n,r,l,a):r.child=Is(r,null,l,a),ll(n,r),r.child;case 5:return n===null&&qt&&((f=l=qe)&&(l=B1(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,ln=r,qe=Zn(l.firstChild),hi=!1,f=!0):f=!1),f||Vs(r)),Co(r),f=r.type,p=r.pendingProps,T=n!==null?n.memoizedProps:null,l=p.children,Kd(f,p)?l=null:T!==null&&Kd(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Nf(n,r,n1,null,null,a),Cl._currentValue=f),ll(n,r),Fe(n,r,l,a),r.child;case 6:return n===null&&qt&&((n=a=qe)&&(a=z1(a,r.pendingProps,hi),a!==null?(r.stateNode=a,ln=r,qe=null,n=!0):n=!1),n||Vs(r)),null;case 13:return Cv(n,r,a);case 4:return cr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Is(r,null,l,a):Fe(n,r,l,a),r.child;case 11:return _v(n,r,r.type,r.pendingProps,a);case 7:return Fe(n,r,r.pendingProps,a),r.child;case 8:return Fe(n,r,r.pendingProps.children,a),r.child;case 12:return Fe(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ir(r,r.type,l.value),Fe(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ks(r),f=Xe(f),l=l(f),r.flags|=1,Fe(n,r,l,a),r.child;case 14:return Tv(n,r,r.type,r.pendingProps,a);case 15:return Ev(n,r,r.type,r.pendingProps,a);case 19:return xv(n,r,a);case 22:return Av(n,r,a);case 24:return ks(r),l=Xe(xe),n===null?(f=Mf(),f===null&&(f=Xt,p=Vf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:l,cache:f},cd(r),Ir(r,xe,f)):(n.lanes&a&&(hd(n,r),fl(r,null,null,a),hl()),f=n.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ir(r,xe,l)):(l=p.cache,Ir(r,xe,l),l!==f.cache&&ud(r,[xe],a,!0))),Fe(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var od=zt(null),Us=null,Fi=null;function Ir(n,r,a){Kt(od,r._currentValue),r._currentValue=a}function Hi(n){n._currentValue=od.current,ae(od)}function ld(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function ud(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),ld(p.return,a,n),l||(T=null);break t}p=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),ld(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ul(n,r,a,l){n=null;for(var f=r,p=!1;f!==null;){if(!p){if(f.flags&524288)p=!0;else if(f.flags&262144)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;vn(f.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(f===ur.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Cl):n=[Cl])}f=f.return}n!==null&&ud(r,n,a,l),r.flags|=262144}function Tc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ks(n){Us=n,Fi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xe(n){return Iv(Us,n)}function Ec(n,r){return Us===null&&ks(n),Iv(n,r)}function Iv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fi===null){if(n===null)throw Error(s(308));Fi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Fi=Fi.next=r;return a}var Mr=!1;function cd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Or(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Nr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,ee&2){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ec(n),fy(n,null,a),r}return tc(n,l,r,a),ec(n)}function cl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,gr(n,a)}}function fd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var dd=!1;function hl(){if(dd){var n=Oa;if(n!==null)throw n}}function fl(n,r,a,l){dd=!1;var f=n.updateQueue;Mr=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,B=D.next;D.next=null,T===null?p=B:T.next=B,T=D;var X=n.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==T&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=D))}if(p!==null){var tt=f.baseState;T=0,X=B=D=null,S=p;do{var K=S.lane&-536870913,Y=K!==S.lane;if(Y?(Ut&K)===K:(l&K)===K){K!==0&&K===Ma&&(dd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=n,St=S;K=r;var ce=a;switch(St.tag){case 1:if(dt=St.payload,typeof dt=="function"){tt=dt.call(ce,tt,K);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=St.payload,K=typeof dt=="function"?dt.call(ce,tt,K):dt,K==null)break t;tt=V({},tt,K);break t;case 2:Mr=!0}}K=S.callback,K!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Y,D=tt):X=X.next=Y,T|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(D=tt),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=X,p===null&&(f.shared.lanes=0),Br|=T,n.lanes=T,n.memoizedState=tt}}function Mv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ov(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Mv(a[n],r)}function dl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==f)}}catch(S){Yt(r,r.return,S)}}function Pr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var D=a;try{S()}catch(B){Yt(f,D,B)}}}l=l.next}while(l!==p)}}catch(B){Yt(r,r.return,B)}}function Nv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Ov(r,a)}catch(l){Yt(n,n.return,l)}}}function Pv(n,r,a){a.props=Ls(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(n,r,l)}}function Bs(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(p){Yt(n,r,p)}}function _n(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Yt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Yt(n,r,f)}else a.current=null}function Lv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Yt(n,n.return,f)}}function Uv(n,r,a){try{var l=n.stateNode;N1(l,n.type,a,r),l[we]=r}catch(f){Yt(n,n.return,f)}}function kv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function md(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||kv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(pd(n,r,a),n=n.sibling;n!==null;)pd(n,r,a),n=n.sibling}function Ac(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ac(n,r,a),n=n.sibling;n!==null;)Ac(n,r,a),n=n.sibling}var Gi=!1,le=!1,gd=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,ke=null,zv=!1;function c1(n,r){if(n=n.containerInfo,Hd=qc,n=iy(n),vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var T=0,S=-1,D=-1,B=0,X=0,tt=n,K=null;e:for(;;){for(var Y;tt!==a||f!==0&&tt.nodeType!==3||(S=T+f),tt!==p||l!==0&&tt.nodeType!==3||(D=T+l),tt.nodeType===3&&(T+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)K=tt,tt=Y;for(;;){if(tt===n)break e;if(K===a&&++B===f&&(S=T),K===p&&++X===l&&(D=T),(Y=tt.nextSibling)!==null)break;tt=K,K=tt.parentNode}tt=Y}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:n,selectionRange:a},qc=!1,ke=r;ke!==null;)if(r=ke,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ke=n;else for(;ke!==null;){switch(r=ke,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var dt=Ls(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(dt,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(St){Yt(a,a.return,St)}}break;case 3:if(n&1024){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Yd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Yd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,ke=n;break}ke=r.return}return dt=zv,zv=!1,dt}function jv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(n,a),l&4&&dl(5,a);break;case 1:if(Qi(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(S){Yt(a,a.return,S)}else{var f=Ls(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Yt(a,a.return,S)}}l&64&&Nv(a),l&512&&Bs(a,a.return);break;case 3:if(Qi(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ov(l,n)}catch(S){Yt(a,a.return,S)}}break;case 26:Qi(n,a),l&512&&Bs(a,a.return);break;case 27:case 5:Qi(n,a),r===null&&l&4&&Lv(a),l&512&&Bs(a,a.return);break;case 12:Qi(n,a);break;case 13:Qi(n,a),l&4&&Hv(n,a);break;case 22:if(f=a.memoizedState!==null||Gi,!f){r=r!==null&&r.memoizedState!==null||le;var p=Gi,T=le;Gi=f,(le=r)&&!T?Lr(n,a,(a.subtreeFlags&8772)!==0):Qi(n,a),Gi=p,le=T}l&512&&(a.memoizedProps.mode==="manual"?Bs(a,a.return):_n(a,a.return));break;default:Qi(n,a)}}function qv(n){var r=n.alternate;r!==null&&(n.alternate=null,qv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ps(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ee=null,Tn=!1;function Ki(n,r,a){for(a=a.child;a!==null;)Fv(n,r,a),a=a.sibling}function Fv(n,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(hr,a)}catch{}switch(a.tag){case 26:le||_n(a,r),Ki(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:le||_n(a,r);var l=Ee,f=Tn;for(Ee=a.stateNode,Ki(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ps(a),Ee=l,Tn=f;break;case 5:le||_n(a,r);case 6:f=Ee;var p=Tn;if(Ee=null,Ki(n,r,a),Ee=f,Tn=p,Ee!==null)if(Tn)try{n=Ee,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(T){Yt(a,r,T)}else try{Ee.removeChild(a.stateNode)}catch(T){Yt(a,r,T)}break;case 18:Ee!==null&&(Tn?(r=Ee,a=a.stateNode,r.nodeType===8?$d(r.parentNode,a):r.nodeType===1&&$d(r,a),Il(r)):$d(Ee,a.stateNode));break;case 4:l=Ee,f=Tn,Ee=a.stateNode.containerInfo,Tn=!0,Ki(n,r,a),Ee=l,Tn=f;break;case 0:case 11:case 14:case 15:le||Pr(2,a,r),le||Pr(4,a,r),Ki(n,r,a);break;case 1:le||(_n(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pv(a,r,l)),Ki(n,r,a);break;case 21:Ki(n,r,a);break;case 22:le||_n(a,r),le=(l=le)||a.memoizedState!==null,Ki(n,r,a),le=l;break;default:Ki(n,r,a)}}function Hv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Il(n)}catch(a){Yt(r,r.return,a)}}function h1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Bv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Bv),r;default:throw Error(s(435,n.tag))}}function yd(n,r){var a=h1(n);r.forEach(function(l){var f=b1.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Un(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:case 5:Ee=S.stateNode,Tn=!1;break t;case 3:Ee=S.stateNode.containerInfo,Tn=!0;break t;case 4:Ee=S.stateNode.containerInfo,Tn=!0;break t}S=S.return}if(Ee===null)throw Error(s(160));Fv(p,T,f),Ee=null,Tn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Gv(r,n),r=r.sibling}var Xn=null;function Gv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(r,n),kn(n),l&4&&(Pr(3,n,n.return),dl(3,n),Pr(5,n,n.return));break;case 1:Un(r,n),kn(n),l&512&&(le||a===null||_n(a,a.return)),l&64&&Gi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Xn;if(Un(r,n),kn(n),l&512&&(le||a===null||_n(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[vr]||p[Ne]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),He(p,l,a),p[Ne]=n,Jt(p),l=p;break t;case"link":var T=L0("link","href",f).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}p=f.createElement(l),He(p,l,a),f.head.appendChild(p);break;case"meta":if(T=L0("meta","content",f).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}p=f.createElement(l),He(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[Ne]=n,Jt(p),l=p}n.stateNode=l}else U0(f,n.type,n.stateNode);else n.stateNode=P0(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?U0(f,n.type,n.stateNode):P0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Uv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var D=f.firstChild;D;){var B=D.nextSibling,X=D.nodeName;D[vr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=B}for(var tt=n.type,K=f.attributes;K.length;)f.removeAttributeNode(K[0]);He(f,tt,p),f[Ne]=n,f[we]=p}catch(dt){Yt(n,n.return,dt)}}case 5:if(Un(r,n),kn(n),l&512&&(le||a===null||_n(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch(dt){Yt(n,n.return,dt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Uv(n,f,a!==null?a.memoizedProps:f)),l&1024&&(gd=!0);break;case 6:if(Un(r,n),kn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(dt){Yt(n,n.return,dt)}}break;case 3:if(Bc=null,f=Xn,Xn=Uc(r.containerInfo),Un(r,n),Xn=f,kn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(r.containerInfo)}catch(dt){Yt(n,n.return,dt)}gd&&(gd=!1,Kv(n));break;case 4:l=Xn,Xn=Uc(n.stateNode.containerInfo),Un(r,n),kn(n),Xn=l;break;case 12:Un(r,n),kn(n);break;case 13:Un(r,n),kn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=hn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yd(n,l)));break;case 22:if(l&512&&(le||a===null||_n(a,a.return)),D=n.memoizedState!==null,B=a!==null&&a.memoizedState!==null,X=Gi,tt=le,Gi=X||D,le=tt||B,Un(r,n),le=tt,Gi=X,kn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=Gi||le,a===null||B||r||Ua(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){B=a=r;try{if(f=B.stateNode,D)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=B.stateNode,S=B.memoizedProps.style;var Y=S!=null&&S.hasOwnProperty("display")?S.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(dt){Yt(B,B.return,dt)}}}else if(r.tag===6){if(a===null){B=r;try{B.stateNode.nodeValue=D?"":B.memoizedProps}catch(dt){Yt(B,B.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yd(n,a))));break;case 19:Un(r,n),kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,yd(n,l)));break;case 21:break;default:Un(r,n),kn(n)}}function kn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){t:{for(var a=n.return;a!==null;){if(kv(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,p=md(n);Ac(n,p,f);break;case 5:var T=l.stateNode;l.flags&32&&(Dn(T,""),l.flags&=-33);var S=md(n);Ac(n,S,T);break;case 3:case 4:var D=l.stateNode.containerInfo,B=md(n);pd(n,B,D);break;default:throw Error(s(161))}}}catch(X){Yt(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Kv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Qi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)jv(n,r.alternate,r),r=r.sibling}function Ua(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Pr(4,r,r.return),Ua(r);break;case 1:_n(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Pv(r,r.return,a),Ua(r);break;case 26:case 27:case 5:_n(r,r.return),Ua(r);break;case 22:_n(r,r.return),r.memoizedState===null&&Ua(r);break;default:Ua(r)}n=n.sibling}}function Lr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Lr(f,p,a),dl(4,p);break;case 1:if(Lr(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=p,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Mv(D[f],S)}catch(B){Yt(l,l.return,B)}}a&&T&64&&Nv(p),Bs(p,p.return);break;case 26:case 27:case 5:Lr(f,p,a),a&&l===null&&T&4&&Lv(p),Bs(p,p.return);break;case 12:Lr(f,p,a);break;case 13:Lr(f,p,a),a&&T&4&&Hv(f,p);break;case 22:p.memoizedState===null&&Lr(f,p,a),Bs(p,p.return);break;default:Lr(f,p,a)}r=r.sibling}}function vd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&il(a))}function _d(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&il(n))}function Ur(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qv(n,r,a,l),r=r.sibling}function Qv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ur(n,r,a,l),f&2048&&dl(9,r);break;case 3:Ur(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&il(n)));break;case 12:if(f&2048){Ur(n,r,a,l),n=r.stateNode;try{var p=r.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Yt(r,r.return,D)}}else Ur(n,r,a,l);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?Ur(n,r,a,l):ml(n,r):p._visibility&4?Ur(n,r,a,l):(p._visibility|=4,ka(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&vd(r.alternate,r);break;case 24:Ur(n,r,a,l),f&2048&&_d(r.alternate,r);break;default:Ur(n,r,a,l)}}function ka(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,T=r,S=a,D=l,B=T.flags;switch(T.tag){case 0:case 11:case 15:ka(p,T,S,D,f),dl(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&4?ka(p,T,S,D,f):ml(p,T):(X._visibility|=4,ka(p,T,S,D,f)),f&&B&2048&&vd(T.alternate,T);break;case 24:ka(p,T,S,D,f),f&&B&2048&&_d(T.alternate,T);break;default:ka(p,T,S,D,f)}r=r.sibling}}function ml(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:ml(a,l),f&2048&&vd(l.alternate,l);break;case 24:ml(a,l),f&2048&&_d(l.alternate,l);break;default:ml(a,l)}r=r.sibling}}var pl=8192;function Ba(n){if(n.subtreeFlags&pl)for(n=n.child;n!==null;)$v(n),n=n.sibling}function $v(n){switch(n.tag){case 26:Ba(n),n.flags&pl&&n.memoizedState!==null&&J1(Xn,n.memoizedState,n.memoizedProps);break;case 5:Ba(n);break;case 3:case 4:var r=Xn;Xn=Uc(n.stateNode.containerInfo),Ba(n),Xn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=pl,pl=16777216,Ba(n),pl=r):Ba(n));break;default:Ba(n)}}function Yv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function gl(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ke=l,Zv(l,n)}Yv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xv(n),n=n.sibling}function Xv(n){switch(n.tag){case 0:case 11:case 15:gl(n),n.flags&2048&&Pr(9,n,n.return);break;case 3:gl(n);break;case 12:gl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Sc(n)):gl(n);break;default:gl(n)}}function Sc(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ke=l,Zv(l,n)}Yv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Pr(8,r,r.return),Sc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Sc(r));break;default:Sc(r)}n=n.sibling}}function Zv(n,r){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Pr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=n;ke!==null;){l=ke;var f=l.sibling,p=l.return;if(qv(l),l===a){ke=null;break t}if(f!==null){f.return=p,ke=f;break t}ke=p}}}function f1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,r,a,l){return new f1(n,r,a,l)}function Td(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kr(n,r){var a=n.alternate;return a===null?(a=Bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Wv(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bc(n,r,a,l,f,p){var T=0;if(l=n,typeof n=="function")Td(n)&&(T=1);else if(typeof n=="string")T=Z1(n,a,rn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case m:return zs(a.children,f,p,r);case g:T=8,f|=24;break;case v:return n=Bn(12,a,r,f|2),n.elementType=v,n.lanes=p,n;case N:return n=Bn(13,a,r,f),n.elementType=N,n.lanes=p,n;case O:return n=Bn(19,a,r,f),n.elementType=O,n.lanes=p,n;case $:return Jv(a,f,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case w:T=10;break t;case A:T=9;break t;case x:T=11;break t;case k:T=14;break t;case F:T=16,l=null;break t}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Bn(T,a,r,f),r.elementType=n,r.type=l,r.lanes=p,r}function zs(n,r,a,l){return n=Bn(7,n,l,r),n.lanes=a,n}function Jv(n,r,a,l){n=Bn(22,n,l,r),n.elementType=$,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var T=Rr(p,2);T!==null&&(f._pendingVisibility|=2,un(T,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if(f._pendingVisibility&2){var T=Rr(p,2);T!==null&&(f._pendingVisibility&=-3,un(T,p,2))}}};return n.stateNode=f,n}function Ed(n,r,a){return n=Bn(6,n,null,r),n.lanes=a,n}function Ad(n,r,a){return r=Bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function $i(n){n.flags|=4}function t0(n,r){if(r.type!=="stylesheet"||r.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!k0(r)){if(r=Ln.current,r!==null&&((Ut&4194176)===Ut?fi!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||r!==fi))throw tl=Cf,yy;n.flags|=8192}}function wc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?mr():536870912,n.lanes|=r,ja|=r)}function yl(n,r){if(!qt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function te(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function d1(n,r,a){var l=r.pendingProps;switch(wf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(r),null;case 1:return te(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hi(xe),Ci(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Xo(r)?$i(r):n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Yn!==null&&(Vd(Yn),Yn=null))),te(r),null;case 26:return a=r.memoizedState,n===null?($i(r),a!==null?(te(r),t0(r,a)):(te(r),r.flags&=-16777217)):a?a!==n.memoizedState?($i(r),te(r),t0(r,a)):(te(r),r.flags&=-16777217):(n.memoizedProps!==l&&$i(r),te(r),r.flags&=-16777217),null;case 27:aa(r),a=wn.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&$i(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return te(r),null}n=rn.current,Xo(r)?py(r):(n=V0(f,l,a),r.stateNode=n,$i(r))}return te(r),null;case 5:if(aa(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&$i(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return te(r),null}if(n=rn.current,Xo(r))py(r);else{switch(f=Lc(wn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ne]=r,n[we]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(He(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&$i(r)}}return te(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&$i(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=wn.current,Xo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ne]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||b0(n.nodeValue,a)),n||Vs(r)}else n=Lc(n).createTextNode(l),n[Ne]=r,r.stateNode=n}return te(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Xo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ne]=r}else Zo(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;te(r),f=!1}else Yn!==null&&(Vd(Yn),Yn=null),f=!0;if(!f)return r.flags&256?(zi(r),r):(zi(r),null)}if(zi(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),te(r),null;case 4:return Ci(),n===null&&jd(r.stateNode.containerInfo),te(r),null;case 10:return Hi(r.type),te(r),null;case 19:if(ae(De),f=r.memoizedState,f===null)return te(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)yl(f,!1);else{if(ue!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(p=lc(n),p!==null){for(r.flags|=128,yl(f,!1),n=p.updateQueue,r.updateQueue=n,wc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Wv(a,n),a=a.sibling;return Kt(De,De.current&1|2),r.child}n=n.sibling}f.tail!==null&&hn()>Rc&&(r.flags|=128,l=!0,yl(f,!1),r.lanes=4194304)}else{if(!l)if(n=lc(p),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,wc(r,n),yl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!qt)return te(r),null}else 2*hn()-f.renderingStartTime>Rc&&a!==536870912&&(r.flags|=128,l=!0,yl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=hn(),r.sibling=null,n=De.current,Kt(De,l?n&1|2:n&1),r):(te(r),null);case 22:case 23:return zi(r),xf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(te(r),r.subtreeFlags&6&&(r.flags|=8192)):te(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ae(Ms),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Hi(xe),te(r),null;case 25:return null}throw Error(s(156,r.tag))}function m1(n,r){switch(wf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Hi(xe),Ci(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return aa(r),null;case 13:if(zi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ae(De),null;case 4:return Ci(),null;case 10:return Hi(r.type),null;case 22:case 23:return zi(r),xf(),n!==null&&ae(Ms),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Hi(xe),null;case 25:return null;default:return null}}function e0(n,r){switch(wf(r),r.tag){case 3:Hi(xe),Ci();break;case 26:case 27:case 5:aa(r);break;case 4:Ci();break;case 13:zi(r);break;case 19:ae(De);break;case 10:Hi(r.type);break;case 22:case 23:zi(r),xf(),n!==null&&ae(Ms);break;case 24:Hi(xe)}}var p1={getCacheForType:function(n){var r=Xe(xe),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},g1=typeof WeakMap=="function"?WeakMap:Map,ee=0,Xt=null,Vt=null,Ut=0,Zt=0,En=null,Yi=!1,za=!1,Sd=!1,Xi=0,ue=0,Br=0,js=0,bd=0,zn=0,ja=0,vl=null,mi=null,wd=!1,Rd=0,Rc=1/0,Cc=null,zr=null,Dc=!1,qs=null,_l=0,Cd=0,Dd=null,Tl=0,xd=null;function An(){if(ee&2&&Ut!==0)return Ut&-Ut;if(R.T!==null){var n=Ma;return n!==0?n:Ud()}return Nu()}function n0(){zn===0&&(zn=!(Ut&536870912)||qt?Mo():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),zn}function un(n,r,a){(n===Xt&&Zt===2||n.cancelPendingCommit!==null)&&(qa(n,0),Zi(n,Ut,zn,!1)),me(n,a),(!(ee&2)||n!==Xt)&&(n===Xt&&(!(ee&2)&&(js|=a),ue===4&&Zi(n,Ut,zn,!1)),pi(n))}function i0(n,r,a){if(ee&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||dr(n,r),f=l?_1(n,r):Od(n,r,!0),p=l;do{if(f===0){za&&!l&&Zi(n,r,0,!1);break}else if(f===6)Zi(n,r,0,!Yi);else{if(a=n.current.alternate,p&&!y1(a)){f=Od(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=n;f=vl;var D=S.current.memoizedState.isDehydrated;if(D&&(qa(S,T).flags|=256),T=Od(S,T,!1),T!==2){if(Sd&&!D){S.errorRecoveryDisabledLanes|=p,js|=p,f=4;break t}p=mi,mi=f,p!==null&&Vd(p)}f=T}if(p=!1,f!==2)continue}}if(f===1){qa(n,0),Zi(n,r,0,!0);break}t:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Zi(l,r,zn,!Yi);break t}break;case 2:mi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(p=Rd+300-hn(),10<p)){if(Zi(l,r,zn,!Yi),Rn(l,0)!==0)break t;l.timeoutHandle=C0(r0.bind(null,l,a,mi,Cc,wd,r,zn,js,ja,Yi,2,-0,0),p);break t}r0(l,a,mi,Cc,wd,r,zn,js,ja,Yi,0,-0,0)}}break}while(!0);pi(n)}function Vd(n){mi===null?mi=n:mi.push.apply(mi,n)}function r0(n,r,a,l,f,p,T,S,D,B,X,tt,K){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:W1},$v(r),r=tR(),r!==null)){n.cancelPendingCommit=r(h0.bind(null,n,a,l,f,T,S,D,1,tt,K)),Zi(n,p,T,!B);return}h0(n,a,l,f,T,S,D,X,tt,K)}function y1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!vn(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zi(n,r,a,l){r&=~bd,r&=~js,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var p=31-sn(f),T=1<<p;l[p]=-1,f&=~T}a!==0&&pr(n,a,r)}function xc(){return ee&6?!0:(El(0),!1)}function Id(){if(Vt!==null){if(Zt===0)var n=Vt.return;else n=Vt,Fi=Us=null,Uf(n),Va=null,el=0,n=Vt;for(;n!==null;)e0(n.alternate,n),n=n.return;Vt=null}}function qa(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,L1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Id(),Xt=n,Vt=a=kr(n.current,null),Ut=r,Zt=0,En=null,Yi=!1,za=dr(n,r),Sd=!1,ja=zn=bd=js=Br=ue=0,mi=vl=null,wd=!1,r&8&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-sn(l),p=1<<f;r|=n[f],l&=~p}return Xi=r,Ju(),a}function s0(n,r){Dt=null,R.H=di,r===Jo?(r=Ty(),Zt=3):r===yy?(r=Ty(),Zt=4):Zt=r===vv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,Vt===null&&(ue=1,_c(n,On(r,n.current)))}function a0(){var n=R.H;return R.H=di,n===null?di:n}function o0(){var n=R.A;return R.A=p1,n}function Md(){ue=4,Yi||(Ut&4194176)!==Ut&&Ln.current!==null||(za=!0),!(Br&134217727)&&!(js&134217727)||Xt===null||Zi(Xt,Ut,zn,!1)}function Od(n,r,a){var l=ee;ee|=2;var f=a0(),p=o0();(Xt!==n||Ut!==r)&&(Cc=null,qa(n,r)),r=!1;var T=ue;t:do try{if(Zt!==0&&Vt!==null){var S=Vt,D=En;switch(Zt){case 8:Id(),T=6;break t;case 3:case 2:case 6:Ln.current===null&&(r=!0);var B=Zt;if(Zt=0,En=null,Fa(n,S,D,B),a&&za){T=0;break t}break;default:B=Zt,Zt=0,En=null,Fa(n,S,D,B)}}v1(),T=ue;break}catch(X){s0(n,X)}while(!0);return r&&n.shellSuspendCounter++,Fi=Us=null,ee=l,R.H=f,R.A=p,Vt===null&&(Xt=null,Ut=0,Ju()),T}function v1(){for(;Vt!==null;)l0(Vt)}function _1(n,r){var a=ee;ee|=2;var l=a0(),f=o0();Xt!==n||Ut!==r?(Cc=null,Rc=hn()+500,qa(n,r)):za=dr(n,r);t:do try{if(Zt!==0&&Vt!==null){r=Vt;var p=En;e:switch(Zt){case 1:Zt=0,En=null,Fa(n,r,p,1);break;case 2:if(vy(p)){Zt=0,En=null,u0(r);break}r=function(){Zt===2&&Xt===n&&(Zt=7),pi(n)},p.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:vy(p)?(Zt=0,En=null,u0(r)):(Zt=0,En=null,Fa(n,r,p,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var S=Vt;if(!T||k0(T)){Zt=0,En=null;var D=S.sibling;if(D!==null)Vt=D;else{var B=S.return;B!==null?(Vt=B,Vc(B)):Vt=null}break e}}Zt=0,En=null,Fa(n,r,p,5);break;case 6:Zt=0,En=null,Fa(n,r,p,6);break;case 8:Id(),ue=6;break t;default:throw Error(s(462))}}T1();break}catch(X){s0(n,X)}while(!0);return Fi=Us=null,R.H=l,R.A=f,ee=a,Vt!==null?0:(Xt=null,Ut=0,Ju(),ue)}function T1(){for(;Vt!==null&&!of();)l0(Vt)}function l0(n){var r=Vv(n.alternate,n,Xi);n.memoizedProps=n.pendingProps,r===null?Vc(n):Vt=r}function u0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=bv(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=bv(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:Uf(r);default:e0(a,r),r=Vt=Wv(r,Xi),r=Vv(a,r,Xi)}n.memoizedProps=n.pendingProps,r===null?Vc(n):Vt=r}function Fa(n,r,a,l){Fi=Us=null,Uf(r),Va=null,el=0;var f=r.return;try{if(l1(n,f,r,a,Ut)){ue=1,_c(n,On(a,n.current)),Vt=null;return}}catch(p){if(f!==null)throw Vt=f,p;ue=1,_c(n,On(a,n.current)),Vt=null;return}r.flags&32768?(qt||l===1?n=!0:za||Ut&536870912?n=!1:(Yi=n=!0,(l===2||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),c0(r,n)):Vc(r)}function Vc(n){var r=n;do{if(r.flags&32768){c0(r,Yi);return}n=r.return;var a=d1(r.alternate,r,Xi);if(a!==null){Vt=a;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=n}while(r!==null);ue===0&&(ue=5)}function c0(n,r){do{var a=m1(n.alternate,n);if(a!==null){a.flags&=32767,Vt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Vt=n;return}Vt=n=a}while(n!==null);ue=6,Vt=null}function h0(n,r,a,l,f,p,T,S,D,B){var X=R.T,tt=lt.p;try{lt.p=2,R.T=null,E1(n,r,a,l,tt,f,p,T,S,D,B)}finally{R.T=X,lt.p=tt}}function E1(n,r,a,l,f,p,T,S){do Ha();while(qs!==null);if(ee&6)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var B=D.lanes|D.childLanes;if(B|=Af,Mu(n,l,B,p,T,S),n===Xt&&(Vt=Xt=null,Ut=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||Dc||(Dc=!0,Cd=B,Dd=a,w1(Di,function(){return Ha(),null})),a=(D.flags&15990)!==0,D.subtreeFlags&15990||a?(a=R.T,R.T=null,p=lt.p,lt.p=2,T=ee,ee|=4,c1(n,D),Gv(D,n),Gw(Gd,n.containerInfo),qc=!!Hd,Gd=Hd=null,n.current=D,jv(n,D.alternate,D),Do(),ee=T,lt.p=p,R.T=a):n.current=D,Dc?(Dc=!1,qs=n,_l=l):f0(n,B),B=n.pendingLanes,B===0&&(zr=null),Vo(D.stateNode),pi(n),r!==null)for(f=n.onRecoverableError,D=0;D<r.length;D++)B=r[D],f(B.value,{componentStack:B.stack});return _l&3&&Ha(),B=n.pendingLanes,l&4194218&&B&42?n===xd?Tl++:(Tl=0,xd=n):Tl=0,El(0),null}function f0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,il(r)))}function Ha(){if(qs!==null){var n=qs,r=Cd;Cd=0;var a=Ou(_l),l=R.T,f=lt.p;try{if(lt.p=32>a?32:a,R.T=null,qs===null)var p=!1;else{a=Dd,Dd=null;var T=qs,S=_l;if(qs=null,_l=0,ee&6)throw Error(s(331));var D=ee;if(ee|=4,Xv(T.current),Qv(T,T.current,S,a),ee=D,El(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(hr,T)}catch{}p=!0}return p}finally{lt.p=f,R.T=l,f0(n,r)}}return!1}function d0(n,r,a){r=On(a,r),r=Zf(n.stateNode,r,2),n=Nr(n,r,2),n!==null&&(me(n,2),pi(n))}function Yt(n,r,a){if(n.tag===3)d0(n,n,a);else for(;r!==null;){if(r.tag===3){d0(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){n=On(a,n),a=gv(2),l=Nr(r,a,2),l!==null&&(yv(a,l,r,n),me(l,2),pi(l));break}}r=r.return}}function Nd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new g1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Sd=!0,f.add(a),n=A1.bind(null,n,r,a),r.then(n,n))}function A1(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xt===n&&(Ut&a)===a&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>hn()-Rd?!(ee&2)&&qa(n,0):bd|=a,ja===Ut&&(ja=0)),pi(n)}function m0(n,r){r===0&&(r=mr()),n=Rr(n,r),n!==null&&(me(n,r),pi(n))}function S1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),m0(n,a)}function b1(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),m0(n,a)}function w1(n,r){return fs(n,r)}var Ic=null,Ga=null,Pd=!1,Mc=!1,Ld=!1,Fs=0;function pi(n){n!==Ga&&n.next===null&&(Ga===null?Ic=Ga=n:Ga=Ga.next=n),Mc=!0,Pd||(Pd=!0,C1(R1))}function El(n,r){if(!Ld&&Mc){Ld=!0;do for(var a=!1,l=Ic;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-sn(42|n)+1)-1,p&=f&~(T&~S),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,y0(l,p))}else p=Ut,p=Rn(l,l===Xt?p:0),!(p&3)||dr(l,p)||(a=!0,y0(l,p));l=l.next}while(a);Ld=!1}}function R1(){Mc=Pd=!1;var n=0;Fs!==0&&(P1()&&(n=Fs),Fs=0);for(var r=hn(),a=null,l=Ic;l!==null;){var f=l.next,p=p0(l,r);p===0?(l.next=null,a===null?Ic=f:a.next=f,f===null&&(Ga=a)):(a=l,(n!==0||p&3)&&(Mc=!0)),l=f}El(n)}function p0(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-sn(p),S=1<<T,D=f[T];D===-1?(!(S&a)||S&l)&&(f[T]=ua(S,r)):D<=r&&(n.expiredLanes|=S),p&=~S}if(r=Xt,a=Ut,a=Rn(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&Zt===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&la(l),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||dr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&la(l),Ou(a)){case 2:case 8:a=Oe;break;case 32:a=Di;break;case 268435456:a=xo;break;default:a=Di}return l=g0.bind(null,n),a=fs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&la(l),n.callbackPriority=2,n.callbackNode=null,2}function g0(n,r){var a=n.callbackNode;if(Ha()&&n.callbackNode!==a)return null;var l=Ut;return l=Rn(n,n===Xt?l:0),l===0?null:(i0(n,l,r),p0(n,hn()),n.callbackNode!=null&&n.callbackNode===a?g0.bind(null,n):null)}function y0(n,r){if(Ha())return null;i0(n,r,!0)}function C1(n){U1(function(){ee&6?fs(be,n):n()})}function Ud(){return Fs===0&&(Fs=Mo()),Fs}function v0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ri(""+n)}function _0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function D1(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var p=v0((f[we]||null).action),T=l.submitter;T&&(r=(r=T[we]||null)?v0(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var S=new ga("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var D=T?_0(f,T):new FormData(f);Kf(a,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(S.preventDefault(),D=T?_0(f,T):new FormData(f),Kf(a,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var kd=0;kd<hy.length;kd++){var Bd=hy[kd],x1=Bd.toLowerCase(),V1=Bd[0].toUpperCase()+Bd.slice(1);$n(x1,"on"+V1)}$n(ay,"onAnimationEnd"),$n(oy,"onAnimationIteration"),$n(ly,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Qw,"onTransitionRun"),$n($w,"onTransitionStart"),$n(Yw,"onTransitionCancel"),$n(uy,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function T0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var S=l[T],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=B;try{p(f)}catch(X){vc(X)}f.currentTarget=null,p=D}else for(T=0;T<l.length;T++){if(S=l[T],D=S.instance,B=S.currentTarget,S=S.listener,D!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=B;try{p(f)}catch(X){vc(X)}f.currentTarget=null,p=D}}}}function Mt(n,r){var a=r[ms];a===void 0&&(a=r[ms]=new Set);var l=n+"__bubble";a.has(l)||(E0(r,n,2,!1),a.add(l))}function zd(n,r,a){var l=0;r&&(l|=4),E0(a,n,l,r)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function jd(n){if(!n[Oc]){n[Oc]=!0,No.forEach(function(a){a!=="selectionchange"&&(I1.has(a)||zd(a,!1,n),zd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Oc]||(r[Oc]=!0,zd("selectionchange",!1,r))}}function E0(n,r,a,l){switch(H0(r)){case 2:var f=iR;break;case 8:f=rR;break;default:f=tm}a=f.bind(null,r,a,n),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function qd(n,r,a,l,f){var p=l;if(!(r&1)&&!(r&2)&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(T===4)for(T=l.return;T!==null;){var D=T.tag;if((D===3||D===4)&&(D=T.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;T=T.return}for(;S!==null;){if(T=Qn(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){l=p=T;continue t}S=S.parentNode}}l=l.return}ku(function(){var B=p,X=pa(a),tt=[];t:{var K=cy.get(n);if(K!==void 0){var Y=ga,dt=n;switch(n){case"keypress":if(ai(a)===0)break t;case"keydown":case"keyup":Y=Aa;break;case"focusin":dt="focus",Y=_a;break;case"focusout":dt="blur",Y=_a;break;case"beforeblur":case"afterblur":Y=_a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ku;break;case ay:case oy:case ly:Y=Ta;break;case uy:Y=$u;break;case"scroll":case"scrollend":Y=Bu;break;case"wheel":Y=Sa;break;case"copy":case"cut":case"paste":Y=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ko;break;case"toggle":case"beforetoggle":Y=Xu}var St=(r&4)!==0,ce=!St&&(n==="scroll"||n==="scrollend"),z=St?K!==null?K+"Capture":null:K;St=[];for(var U=B,G;U!==null;){var Z=U;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||z===null||(Z=_s(U,z),Z!=null&&St.push(Sl(U,Z,G))),ce)break;U=U.return}0<St.length&&(K=new Y(K,dt,null,a,X),tt.push({event:K,listeners:St}))}}if(!(r&7)){t:{if(K=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",K&&a!==xn&&(dt=a.relatedTarget||a.fromElement)&&(Qn(dt)||dt[xi]))break t;if((Y||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(dt=a.relatedTarget||a.toElement,Y=B,dt=dt?Qn(dt):null,dt!==null&&(ce=ht(dt),St=dt.tag,dt!==ce||St!==5&&St!==27&&St!==6)&&(dt=null)):(Y=null,dt=B),Y!==dt)){if(St=In,Z="onMouseLeave",z="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(St=Ko,Z="onPointerLeave",z="onPointerEnter",U="pointer"),ce=Y==null?K:_r(Y),G=dt==null?K:_r(dt),K=new St(Z,U+"leave",Y,a,X),K.target=ce,K.relatedTarget=G,Z=null,Qn(X)===B&&(St=new St(z,U+"enter",dt,a,X),St.target=G,St.relatedTarget=ce,Z=St),ce=Z,Y&&dt)e:{for(St=Y,z=dt,U=0,G=St;G;G=Ka(G))U++;for(G=0,Z=z;Z;Z=Ka(Z))G++;for(;0<U-G;)St=Ka(St),U--;for(;0<G-U;)z=Ka(z),G--;for(;U--;){if(St===z||z!==null&&St===z.alternate)break e;St=Ka(St),z=Ka(z)}St=null}else St=null;Y!==null&&A0(tt,K,Y,St,!1),dt!==null&&ce!==null&&A0(tt,ce,dt,St,!0)}}t:{if(K=B?_r(B):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var ft=Yg;else if(Ce(K))if(Xg)ft=Fw;else{ft=jw;var xt=zw}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?B&&Bo(B.elementType)&&(ft=Yg):ft=qw;if(ft&&(ft=ft(n,B))){Ui(tt,ft,a,X);break t}xt&&xt(n,K,B),n==="focusout"&&B&&K.type==="number"&&B.memoizedProps.value!=null&&ma(K,"number",K.value)}switch(xt=B?_r(B):window,n){case"focusin":(Ce(xt)||xt.contentEditable==="true")&&(ba=xt,_f=B,Yo=null);break;case"focusout":Yo=_f=ba=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,ry(tt,a,X);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":ry(tt,a,X)}var pt;if(ui)t:{switch(n){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?Q(n,a)&&(_t="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(pt=jo()):(si=X,wr="value"in si?si.value:si.textContent,Pt=!0)),xt=Nc(B,_t),0<xt.length&&(_t=new Ho(_t,n,null,a,X),tt.push({event:_t,listeners:xt}),pt?_t.data=pt:(pt=it(a),pt!==null&&(_t.data=pt)))),(pt=y?Re(n,a):Lt(n,a))&&(_t=Nc(B,"onBeforeInput"),0<_t.length&&(xt=new Ho("onBeforeInput","beforeinput",null,a,X),tt.push({event:xt,listeners:_t}),xt.data=pt)),D1(tt,n,B,a,X)}T0(tt,r)})}function Sl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Nc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=_s(n,a),f!=null&&l.unshift(Sl(n,f,p)),f=_s(n,r),f!=null&&l.push(Sl(n,f,p))),n=n.return}return l}function Ka(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function A0(n,r,a,l,f){for(var p=r._reactName,T=[];a!==null&&a!==l;){var S=a,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||B===null||(D=B,f?(B=_s(a,p),B!=null&&T.unshift(Sl(a,B,D))):f||(B=_s(a,p),B!=null&&T.push(Sl(a,B,D)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var M1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function S0(n){return(typeof n=="string"?n:""+n).replace(M1,`
`).replace(O1,"")}function b0(n,r){return r=S0(r),S0(n)===r}function Pc(){}function $t(n,r,a,l,f,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Dn(n,""+l);break;case"className":Ar(n,"class",l);break;case"tabIndex":Ar(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(n,a,l);break;case"style":Uu(n,l,p);break;case"data":if(r!=="object"){Ar(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ri(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&$t(n,r,"name",f.name,f,null),$t(n,r,"formEncType",f.formEncType,f,null),$t(n,r,"formMethod",f.formMethod,f,null),$t(n,r,"formTarget",f.formTarget,f,null)):($t(n,r,"encType",f.encType,f,null),$t(n,r,"method",f.method,f,null),$t(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ri(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Pc);break;case"onScroll":l!=null&&Mt("scroll",n);break;case"onScrollEnd":l!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ri(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),Er(n,"popover",l);break;case"xlinkActuate":Cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ff.get(a)||a,Er(n,a,l))}}function Fd(n,r,a,l,f,p){switch(a){case"style":Uu(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&Dn(n,""+l);break;case"onScroll":l!=null&&Mt("scroll",n);break;case"onScrollEnd":l!=null&&Mt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[we]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Er(n,a,l)}}}function He(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(n,r,p,T,a,null)}}f&&$t(n,r,"srcSet",a.srcSet,a,null),l&&$t(n,r,"src",a.src,a,null);return;case"input":Mt("invalid",n);var S=p=T=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":T=X;break;case"checked":D=X;break;case"defaultChecked":B=X;break;case"value":p=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:$t(n,r,l,X,a,null)}}ys(n,p,S,D,B,T,f,!1),gs(n);return;case"select":Mt("invalid",n),l=T=p=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:$t(n,r,f,S,a,null)}r=p,a=T,n.multiple=!!l,r!=null?jt(n,!!l,r,!1):a!=null&&jt(n,!!l,a,!0);return;case"textarea":Mt("invalid",n),p=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:$t(n,r,T,S,a,null)}br(n,l,f,p),gs(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(n,r,D,l,a,null)}return;case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(l=0;l<Al.length;l++)Mt(Al[l],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(n,r,B,l,a,null)}return;default:if(Bo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Fd(n,r,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&$t(n,r,S,l,a,null))}function N1(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,S=null,D=null,B=null,X=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=tt;default:l.hasOwnProperty(Y)||$t(n,r,Y,null,l,tt)}}for(var K in l){var Y=l[K];if(tt=a[K],l.hasOwnProperty(K)&&(Y!=null||tt!=null))switch(K){case"type":p=Y;break;case"name":f=Y;break;case"checked":B=Y;break;case"defaultChecked":X=Y;break;case"value":T=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==tt&&$t(n,r,K,Y,l,tt)}}Sr(n,T,S,D,B,X,p,f);return;case"select":Y=T=S=K=null;for(p in a)if(D=a[p],a.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(p)||$t(n,r,p,null,l,D)}for(f in l)if(p=l[f],D=a[f],l.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":K=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==D&&$t(n,r,f,p,l,D)}r=S,a=T,l=Y,K!=null?jt(n,!!a,K,!1):!!l!=!!a&&(r!=null?jt(n,!!a,r,!0):jt(n,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:$t(n,r,S,null,l,f)}for(T in l)if(f=l[T],p=a[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":K=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&$t(n,r,T,f,l,p)}vs(n,K,Y);return;case"option":for(var dt in a)if(K=a[dt],a.hasOwnProperty(dt)&&K!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":n.selected=!1;break;default:$t(n,r,dt,null,l,K)}for(D in l)if(K=l[D],Y=a[D],l.hasOwnProperty(D)&&K!==Y&&(K!=null||Y!=null))switch(D){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:$t(n,r,D,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)K=a[St],a.hasOwnProperty(St)&&K!=null&&!l.hasOwnProperty(St)&&$t(n,r,St,null,l,K);for(B in l)if(K=l[B],Y=a[B],l.hasOwnProperty(B)&&K!==Y&&(K!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:$t(n,r,B,K,l,Y)}return;default:if(Bo(r)){for(var ce in a)K=a[ce],a.hasOwnProperty(ce)&&K!==void 0&&!l.hasOwnProperty(ce)&&Fd(n,r,ce,void 0,l,K);for(X in l)K=l[X],Y=a[X],!l.hasOwnProperty(X)||K===Y||K===void 0&&Y===void 0||Fd(n,r,X,K,l,Y);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&$t(n,r,z,null,l,K);for(tt in l)K=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||K===Y||K==null&&Y==null||$t(n,r,tt,K,l,Y)}var Hd=null,Gd=null;function Lc(n){return n.nodeType===9?n:n.ownerDocument}function w0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Kd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qd=null;function P1(){var n=window.event;return n&&n.type==="popstate"?n===Qd?!1:(Qd=n,!0):(Qd=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,U1=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(n){return D0.resolve(null).then(n).catch(k1)}:C0;function k1(n){setTimeout(function(){throw n})}function $d(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),Il(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Il(r)}function Yd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function B1(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[vr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function z1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function Zn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function x0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function V0(n,r,a){switch(r=Lc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var jn=new Map,I0=new Set;function Uc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Wi=lt.d;lt.d={f:j1,r:q1,D:F1,C:H1,L:G1,m:K1,X:$1,S:Q1,M:Y1};function j1(){var n=Wi.f(),r=xc();return n||r}function q1(n){var r=Vi(n);r!==null&&r.tag===5&&r.type==="form"?rv(r):Wi.r(n)}var Qa=typeof document>"u"?null:document;function M0(n,r,a){var l=Qa;if(l&&typeof r=="string"&&r){var f=oe(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),I0.has(f)||(I0.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),He(r,"link",n),Jt(r),l.head.appendChild(r)))}}function F1(n){Wi.D(n),M0("dns-prefetch",n,null)}function H1(n,r){Wi.C(n,r),M0("preconnect",n,r)}function G1(n,r,a){Wi.L(n,r,a);var l=Qa;if(l&&n&&r){var f='link[rel="preload"][as="'+oe(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+oe(a.imageSizes)+'"]')):f+='[href="'+oe(n)+'"]';var p=f;switch(r){case"style":p=$a(n);break;case"script":p=Ya(n)}jn.has(p)||(n=V({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),jn.set(p,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(bl(p))||r==="script"&&l.querySelector(wl(p))||(r=l.createElement("link"),He(r,"link",n),Jt(r),l.head.appendChild(r)))}}function K1(n,r){Wi.m(n,r);var a=Qa;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+oe(l)+'"][href="'+oe(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ya(n)}if(!jn.has(p)&&(n=V({rel:"modulepreload",href:n},r),jn.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(p)))return}l=a.createElement("link"),He(l,"link",n),Jt(l),a.head.appendChild(l)}}}function Q1(n,r,a){Wi.S(n,r,a);var l=Qa;if(l&&n){var f=Tr(l).hoistableStyles,p=$a(n);r=r||"default";var T=f.get(p);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(bl(p)))S.loading=5;else{n=V({rel:"stylesheet",href:n,"data-precedence":r},a),(a=jn.get(p))&&Xd(n,a);var D=T=l.createElement("link");Jt(D),He(D,"link",n),D._p=new Promise(function(B,X){D.onload=B,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kc(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(p,T)}}}function $1(n,r){Wi.X(n,r);var a=Qa;if(a&&n){var l=Tr(a).hoistableScripts,f=Ya(n),p=l.get(f);p||(p=a.querySelector(wl(f)),p||(n=V({src:n,async:!0},r),(r=jn.get(f))&&Zd(n,r),p=a.createElement("script"),Jt(p),He(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Y1(n,r){Wi.M(n,r);var a=Qa;if(a&&n){var l=Tr(a).hoistableScripts,f=Ya(n),p=l.get(f);p||(p=a.querySelector(wl(f)),p||(n=V({src:n,async:!0,type:"module"},r),(r=jn.get(f))&&Zd(n,r),p=a.createElement("script"),Jt(p),He(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function O0(n,r,a,l){var f=(f=wn.current)?Uc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=$a(a.href),a=Tr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=$a(a.href);var p=Tr(f).hoistableStyles,T=p.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=f.querySelector(bl(n)))&&!p._p&&(T.instance=p,T.state.loading=5),jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(n,a),p||X1(f,n,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ya(a),a=Tr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function $a(n){return'href="'+oe(n)+'"'}function bl(n){return'link[rel="stylesheet"]['+n+"]"}function N0(n){return V({},n,{"data-precedence":n.precedence,precedence:null})}function X1(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),He(r,"link",a),Jt(r),n.head.appendChild(r))}function Ya(n){return'[src="'+oe(n)+'"]'}function wl(n){return"script[async]"+n}function P0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+oe(a.href)+'"]');if(l)return r.instance=l,Jt(l),l;var f=V({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Jt(l),He(l,"style",f),kc(l,a.precedence,n),r.instance=l;case"stylesheet":f=$a(a.href);var p=n.querySelector(bl(f));if(p)return r.state.loading|=4,r.instance=p,Jt(p),p;l=N0(a),(f=jn.get(f))&&Xd(l,f),p=(n.ownerDocument||n).createElement("link"),Jt(p);var T=p;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),He(p,"link",l),r.state.loading|=4,kc(p,a.precedence,n),r.instance=p;case"script":return p=Ya(a.src),(f=n.querySelector(wl(p)))?(r.instance=f,Jt(f),f):(l=a,(f=jn.get(p))&&(l=V({},a),Zd(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Jt(f),He(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,n));return r.instance}function kc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===r)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Xd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Zd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Bc=null;function L0(n,r,a){if(Bc===null){var l=new Map,f=Bc=new Map;f.set(a,l)}else f=Bc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[vr]||p[Ne]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=n+T;var S=l.get(T);S?S.push(p):l.set(T,[p])}}return l}function U0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Z1(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function k0(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var Rl=null;function W1(){}function J1(n,r,a){if(Rl===null)throw Error(s(475));var l=Rl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var f=$a(a.href),p=n.querySelector(bl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=zc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=p,Jt(p);return}p=n.ownerDocument||n,a=N0(a),(f=jn.get(f))&&Xd(a,f),p=p.createElement("link"),Jt(p);var T=p;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),He(p,"link",a),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=zc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function tR(){if(Rl===null)throw Error(s(475));var n=Rl;return n.stylesheets&&n.count===0&&Wd(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Wd(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jc=null;function Wd(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jc=new Map,r.forEach(eR,n),jc=null,zc.call(n))}function eR(n,r){if(!(r.state.loading&4)){var a=jc.get(n);if(a)var l=a.get(null);else{a=new Map,jc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,f),a.set(T,f),this.count++,l=zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Cl={$$typeof:w,Provider:null,Consumer:null,_currentValue:Ct,_currentValue2:Ct,_threadCount:0};function nR(n,r,a,l,f,p,T,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.hiddenUpdates=ca(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function B0(n,r,a,l,f,p,T,S,D,B,X,tt){return n=new nR(n,r,a,T,S,D,B,tt),r=1,p===!0&&(r|=24),p=Bn(3,null,null,r),n.current=p,p.stateNode=n,r=Vf(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},cd(p),n}function z0(n){return n?(n=Ca,n):Ca}function j0(n,r,a,l,f,p){f=z0(f),l.context===null?l.context=f:l.pendingContext=f,l=Or(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Nr(n,l,r),a!==null&&(un(a,n,r),cl(a,n,r))}function q0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Jd(n,r){q0(n,r),(n=n.alternate)&&q0(n,r)}function F0(n){if(n.tag===13){var r=Rr(n,67108864);r!==null&&un(r,n,67108864),Jd(n,67108864)}}var qc=!0;function iR(n,r,a,l){var f=R.T;R.T=null;var p=lt.p;try{lt.p=2,tm(n,r,a,l)}finally{lt.p=p,R.T=f}}function rR(n,r,a,l){var f=R.T;R.T=null;var p=lt.p;try{lt.p=8,tm(n,r,a,l)}finally{lt.p=p,R.T=f}}function tm(n,r,a,l){if(qc){var f=em(l);if(f===null)qd(n,r,l,Fc,a),G0(n,l);else if(aR(f,n,r,a,l))l.stopPropagation();else if(G0(n,l),r&4&&-1<sR.indexOf(n)){for(;f!==null;){var p=Vi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Kn(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-sn(T);S.entanglements[1]|=D,T&=~D}pi(p),!(ee&6)&&(Rc=hn()+500,El(0))}}break;case 13:S=Rr(p,2),S!==null&&un(S,p,2),xc(),Jd(p,2)}if(p=em(l),p===null&&qd(n,r,l,Fc,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else qd(n,r,l,null,a)}}function em(n){return n=pa(n),nm(n)}var Fc=null;function nm(n){if(Fc=null,n=Qn(n),n!==null){var r=ht(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Nt(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Fc=n,null}function H0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Du()){case be:return 2;case Oe:return 8;case Di:case xu:return 32;case xo:return 268435456;default:return 32}default:return 32}}var im=!1,jr=null,qr=null,Fr=null,Dl=new Map,xl=new Map,Hr=[],sR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(n,r){switch(n){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function Vl(n,r,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Vi(r),r!==null&&F0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function aR(n,r,a,l,f){switch(r){case"focusin":return jr=Vl(jr,n,r,a,l,f),!0;case"dragenter":return qr=Vl(qr,n,r,a,l,f),!0;case"mouseover":return Fr=Vl(Fr,n,r,a,l,f),!0;case"pointerover":var p=f.pointerId;return Dl.set(p,Vl(Dl.get(p)||null,n,r,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,xl.set(p,Vl(xl.get(p)||null,n,r,a,l,f)),!0}return!1}function K0(n){var r=Qn(n.target);if(r!==null){var a=ht(r);if(a!==null){if(r=a.tag,r===13){if(r=Nt(a),r!==null){n.blockedOn=r,yr(n.priority,function(){if(a.tag===13){var l=An(),f=Rr(a,l);f!==null&&un(f,a,l),Jd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=em(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);xn=l,a.target.dispatchEvent(l),xn=null}else return r=Vi(a),r!==null&&F0(r),n.blockedOn=a,!1;r.shift()}return!0}function Q0(n,r,a){Hc(n)&&a.delete(r)}function oR(){im=!1,jr!==null&&Hc(jr)&&(jr=null),qr!==null&&Hc(qr)&&(qr=null),Fr!==null&&Hc(Fr)&&(Fr=null),Dl.forEach(Q0),xl.forEach(Q0)}function Gc(n,r){n.blockedOn===r&&(n.blockedOn=null,im||(im=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oR)))}var Kc=null;function $0(n){Kc!==n&&(Kc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kc===n&&(Kc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var p=Vi(a);p!==null&&(n.splice(r,3),r-=3,Kf(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Il(n){function r(D){return Gc(D,n)}jr!==null&&Gc(jr,n),qr!==null&&Gc(qr,n),Fr!==null&&Gc(Fr,n),Dl.forEach(r),xl.forEach(r);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)K0(a),a.blockedOn===null&&Hr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],T=f[we]||null;if(typeof p=="function")T||$0(a);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[we]||null)S=T.formAction;else if(nm(f)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),$0(a)}}}function rm(n){this._internalRoot=n}Qc.prototype.render=rm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();j0(a,l,n,r,null,null)},Qc.prototype.unmount=rm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Ha(),j0(n.current,2,null,n,null,null),xc(),r[xi]=null}};function Qc(n){this._internalRoot=n}Qc.prototype.unstable_scheduleHydration=function(n){if(n){var r=Nu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Hr.length&&r!==0&&r<Hr[a].priority;a++);Hr.splice(a,0,n),a===0&&K0(n)}};var Y0=t.version;if(Y0!=="19.0.0")throw Error(s(527,Y0,"19.0.0"));lt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=et(r),n=n!==null?mt(n):null,n=n===null?null:n.stateNode,n};var lR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{hr=$c.inject(lR),Ye=$c}catch{}}return Ol.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=fv,p=dv,T=mv,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=B0(n,1,!1,null,null,a,l,f,p,T,S,null),n[xi]=r.current,jd(n.nodeType===8?n.parentNode:n),new rm(r)},Ol.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",p=fv,T=dv,S=mv,D=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=B0(n,1,!0,r,a??null,l,f,p,T,S,D,B),r.context=z0(null),a=r.current,l=An(),f=Or(l),f.callback=null,Nr(a,f,l),r.current.lanes=l,me(r,l),pi(r),n[xi]=r.current,jd(n),new Qc(r)},Ol.version="19.0.0",Ol}var s_;function vR(){if(s_)return om.exports;s_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),om.exports=yR(),om.exports}var _R=vR(),Nl={},a_;function TR(){if(a_)return Nl;a_=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=c,Nl.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,w){const x=new u,N=A.length;if(N<2)return x;const O=w?.decode||v;let k=0;do{const F=A.indexOf("=",k);if(F===-1)break;const $=A.indexOf(";",k),rt=$===-1?N:$;if(F>rt){k=A.lastIndexOf(";",F-1)+1;continue}const J=d(A,k,F),at=m(A,F,J),M=A.slice(J,at);if(x[M]===void 0){let C=d(A,F+1,rt),R=m(A,rt,C);const V=O(A.slice(C,R));x[M]=V}k=rt+1}while(k<N);return x}function d(A,w,x){do{const N=A.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<x);return x}function m(A,w,x){for(;w>x;){const N=A.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return x}function g(A,w,x){const N=x?.encode||encodeURIComponent;if(!e.test(A))throw new TypeError(`argument name is invalid: ${A}`);const O=N(w);if(!t.test(O))throw new TypeError(`argument val is invalid: ${w}`);let k=A+"="+O;if(!x)return k;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);k+="; Max-Age="+x.maxAge}if(x.domain){if(!i.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);k+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);k+="; Path="+x.path}if(x.expires){if(!E(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);k+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(k+="; HttpOnly"),x.secure&&(k+="; Secure"),x.partitioned&&(k+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return k}function v(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function E(A){return o.call(A)==="[object Date]"}return Nl}TR();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o_="popstate";function ER(e={}){function t(s,o){let{pathname:u,search:c,hash:d}=s.location;return Lm("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Jl(o)}return SR(t,i,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ai(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AR(){return Math.random().toString(36).substring(2,10)}function l_(e,t){return{usr:e.state,key:e.key,idx:t}}function Lm(e,t,i=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_o(t):t,state:i,key:t&&t.key||s||AR()}}function Jl({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _o(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function SR(e,t,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let O=v(),k=O==null?null:O-g;g=O,m&&m({action:d,location:N.location,delta:k})}function A(O,k){d="PUSH";let F=Lm(N.location,O,k);g=v()+1;let $=l_(F,g),rt=N.createHref(F);try{c.pushState($,"",rt)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(rt)}u&&m&&m({action:d,location:N.location,delta:1})}function w(O,k){d="REPLACE";let F=Lm(N.location,O,k);g=v();let $=l_(F,g),rt=N.createHref(F);c.replaceState($,"",rt),u&&m&&m({action:d,location:N.location,delta:0})}function x(O){let k=o.location.origin!=="null"?o.location.origin:o.location.href,F=typeof O=="string"?O:Jl(O);return F=F.replace(/ $/,"%20"),ie(k,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,k)}let N={get action(){return d},get location(){return e(o,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(o_,E),m=O,()=>{o.removeEventListener(o_,E),m=null}},createHref(O){return t(o,O)},createURL:x,encodeLocation(O){let k=x(O);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:A,replace:w,go(O){return c.go(O)}};return N}function FE(e,t,i="/"){return bR(e,t,i,!1)}function bR(e,t,i,s){let o=typeof t=="string"?_o(t):t,u=Jr(o.pathname||"/",i);if(u==null)return null;let c=HE(e);wR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=LR(u);d=NR(c[m],g,s)}return d}function HE(e,t=[],i=[],s=""){let o=(u,c,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};m.relativePath.startsWith("/")&&(ie(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=Ji([s,m.relativePath]),v=i.concat(m);u.children&&u.children.length>0&&(ie(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),HE(u.children,t,v,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:MR(g,u.index),routesMeta:v})};return e.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))o(u,c);else for(let d of GE(u.path))o(u,c,d)}),t}function GE(e){let t=e.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=GE(s.join("/")),d=[];return d.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function wR(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:OR(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var RR=/^:[\w-]+$/,CR=3,DR=2,xR=1,VR=10,IR=-2,u_=e=>e==="*";function MR(e,t){let i=e.split("/"),s=i.length;return i.some(u_)&&(s+=IR),t&&(s+=DR),i.filter(o=>!u_(o)).reduce((o,u)=>o+(RR.test(u)?CR:u===""?xR:VR),s)}function OR(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function NR(e,t,i=!1){let{routesMeta:s}=e,o={},u="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",E=mh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),A=m.route;if(!E&&g&&i&&!s[s.length-1].route.index&&(E=mh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Ji([u,E.pathname]),pathnameBase:zR(Ji([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=Ji([u,E.pathnameBase]))}return c}function mh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=PR(e.path,e.caseSensitive,e.end),o=t.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:E},A)=>{if(v==="*"){let x=d[A]||"";c=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const w=d[A];return E&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:e}}function PR(e,t=!1,i=!0){Ai(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function LR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ai(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Jr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}function UR(e,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof e=="string"?_o(e):e;return{pathname:i?i.startsWith("/")?i:kR(i,t):t,search:jR(s),hash:qR(o)}}function kR(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function hm(e,t,i,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BR(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function KE(e){let t=BR(e);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function QE(e,t,i,s=!1){let o;typeof e=="string"?o=_o(e):(o={...e},ie(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),ie(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),ie(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=i;else{let E=t.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}d=E>=0?t[E]:"/"}let m=UR(o,d),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Ji=e=>e.join("/").replace(/\/\/+/g,"/"),zR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var HR=["GET",...$E];new Set(HR);var To=H.createContext(null);To.displayName="DataRouter";var Bh=H.createContext(null);Bh.displayName="DataRouterState";var YE=H.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var GR=H.createContext(new Map);GR.displayName="Fetchers";var KR=H.createContext(null);KR.displayName="Await";var wi=H.createContext(null);wi.displayName="Navigation";var gu=H.createContext(null);gu.displayName="Location";var lr=H.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Sp=H.createContext(null);Sp.displayName="RouteError";function QR(e,{relative:t}={}){ie(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=H.useContext(wi),{hash:o,pathname:u,search:c}=vu(e,{relative:t}),d=u;return i!=="/"&&(d=u==="/"?i:Ji([i,u])),s.createHref({pathname:d,search:c,hash:o})}function yu(){return H.useContext(gu)!=null}function us(){return ie(yu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(gu).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(e){H.useContext(wi).static||H.useLayoutEffect(e)}function bp(){let{isDataRoute:e}=H.useContext(lr);return e?aC():$R()}function $R(){ie(yu(),"useNavigate() may be used only in the context of a <Router> component.");let e=H.useContext(To),{basename:t,navigator:i}=H.useContext(wi),{matches:s}=H.useContext(lr),{pathname:o}=us(),u=JSON.stringify(KE(s)),c=H.useRef(!1);return ZE(()=>{c.current=!0}),H.useCallback((m,g={})=>{if(Ai(c.current,XE),!c.current)return;if(typeof m=="number"){i.go(m);return}let v=QE(m,JSON.parse(u),o,g.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ji([t,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[t,i,u,o,e])}H.createContext(null);function vu(e,{relative:t}={}){let{matches:i}=H.useContext(lr),{pathname:s}=us(),o=JSON.stringify(KE(i));return H.useMemo(()=>QE(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function YR(e,t){return WE(e,t)}function WE(e,t,i,s){ie(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(wi),{matches:c}=H.useContext(lr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let F=E&&E.path||"";JE(g,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let A=us(),w;if(t){let F=typeof t=="string"?_o(t):t;ie(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=A;let x=w.pathname||"/",N=x;if(v!=="/"){let F=v.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(F.length).join("/")}let O=!u&&i&&i.matches&&i.matches.length>0?i.matches:FE(e,{pathname:N});Ai(E||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ai(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=tC(O&&O.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Ji([v,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Ji([v,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),c,i,s);return t&&k?H.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function XR(){let e=sC(),t=FR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),i?H.createElement("pre",{style:o},i):null,c)}var ZR=H.createElement(XR,null),WR=class extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?H.createElement(lr.Provider,{value:this.props.routeContext},H.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JR({routeContext:e,match:t,children:i}){let s=H.useContext(To);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(lr.Provider,{value:e},i)}function tC(e,t=[],i=null,s=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let o=e,u=i?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ie(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(i)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:E}=i,A=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||A){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let E,A=!1,w=null,x=null;i&&(E=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||ZR,c&&(d<0&&v===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,x=null):d===v&&(A=!0,x=g.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,v+1)),O=()=>{let k;return E?k=w:A?k=x:g.route.Component?k=H.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=m,H.createElement(JR,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:i!=null},children:k})};return i&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?H.createElement(WR,{location:i.location,revalidation:i.revalidation,component:w,error:E,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):O()},null)}function wp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eC(e){let t=H.useContext(To);return ie(t,wp(e)),t}function nC(e){let t=H.useContext(Bh);return ie(t,wp(e)),t}function iC(e){let t=H.useContext(lr);return ie(t,wp(e)),t}function Rp(e){let t=iC(e),i=t.matches[t.matches.length-1];return ie(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function rC(){return Rp("useRouteId")}function sC(){let e=H.useContext(Sp),t=nC("useRouteError"),i=Rp("useRouteError");return e!==void 0?e:t.errors?.[i]}function aC(){let{router:e}=eC("useNavigate"),t=Rp("useNavigate"),i=H.useRef(!1);return ZE(()=>{i.current=!0}),H.useCallback(async(o,u={})=>{Ai(i.current,XE),i.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var c_={};function JE(e,t,i){!t&&!c_[e]&&(c_[e]=!0,Ai(!1,i))}H.memo(oC);function oC({routes:e,future:t,state:i}){return WE(e,void 0,i,t)}function Ul(e){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lC({basename:e="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:u=!1}){ie(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof i=="string"&&(i=_o(i));let{pathname:m="/",search:g="",hash:v="",state:E=null,key:A="default"}=i,w=H.useMemo(()=>{let x=Jr(m,c);return x==null?null:{location:{pathname:x,search:g,hash:v,state:E,key:A},navigationType:s}},[c,m,g,v,E,A,s]);return Ai(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:H.createElement(wi.Provider,{value:d},H.createElement(gu.Provider,{children:t,value:w}))}function uC({children:e,location:t}){return YR(Um(e),t)}function Um(e,t=[]){let i=[];return H.Children.forEach(e,(s,o)=>{if(!H.isValidElement(s))return;let u=[...t,o];if(s.type===H.Fragment){i.push.apply(i,Um(s.props.children,u));return}ie(s.type===Ul,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Um(s.props.children,u)),i.push(c)}),i}var rh="get",sh="application/x-www-form-urlencoded";function zh(e){return e!=null&&typeof e.tagName=="string"}function cC(e){return zh(e)&&e.tagName.toLowerCase()==="button"}function hC(e){return zh(e)&&e.tagName.toLowerCase()==="form"}function fC(e){return zh(e)&&e.tagName.toLowerCase()==="input"}function dC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mC(e,t){return e.button===0&&(!t||t==="_self")&&!dC(e)}var Yc=null;function pC(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var gC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(e){return e!=null&&!gC.has(e)?(Ai(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):e}function yC(e,t){let i,s,o,u,c;if(hC(e)){let d=e.getAttribute("action");s=d?Jr(d,t):null,i=e.getAttribute("method")||rh,o=fm(e.getAttribute("enctype"))||sh,u=new FormData(e)}else if(cC(e)||fC(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?Jr(m,t):null,i=e.getAttribute("formmethod")||d.getAttribute("method")||rh,o=fm(e.getAttribute("formenctype"))||fm(d.getAttribute("enctype"))||sh,u=new FormData(d,e),!pC()){let{name:g,type:v,value:E}=e;if(v==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,E)}}else{if(zh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=rh,s=null,o=sh,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:c}}function Cp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function vC(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _C(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function TC(e,t,i){let s=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await vC(u,i);return c.links?c.links():[]}return[]}));return bC(s.flat(1).filter(_C).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h_(e,t,i,s,o,u){let c=(m,g)=>i[g]?m.route.id!==i[g].route.id:!0,d=(m,g)=>i[g].pathname!==m.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):u==="data"?t.filter((m,g)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function EC(e,t,{includeHydrateFallback:i}={}){return AC(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AC(e){return[...new Set(e)]}function SC(e){let t={},i=Object.keys(e).sort();for(let s of i)t[s]=e[s];return t}function bC(e,t){let i=new Set;return new Set(t),e.reduce((s,o)=>{let u=JSON.stringify(SC(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function wC(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function RC(){let e=H.useContext(To);return Cp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function CC(){let e=H.useContext(Bh);return Cp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Dp=H.createContext(void 0);Dp.displayName="FrameworkContext";function tA(){let e=H.useContext(Dp);return Cp(e,"You must render this element inside a <HydratedRouter> element"),e}function DC(e,t){let i=H.useContext(Dp),[s,o]=H.useState(!1),[u,c]=H.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=t,A=H.useRef(null);H.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=k=>{k.forEach(F=>{c(F.isIntersecting)})},O=new IntersectionObserver(N,{threshold:.5});return A.current&&O.observe(A.current),()=>{O.disconnect()}}},[e]),H.useEffect(()=>{if(s){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[s]);let w=()=>{o(!0)},x=()=>{o(!1),c(!1)};return i?e!=="intent"?[u,A,{}]:[u,A,{onFocus:Pl(d,w),onBlur:Pl(m,x),onMouseEnter:Pl(g,w),onMouseLeave:Pl(v,x),onTouchStart:Pl(E,w)}]:[!1,A,{}]}function Pl(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function xC({page:e,...t}){let{router:i}=RC(),s=H.useMemo(()=>FE(i.routes,e,i.basename),[i.routes,e,i.basename]);return s?H.createElement(IC,{page:e,matches:s,...t}):null}function VC(e){let{manifest:t,routeModules:i}=tA(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return TC(e,t,i).then(c=>{u||o(c)}),()=>{u=!0}},[e,t,i]),s}function IC({page:e,matches:t,...i}){let s=us(),{manifest:o,routeModules:u}=tA(),{loaderData:c,matches:d}=CC(),m=H.useMemo(()=>h_(e,t,d,o,s,"data"),[e,t,d,o,s]),g=H.useMemo(()=>h_(e,t,d,o,s,"assets"),[e,t,d,o,s]),v=H.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let w=new Set,x=!1;if(t.forEach(O=>{let k=o.routes[O.route.id];!k||!k.hasLoader||(!m.some(F=>F.route.id===O.route.id)&&O.route.id in c&&u[O.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:w.add(O.route.id))}),w.size===0)return[];let N=wC(e);return x&&w.size>0&&N.searchParams.set("_routes",t.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[c,s,o,m,t,e,u]),E=H.useMemo(()=>EC(g,o),[g,o]),A=VC(g);return H.createElement(H.Fragment,null,v.map(w=>H.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),E.map(w=>H.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),A.map(({key:w,link:x})=>H.createElement("link",{key:w,...x})))}function MC(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var eA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eA&&(window.__reactRouterVersion="7.2.0")}catch{}function OC({basename:e,children:t,window:i}){let s=H.useRef();s.current==null&&(s.current=ER({window:i,v5Compat:!0}));let o=s.current,[u,c]=H.useState({action:o.action,location:o.location}),d=H.useCallback(m=>{H.startTransition(()=>c(m))},[c]);return H.useLayoutEffect(()=>o.listen(d),[o,d]),H.createElement(lC,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xp=H.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:E,...A},w){let{basename:x}=H.useContext(wi),N=typeof g=="string"&&nA.test(g),O,k=!1;if(typeof g=="string"&&N&&(O=g,eA))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=Jr(V.pathname,x);V.origin===R.origin&&L!=null?g=L+V.search+V.hash:k=!0}catch{Ai(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=QR(g,{relative:o}),[$,rt,J]=DC(s,A),at=UC(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:E});function M(R){t&&t(R),R.defaultPrevented||at(R)}let C=H.createElement("a",{...A,...J,href:O||F,onClick:k||u?t:M,ref:MC(w,rt),target:m,"data-discover":!N&&i==="render"?"true":void 0});return $&&!N?H.createElement(H.Fragment,null,C,H.createElement(xC,{page:F})):C});xp.displayName="Link";var NC=H.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:m,...g},v){let E=vu(c,{relative:g.relative}),A=us(),w=H.useContext(Bh),{navigator:x,basename:N}=H.useContext(wi),O=w!=null&&qC(E)&&d===!0,k=x.encodeLocation?x.encodeLocation(E).pathname:E.pathname,F=A.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(F=F.toLowerCase(),$=$?$.toLowerCase():null,k=k.toLowerCase()),$&&N&&($=Jr($,N)||$);const rt=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let J=F===k||!o&&F.startsWith(k)&&F.charAt(rt)==="/",at=$!=null&&($===k||!o&&$.startsWith(k)&&$.charAt(k.length)==="/"),M={isActive:J,isPending:at,isTransitioning:O},C=J?t:void 0,R;typeof s=="function"?R=s(M):R=[s,J?"active":null,at?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(M):u;return H.createElement(xp,{...g,"aria-current":C,className:R,ref:v,style:V,to:c,viewTransition:d},typeof m=="function"?m(M):m)});NC.displayName="NavLink";var PC=H.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:u,method:c=rh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:E,...A},w)=>{let x=zC(),N=jC(d,{relative:g}),O=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&nA.test(d),F=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let rt=$.nativeEvent.submitter,J=rt?.getAttribute("formmethod")||c;x(rt||$.currentTarget,{fetcherKey:t,method:J,navigate:i,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:E})};return H.createElement("form",{ref:w,method:O,action:N,onSubmit:s?m:F,...A,"data-discover":!k&&e==="render"?"true":void 0})});PC.displayName="Form";function LC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iA(e){let t=H.useContext(To);return ie(t,LC(e)),t}function UC(e,{target:t,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let d=bp(),m=us(),g=vu(e,{relative:u});return H.useCallback(v=>{if(mC(v,t)){v.preventDefault();let E=i!==void 0?i:Jl(m)===Jl(g);d(e,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[m,d,g,i,s,t,e,o,u,c])}var kC=0,BC=()=>`__${String(++kC)}__`;function zC(){let{router:e}=iA("useSubmit"),{basename:t}=H.useContext(wi),i=rC();return H.useCallback(async(s,o={})=>{let{action:u,method:c,encType:d,formData:m,body:g}=yC(s,t);if(o.navigate===!1){let v=o.fetcherKey||BC();await e.fetch(v,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,i])}function jC(e,{relative:t}={}){let{basename:i}=H.useContext(wi),s=H.useContext(lr);ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vu(e||".",{relative:t})},c=us();if(e==null){u.search=c.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Ji([i,u.pathname])),Jl(u)}function qC(e,t={}){let i=H.useContext(YE);ie(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iA("useViewTransitionState"),o=vu(e,{relative:t.relative});if(!i.isTransitioning)return!1;let u=Jr(i.currentLocation.pathname,s)||i.currentLocation.pathname,c=Jr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return mh(o.pathname,c)!=null||mh(o.pathname,u)!=null}new TextEncoder;const rA=H.createContext({});function FC(e){const t=H.useRef(null);return t.current===null&&(t.current=e()),t.current}const Vp=H.createContext(null),sA=H.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function HC(e=!0){const t=H.useContext(Vp);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:o}=t,u=H.useId();H.useEffect(()=>{if(e)return o(u)},[e]);const c=H.useCallback(()=>e&&s&&s(u),[u,s,e]);return!i&&s?[!1,c]:[!0]}const Ip=typeof window<"u",GC=Ip?H.useLayoutEffect:H.useEffect,Sn=e=>e;let aA=Sn;function Mp(e){let t;return()=>(t===void 0&&(t=e()),t)}const oo=(e,t,i)=>{const s=t-e;return s===0?1:(i-e)/s},tr=e=>e*1e3,er=e=>e/1e3,KC={useManualTiming:!1},Xc=["read","resolveKeyframes","update","preRender","render","postRender"],f_={value:null};function QC(e,t){let i=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},m=0;function g(E){c.has(E)&&(v.schedule(E),e()),m++,E(d)}const v={schedule:(E,A=!1,w=!1)=>{const N=w&&o?i:s;return A&&c.add(E),N.has(E)||N.add(E),E},cancel:E=>{s.delete(E),c.delete(E)},process:E=>{if(d=E,o){u=!0;return}o=!0,[i,s]=[s,i],i.forEach(g),t&&f_.value&&f_.value.frameloop[t].push(m),m=0,i.clear(),o=!1,u&&(u=!1,v.process(E))}};return v}const $C=40;function oA(e,t){let i=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Xc.reduce((k,F)=>(k[F]=QC(u,t?F:void 0),k),{}),{read:d,resolveKeyframes:m,update:g,preRender:v,render:E,postRender:A}=c,w=()=>{const k=performance.now();i=!1,o.delta=s?1e3/60:Math.max(Math.min(k-o.timestamp,$C),1),o.timestamp=k,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),v.process(o),E.process(o),A.process(o),o.isProcessing=!1,i&&t&&(s=!1,e(w))},x=()=>{i=!0,s=!0,o.isProcessing||e(w)};return{schedule:Xc.reduce((k,F)=>{const $=c[F];return k[F]=(rt,J=!1,at=!1)=>(i||x(),$.schedule(rt,J,at)),k},{}),cancel:k=>{for(let F=0;F<Xc.length;F++)c[Xc[F]].cancel(k)},state:o,steps:c}}const{schedule:Wt,cancel:ts,state:Ge,steps:dm}=oA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sn,!0),lA=H.createContext({strict:!1}),d_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lo={};for(const e in d_)lo[e]={isEnabled:t=>d_[e].some(i=>!!t[i])};function YC(e){for(const t in e)lo[t]={...lo[t],...e[t]}}const XC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ph(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XC.has(e)}let uA=e=>!ph(e);function ZC(e){e&&(uA=t=>t.startsWith("on")?!ph(t):e(t))}try{ZC(require("@emotion/is-prop-valid").default)}catch{}function WC(e,t,i){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(uA(o)||i===!0&&ph(o)||!t&&!ph(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}function JC(e){if(typeof Proxy>"u")return e;const t=new Map,i=(...s)=>e(...s);return new Proxy(i,{get:(s,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const jh=H.createContext({});function qh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tu(e){return typeof e=="string"||Array.isArray(e)}const Op=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Np=["initial",...Op];function Fh(e){return qh(e.animate)||Np.some(t=>tu(e[t]))}function cA(e){return!!(Fh(e)||e.variants)}function tD(e,t){if(Fh(e)){const{initial:i,animate:s}=e;return{initial:i===!1||tu(i)?i:void 0,animate:tu(s)?s:void 0}}return e.inherit!==!1?t:{}}function eD(e){const{initial:t,animate:i}=tD(e,H.useContext(jh));return H.useMemo(()=>({initial:t,animate:i}),[m_(t),m_(i)])}function m_(e){return Array.isArray(e)?e.join(" "):e}const nD=Symbol.for("motionComponentSymbol");function to(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iD(e,t,i){return H.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),i&&(typeof i=="function"?i(s):to(i)&&(i.current=s))},[t])}const Pp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rD="framerAppearId",hA="data-"+Pp(rD),{schedule:Lp}=oA(queueMicrotask,!1),fA=H.createContext({});function sD(e,t,i,s,o){var u,c;const{visualElement:d}=H.useContext(jh),m=H.useContext(lA),g=H.useContext(Vp),v=H.useContext(sA).reducedMotion,E=H.useRef(null);s=s||m.renderer,!E.current&&s&&(E.current=s(e,{visualState:t,parent:d,props:i,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const A=E.current,w=H.useContext(fA);A&&!A.projection&&o&&(A.type==="html"||A.type==="svg")&&aD(E.current,i,o,w);const x=H.useRef(!1);H.useInsertionEffect(()=>{A&&x.current&&A.update(i,g)});const N=i[hA],O=H.useRef(!!N&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,N))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,N)));return GC(()=>{A&&(x.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),Lp.render(A.render),O.current&&A.animationState&&A.animationState.animateChanges())}),H.useEffect(()=>{A&&(!O.current&&A.animationState&&A.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)===null||k===void 0||k.call(window,N)}),O.current=!1))}),A}function aD(e,t,i,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:dA(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&to(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:g})}function dA(e){if(e)return e.options.allowProjection!==!1?e.projection:dA(e.parent)}function oD({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:s,Component:o}){var u,c;e&&YC(e);function d(g,v){let E;const A={...H.useContext(sA),...g,layoutId:lD(g)},{isStatic:w}=A,x=eD(g),N=s(g,w);if(!w&&Ip){uD();const O=cD(A);E=O.MeasureLayout,x.visualElement=sD(o,N,A,t,O.ProjectionNode)}return gt.jsxs(jh.Provider,{value:x,children:[E&&x.visualElement?gt.jsx(E,{visualElement:x.visualElement,...A}):null,i(o,g,iD(N,x.visualElement,v),N,w,x.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(c=(u=o.displayName)!==null&&u!==void 0?u:o.name)!==null&&c!==void 0?c:""})`}`;const m=H.forwardRef(d);return m[nD]=o,m}function lD({layoutId:e}){const t=H.useContext(rA).id;return t&&e!==void 0?t+"-"+e:e}function uD(e,t){H.useContext(lA).strict}function cD(e){const{drag:t,layout:i}=lo;if(!t&&!i)return{};const s={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const mA=e=>t=>typeof t=="string"&&t.startsWith(e),Up=mA("--"),hD=mA("var(--"),kp=e=>hD(e)?fD.test(e.split("/*")[0].trim()):!1,fD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eu={};function dD(e){for(const t in e)eu[t]=e[t],Up(t)&&(eu[t].isCSSVariable=!0)}const Eo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ea=new Set(Eo);function pA(e,{layout:t,layoutId:i}){return ea.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!eu[e]||e==="opacity")}const nn=e=>!!(e&&e.getVelocity),gA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ir=(e,t,i)=>i>t?t:i<e?e:i,Ao={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nu={...Ao,transform:e=>ir(0,1,e)},Zc={...Ao,default:1},_u=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kr=_u("deg"),yi=_u("%"),Tt=_u("px"),mD=_u("vh"),pD=_u("vw"),p_={...yi,parse:e=>yi.parse(e)/100,transform:e=>yi.transform(e*100)},gD={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt},yD={rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Zc,scaleX:Zc,scaleY:Zc,scaleZ:Zc,skew:Kr,skewX:Kr,skewY:Kr,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:nu,originX:p_,originY:p_,originZ:Tt},g_={...Ao,transform:Math.round},Bp={...gD,...yD,zIndex:g_,size:Tt,fillOpacity:nu,strokeOpacity:nu,numOctaves:g_},vD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_D=Eo.length;function TD(e,t,i){let s="",o=!0;for(let u=0;u<_D;u++){const c=Eo[u],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||i){const g=gA(d,Bp[c]);if(!m){o=!1;const v=vD[c]||c;s+=`${v}(${g}) `}i&&(t[c]=g)}}return s=s.trim(),i?s=i(t,o?"":s):o&&(s="none"),s}function zp(e,t,i){const{style:s,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(ea.has(m)){c=!0;continue}else if(Up(m)){o[m]=g;continue}else{const v=gA(g,Bp[m]);m.startsWith("origin")?(d=!0,u[m]=v):s[m]=v}}if(t.transform||(c||i?s.transform=TD(t,e.transform,i):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;s.transformOrigin=`${m} ${g} ${v}`}}const jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yA(e,t,i){for(const s in t)!nn(t[s])&&!pA(s,i)&&(e[s]=t[s])}function ED({transformTemplate:e},t){return H.useMemo(()=>{const i=jp();return zp(i,t,e),Object.assign({},i.vars,i.style)},[t])}function AD(e,t){const i=e.style||{},s={};return yA(s,i,e),Object.assign(s,ED(e,t)),s}function SD(e,t){const i={},s=AD(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=s,i}const bD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qp(e){return typeof e!="string"||e.includes("-")?!1:!!(bD.indexOf(e)>-1||/[A-Z]/u.test(e))}const wD={offset:"stroke-dashoffset",array:"stroke-dasharray"},RD={offset:"strokeDashoffset",array:"strokeDasharray"};function CD(e,t,i=1,s=0,o=!0){e.pathLength=1;const u=o?wD:RD;e[u.offset]=Tt.transform(-s);const c=Tt.transform(t),d=Tt.transform(i);e[u.array]=`${c} ${d}`}function y_(e,t,i){return typeof e=="string"?e:Tt.transform(t+i*e)}function DD(e,t,i){const s=y_(t,e.x,e.width),o=y_(i,e.y,e.height);return`${s} ${o}`}function Fp(e,{attrX:t,attrY:i,attrScale:s,originX:o,originY:u,pathLength:c,pathSpacing:d=1,pathOffset:m=0,...g},v,E){if(zp(e,g,E),v){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:w,dimensions:x}=e;A.transform&&(x&&(w.transform=A.transform),delete A.transform),x&&(o!==void 0||u!==void 0||w.transform)&&(w.transformOrigin=DD(x,o!==void 0?o:.5,u!==void 0?u:.5)),t!==void 0&&(A.x=t),i!==void 0&&(A.y=i),s!==void 0&&(A.scale=s),c!==void 0&&CD(A,c,d,m,!1)}const vA=()=>({...jp(),attrs:{}}),Hp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xD(e,t,i,s){const o=H.useMemo(()=>{const u=vA();return Fp(u,t,Hp(s),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};yA(u,e.style,e),o.style={...u,...o.style}}return o}function VD(e=!1){return(i,s,o,{latestValues:u},c)=>{const m=(qp(i)?xD:SD)(s,u,c,i),g=WC(s,typeof i=="string",e),v=i!==H.Fragment?{...g,...m,ref:o}:{},{children:E}=s,A=H.useMemo(()=>nn(E)?E.get():E,[E]);return H.createElement(i,{...v,children:A})}}function v_(e){const t=[{},{}];return e?.values.forEach((i,s)=>{t[0][s]=i.get(),t[1][s]=i.getVelocity()}),t}function Gp(e,t,i,s){if(typeof t=="function"){const[o,u]=v_(s);t=t(i!==void 0?i:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=v_(s);t=t(i!==void 0?i:e.custom,o,u)}return t}const km=e=>Array.isArray(e),ID=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),MD=e=>km(e)?e[e.length-1]||0:e;function ah(e){const t=nn(e)?e.get():e;return ID(t)?t.toValue():t}function OD({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:i},s,o,u){const c={latestValues:ND(s,o,u,e),renderState:t()};return i&&(c.onMount=d=>i({props:s,current:d,...c}),c.onUpdate=d=>i(d)),c}const _A=e=>(t,i)=>{const s=H.useContext(jh),o=H.useContext(Vp),u=()=>OD(e,t,s,o);return i?u():FC(u)};function ND(e,t,i,s){const o={},u=s(e,{});for(const A in u)o[A]=ah(u[A]);let{initial:c,animate:d}=e;const m=Fh(e),g=cA(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const E=v?d:c;if(E&&typeof E!="boolean"&&!qh(E)){const A=Array.isArray(E)?E:[E];for(let w=0;w<A.length;w++){const x=Gp(e,A[w]);if(x){const{transitionEnd:N,transition:O,...k}=x;for(const F in k){let $=k[F];if(Array.isArray($)){const rt=v?$.length-1:0;$=$[rt]}$!==null&&(o[F]=$)}for(const F in N)o[F]=N[F]}}}return o}function Kp(e,t,i){var s;const{style:o}=e,u={};for(const c in o)(nn(o[c])||t.style&&nn(t.style[c])||pA(c,e)||((s=i?.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(u[c]=o[c]);return u}const PD={useVisualState:_A({scrapeMotionValuesFromProps:Kp,createRenderState:jp})};function TA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function EA(e,{style:t,vars:i},s,o){Object.assign(e.style,t,o&&o.getProjectionStyles(s));for(const u in i)e.style.setProperty(u,i[u])}const AA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SA(e,t,i,s){EA(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(AA.has(o)?o:Pp(o),t.attrs[o])}function bA(e,t,i){const s=Kp(e,t,i);for(const o in e)if(nn(e[o])||nn(t[o])){const u=Eo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const __=["x","y","width","height","cx","cy","r"],LD={useVisualState:_A({scrapeMotionValuesFromProps:bA,createRenderState:vA,onUpdate:({props:e,prevProps:t,current:i,renderState:s,latestValues:o})=>{if(!i)return;let u=!!e.drag;if(!u){for(const d in o)if(ea.has(d)){u=!0;break}}if(!u)return;let c=!t;if(t)for(let d=0;d<__.length;d++){const m=__[d];e[m]!==t[m]&&(c=!0)}c&&Wt.read(()=>{TA(i,s),Wt.render(()=>{Fp(s,o,Hp(i.tagName),e.transformTemplate),SA(i,s)})})}})};function UD(e,t){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...qp(s)?LD:PD,preloadedFeatures:e,useRender:VD(o),createVisualElement:t,Component:s};return oD(c)}}function iu(e,t,i){const s=e.getProps();return Gp(s,t,i!==void 0?i:s.custom,e)}const kD=Mp(()=>window.ScrollTimeline!==void 0);class BD{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,i){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=i}attachTimeline(t,i){const s=this.animations.map(o=>{if(kD()&&o.attachTimeline)return o.attachTimeline(t);if(typeof i=="function")return i(o)});return()=>{s.forEach((o,u)=>{o&&o(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let i=0;i<this.animations.length;i++)t=Math.max(t,this.animations[i].duration);return t}runAll(t){this.animations.forEach(i=>i[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class zD extends BD{then(t,i){return Promise.all(this.animations).then(t).catch(i)}}function Qp(e,t){return e?e[t]||e.default||e:void 0}const Bm=2e4;function wA(e){let t=0;const i=50;let s=e.next(t);for(;!s.done&&t<Bm;)t+=i,s=e.next(t);return t>=Bm?1/0:t}function $p(e){return typeof e=="function"}function T_(e,t){e.timeline=t,e.onfinish=null}const Yp=e=>Array.isArray(e)&&typeof e[0]=="number",jD={linearEasing:void 0};function qD(e,t){const i=Mp(e);return()=>{var s;return(s=jD[t])!==null&&s!==void 0?s:i()}}const gh=qD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),RA=(e,t,i=10)=>{let s="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)s+=e(oo(0,o-1,u))+", ";return`linear(${s.substring(0,s.length-2)})`};function CA(e){return!!(typeof e=="function"&&gh()||!e||typeof e=="string"&&(e in zm||gh())||Yp(e)||Array.isArray(e)&&e.every(CA))}const kl=([e,t,i,s])=>`cubic-bezier(${e}, ${t}, ${i}, ${s})`,zm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kl([0,.65,.55,1]),circOut:kl([.55,0,1,.45]),backIn:kl([.31,.01,.66,-.59]),backOut:kl([.33,1.53,.69,.99])};function DA(e,t){if(e)return typeof e=="function"&&gh()?RA(e,t):Yp(e)?kl(e):Array.isArray(e)?e.map(i=>DA(i,t)||zm.easeOut):zm[e]}const Wn={x:!1,y:!1};function xA(){return Wn.x||Wn.y}function FD(e,t,i){var s;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const u=(s=void 0)!==null&&s!==void 0?s:o.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e)}function VA(e,t){const i=FD(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[i,o,()=>s.abort()]}function E_(e){return!(e.pointerType==="touch"||xA())}function HD(e,t,i={}){const[s,o,u]=VA(e,i),c=d=>{if(!E_(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const v=E=>{E_(E)&&(g(E),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}function yh(e,t){const i=`${t}PointerCapture`;if(e.target instanceof Element&&i in e.target&&e.pointerId!==void 0)try{e.target[i](e.pointerId)}catch{}}const IA=(e,t)=>t?e===t?!0:IA(e,t.parentElement):!1,Xp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KD(e){return GD.has(e.tagName)||e.tabIndex!==-1}const Bl=new WeakSet;function A_(e){return t=>{t.key==="Enter"&&e(t)}}function mm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const QD=(e,t)=>{const i=e.currentTarget;if(!i)return;const s=A_(()=>{if(Bl.has(i))return;mm(i,"down");const o=A_(()=>{mm(i,"up")}),u=()=>mm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",s,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),t)};function S_(e){return Xp(e)&&!xA()}function $D(e,t,i={}){const[s,o,u]=VA(e,i),c=d=>{const m=d.currentTarget;if(!m||!S_(d)||Bl.has(m))return;Bl.add(m),yh(d,"set");const g=t(m,d),v=(w,x)=>{m.removeEventListener("pointerup",E),m.removeEventListener("pointercancel",A),yh(w,"release"),!(!S_(w)||!Bl.has(m))&&(Bl.delete(m),typeof g=="function"&&g(w,{success:x}))},E=w=>{(w.isTrusted?YD(w,m instanceof Element?m.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?v(w,!1):v(w,!(m instanceof Element)||IA(m,w.target))},A=w=>{v(w,!1)};m.addEventListener("pointerup",E,o),m.addEventListener("pointercancel",A,o),m.addEventListener("lostpointercapture",A,o)};return s.forEach(d=>{d=i.useGlobalTarget?window:d;let m=!1;d instanceof HTMLElement&&(m=!0,!KD(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0)),d.addEventListener("pointerdown",c,o),m&&d.addEventListener("focus",g=>QD(g,o),o)}),u}function YD(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}function XD(e){return e==="x"||e==="y"?Wn[e]?null:(Wn[e]=!0,()=>{Wn[e]=!1}):Wn.x||Wn.y?null:(Wn.x=Wn.y=!0,()=>{Wn.x=Wn.y=!1})}const MA=new Set(["width","height","top","left","right","bottom",...Eo]);let oh;function ZD(){oh=void 0}const vi={now:()=>(oh===void 0&&vi.set(Ge.isProcessing||KC.useManualTiming?Ge.timestamp:performance.now()),oh),set:e=>{oh=e,queueMicrotask(ZD)}};function Zp(e,t){e.indexOf(t)===-1&&e.push(t)}function Wp(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class Jp{constructor(){this.subscriptions=[]}add(t){return Zp(this.subscriptions,t),()=>Wp(this.subscriptions,t)}notify(t,i,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function OA(e,t){return t?e*(1e3/t):0}const b_=30,WD=e=>!isNaN(parseFloat(e));class JD{constructor(t,i={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const u=vi.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=vi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=WD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Jp);const s=this.events[t].add(i);return t==="change"?()=>{s(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>b_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,b_);return OA(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ru(e,t){return new JD(e,t)}function tx(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,ru(i))}function ex(e,t){const i=iu(e,t);let{transitionEnd:s={},transition:o={},...u}=i||{};u={...u,...s};for(const c in u){const d=MD(u[c]);tx(e,c,d)}}function nx(e){return!!(nn(e)&&e.add)}function jm(e,t){const i=e.getValue("willChange");if(nx(i))return i.add(t)}function NA(e){return e.props[hA]}const PA=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,ix=1e-7,rx=12;function sx(e,t,i,s,o){let u,c,d=0;do c=t+(i-t)/2,u=PA(c,s,o)-e,u>0?i=c:t=c;while(Math.abs(u)>ix&&++d<rx);return c}function Tu(e,t,i,s){if(e===t&&i===s)return Sn;const o=u=>sx(u,0,1,e,i);return u=>u===0||u===1?u:PA(o(u),t,s)}const LA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,UA=e=>t=>1-e(1-t),kA=Tu(.33,1.53,.69,.99),tg=UA(kA),BA=LA(tg),zA=e=>(e*=2)<1?.5*tg(e):.5*(2-Math.pow(2,-10*(e-1))),eg=e=>1-Math.sin(Math.acos(e)),jA=UA(eg),qA=LA(eg),FA=e=>/^0[^.\s]+$/u.test(e);function ax(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||FA(e):!0}const Gl=e=>Math.round(e*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ox(e){return e==null}const lx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ig=(e,t)=>i=>!!(typeof i=="string"&&lx.test(i)&&i.startsWith(e)||t&&!ox(i)&&Object.prototype.hasOwnProperty.call(i,t)),HA=(e,t,i)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(ng);return{[e]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},ux=e=>ir(0,255,e),pm={...Ao,transform:e=>Math.round(ux(e))},Qs={test:ig("rgb","red"),parse:HA("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:s=1})=>"rgba("+pm.transform(e)+", "+pm.transform(t)+", "+pm.transform(i)+", "+Gl(nu.transform(s))+")"};function cx(e){let t="",i="",s="",o="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,i+=i,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const qm={test:ig("#"),parse:cx,transform:Qs.transform},eo={test:ig("hsl","hue"),parse:HA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:s=1})=>"hsla("+Math.round(e)+", "+yi.transform(Gl(t))+", "+yi.transform(Gl(i))+", "+Gl(nu.transform(s))+")"},Je={test:e=>Qs.test(e)||qm.test(e)||eo.test(e),parse:e=>Qs.test(e)?Qs.parse(e):eo.test(e)?eo.parse(e):qm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qs.transform(e):eo.transform(e)},hx=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fx(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ng))===null||t===void 0?void 0:t.length)||0)+(((i=e.match(hx))===null||i===void 0?void 0:i.length)||0)>0}const GA="number",KA="color",dx="var",mx="var(",w_="${}",px=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function su(e){const t=e.toString(),i=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(px,m=>(Je.test(m)?(s.color.push(u),o.push(KA),i.push(Je.parse(m))):m.startsWith(mx)?(s.var.push(u),o.push(dx),i.push(m)):(s.number.push(u),o.push(GA),i.push(parseFloat(m))),++u,w_)).split(w_);return{values:i,split:d,indexes:s,types:o}}function QA(e){return su(e).values}function $A(e){const{split:t,types:i}=su(e),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===GA?u+=Gl(o[c]):d===KA?u+=Je.transform(o[c]):u+=o[c]}return u}}const gx=e=>typeof e=="number"?0:e;function yx(e){const t=QA(e);return $A(e)(t.map(gx))}const es={test:fx,parse:QA,createTransformer:$A,getAnimatableNone:yx},vx=new Set(["brightness","contrast","saturate","opacity"]);function _x(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=i.match(ng)||[];if(!s)return e;const o=i.replace(s,"");let u=vx.has(t)?1:0;return s!==i&&(u*=100),t+"("+u+o+")"}const Tx=/\b([a-z-]*)\(.*?\)/gu,Fm={...es,getAnimatableNone:e=>{const t=e.match(Tx);return t?t.map(_x).join(" "):e}},Ex={...Bp,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:Fm,WebkitFilter:Fm},rg=e=>Ex[e];function YA(e,t){let i=rg(e);return i!==Fm&&(i=es),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const Ax=new Set(["auto","none","0"]);function Sx(e,t,i){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!Ax.has(u)&&su(u).values.length&&(o=e[s]),s++}if(o&&i)for(const u of t)e[u]=YA(i,o)}const R_=e=>e===Ao||e===Tt,C_=(e,t)=>parseFloat(e.split(", ")[t]),D_=(e,t)=>(i,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/u);if(o)return C_(o[1],t);{const u=s.match(/^matrix\((.+)\)$/u);return u?C_(u[1],e):0}},bx=new Set(["x","y","z"]),wx=Eo.filter(e=>!bx.has(e));function Rx(e){const t=[];return wx.forEach(i=>{const s=e.getValue(i);s!==void 0&&(t.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),t}const uo={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:D_(4,13),y:D_(5,14)};uo.translateX=uo.x;uo.translateY=uo.y;const Xs=new Set;let Hm=!1,Gm=!1;function XA(){if(Gm){const e=Array.from(Xs).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),i=new Map;t.forEach(s=>{const o=Rx(s);o.length&&(i.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=i.get(s);o&&o.forEach(([u,c])=>{var d;(d=s.getValue(u))===null||d===void 0||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Gm=!1,Hm=!1,Xs.forEach(e=>e.complete()),Xs.clear()}function ZA(){Xs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Gm=!0)})}function Cx(){ZA(),XA()}class sg{constructor(t,i,s,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xs.add(this),Hm||(Hm=!0,Wt.read(ZA),Wt.resolveKeyframes(XA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:s,motionValue:o}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const c=o?.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(s&&i){const m=s.readValue(i,d);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=d),o&&c===void 0&&o.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const WA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Dx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xx(e){const t=Dx.exec(e);if(!t)return[,];const[,i,s,o]=t;return[`--${i??s}`,o]}function JA(e,t,i=1){const[s,o]=xx(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return WA(c)?parseFloat(c):c}return kp(o)?JA(o,t,i+1):o}const tS=e=>t=>t.test(e),Vx={test:e=>e==="auto",parse:e=>e},eS=[Ao,Tt,yi,Kr,pD,mD,Vx],x_=e=>eS.find(tS(e));class nS extends sg{constructor(t,i,s,o,u){super(t,i,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),kp(g))){const v=JA(g,i.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!MA.has(s)||t.length!==2)return;const[o,u]=t,c=x_(o),d=x_(u);if(c!==d)if(R_(c)&&R_(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,s=[];for(let o=0;o<t.length;o++)ax(t[o])&&s.push(o);s.length&&Sx(t,s,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uo[s](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var t;const{element:i,name:s,unresolvedKeyframes:o}=this;if(!i||!i.current)return;const u=i.getValue(s);u&&u.jump(this.measuredOrigin,!1);const c=o.length-1,d=o[c];o[c]=uo[s](i.measureViewportBox(),window.getComputedStyle(i.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([m,g])=>{i.getValue(m).set(g)}),this.resolveNoneKeyframes()}}const V_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(es.test(e)||e==="0")&&!e.startsWith("url("));function Ix(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function Mx(e,t,i,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=V_(o,t),d=V_(u,t);return!c||!d?!1:Ix(e)||(i==="spring"||$p(i))&&s}const Ox=e=>e!==null;function Hh(e,{repeat:t,repeatType:i="loop"},s){const o=e.filter(Ox),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return!u||s===void 0?o[u]:s}const Nx=40;class iS{constructor({autoplay:t=!0,delay:i=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=vi.now(),this.options={autoplay:t,delay:i,type:s,repeat:o,repeatDelay:u,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Nx?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Cx(),this._resolved}onKeyframesResolved(t,i){this.resolvedAt=vi.now(),this.hasAttemptedResolve=!0;const{name:s,type:o,velocity:u,delay:c,onComplete:d,onUpdate:m,isGenerator:g}=this.options;if(!g&&!Mx(t,s,o,u))if(c)this.options.duration=0;else{m&&m(Hh(t,this.options,i)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(t,i);v!==!1&&(this._resolved={keyframes:t,finalKeyframe:i,...v},this.onPostResolved())}onPostResolved(){}then(t,i){return this.currentFinishedPromise.then(t,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ne=(e,t,i)=>e+(t-e)*i;function gm(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function Px({hue:e,saturation:t,lightness:i,alpha:s}){e/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,m=2*i-d;o=gm(m,d,e+1/3),u=gm(m,d,e),c=gm(m,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function vh(e,t){return i=>i>0?t:e}const ym=(e,t,i)=>{const s=e*e,o=i*(t*t-s)+s;return o<0?0:Math.sqrt(o)},Lx=[qm,Qs,eo],Ux=e=>Lx.find(t=>t.test(e));function I_(e){const t=Ux(e);if(!t)return!1;let i=t.parse(e);return t===eo&&(i=Px(i)),i}const M_=(e,t)=>{const i=I_(e),s=I_(t);if(!i||!s)return vh(e,t);const o={...i};return u=>(o.red=ym(i.red,s.red,u),o.green=ym(i.green,s.green,u),o.blue=ym(i.blue,s.blue,u),o.alpha=ne(i.alpha,s.alpha,u),Qs.transform(o))},kx=(e,t)=>i=>t(e(i)),Eu=(...e)=>e.reduce(kx),Km=new Set(["none","hidden"]);function Bx(e,t){return Km.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function zx(e,t){return i=>ne(e,t,i)}function ag(e){return typeof e=="number"?zx:typeof e=="string"?kp(e)?vh:Je.test(e)?M_:Fx:Array.isArray(e)?rS:typeof e=="object"?Je.test(e)?M_:jx:vh}function rS(e,t){const i=[...e],s=i.length,o=e.map((u,c)=>ag(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)i[c]=o[c](u);return i}}function jx(e,t){const i={...e,...t},s={};for(const o in i)e[o]!==void 0&&t[o]!==void 0&&(s[o]=ag(e[o])(e[o],t[o]));return o=>{for(const u in s)i[u]=s[u](o);return i}}function qx(e,t){var i;const s=[],o={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const c=t.types[u],d=e.indexes[c][o[c]],m=(i=e.values[d])!==null&&i!==void 0?i:0;s[u]=m,o[c]++}return s}const Fx=(e,t)=>{const i=es.createTransformer(t),s=su(e),o=su(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Km.has(e)&&!o.values.length||Km.has(t)&&!s.values.length?Bx(e,t):Eu(rS(qx(s,o),o.values),i):vh(e,t)};function sS(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?ne(e,t,i):ag(e)(e,t)}const Hx=5;function aS(e,t,i){const s=Math.max(t-Hx,0);return OA(i-e(s),t-s)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},O_=.001;function Gx({duration:e=he.duration,bounce:t=he.bounce,velocity:i=he.velocity,mass:s=he.mass}){let o,u,c=1-t;c=ir(he.minDamping,he.maxDamping,c),e=ir(he.minDuration,he.maxDuration,er(e)),c<1?(o=g=>{const v=g*c,E=v*e,A=v-i,w=Qm(g,c),x=Math.exp(-E);return O_-A/w*x},u=g=>{const E=g*c*e,A=E*i+i,w=Math.pow(c,2)*Math.pow(g,2)*e,x=Math.exp(-E),N=Qm(Math.pow(g,2),c);return(-o(g)+O_>0?-1:1)*((A-w)*x)/N}):(o=g=>{const v=Math.exp(-g*e),E=(g-i)*e+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*e),E=(i-g)*(e*e);return v*E});const d=5/e,m=Qx(o,u,d);if(e=tr(e),isNaN(m))return{stiffness:he.stiffness,damping:he.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const Kx=12;function Qx(e,t,i){let s=i;for(let o=1;o<Kx;o++)s=s-e(s)/t(s);return s}function Qm(e,t){return e*Math.sqrt(1-t*t)}const $x=["duration","bounce"],Yx=["stiffness","damping","mass"];function N_(e,t){return t.some(i=>e[i]!==void 0)}function Xx(e){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...e};if(!N_(e,Yx)&&N_(e,$x))if(e.visualDuration){const i=e.visualDuration,s=2*Math.PI/(i*1.2),o=s*s,u=2*ir(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:he.mass,stiffness:o,damping:u}}else{const i=Gx(e);t={...t,...i,mass:he.mass},t.isResolvedFromDuration=!0}return t}function oS(e=he.visualDuration,t=he.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:w}=Xx({...i,velocity:-er(i.velocity||0)}),x=A||0,N=g/(2*Math.sqrt(m*v)),O=c-u,k=er(Math.sqrt(m/v)),F=Math.abs(O)<5;s||(s=F?he.restSpeed.granular:he.restSpeed.default),o||(o=F?he.restDelta.granular:he.restDelta.default);let $;if(N<1){const J=Qm(k,N);$=at=>{const M=Math.exp(-N*k*at);return c-M*((x+N*k*O)/J*Math.sin(J*at)+O*Math.cos(J*at))}}else if(N===1)$=J=>c-Math.exp(-k*J)*(O+(x+k*O)*J);else{const J=k*Math.sqrt(N*N-1);$=at=>{const M=Math.exp(-N*k*at),C=Math.min(J*at,300);return c-M*((x+N*k*O)*Math.sinh(C)+J*O*Math.cosh(C))/J}}const rt={calculatedDuration:w&&E||null,next:J=>{const at=$(J);if(w)d.done=J>=E;else{let M=0;N<1&&(M=J===0?tr(x):aS($,J,at));const C=Math.abs(M)<=s,R=Math.abs(c-at)<=o;d.done=C&&R}return d.value=d.done?c:at,d},toString:()=>{const J=Math.min(wA(rt),Bm),at=RA(M=>rt.next(J*M).value,J,30);return J+"ms "+at}};return rt}function P_({keyframes:e,velocity:t=0,power:i=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:v}){const E=e[0],A={done:!1,value:E},w=C=>d!==void 0&&C<d||m!==void 0&&C>m,x=C=>d===void 0?m:m===void 0||Math.abs(d-C)<Math.abs(m-C)?d:m;let N=i*t;const O=E+N,k=c===void 0?O:c(O);k!==O&&(N=k-E);const F=C=>-N*Math.exp(-C/s),$=C=>k+F(C),rt=C=>{const R=F(C),V=$(C);A.done=Math.abs(R)<=g,A.value=A.done?k:V};let J,at;const M=C=>{w(A.value)&&(J=C,at=oS({keyframes:[A.value,x(A.value)],velocity:aS($,C,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return M(0),{calculatedDuration:null,next:C=>{let R=!1;return!at&&J===void 0&&(R=!0,rt(C),M(C)),J!==void 0&&C>=J?at.next(C-J):(!R&&rt(C),A)}}}const Zx=Tu(.42,0,1,1),Wx=Tu(0,0,.58,1),lS=Tu(.42,0,.58,1),Jx=e=>Array.isArray(e)&&typeof e[0]!="number",t2={linear:Sn,easeIn:Zx,easeInOut:lS,easeOut:Wx,circIn:eg,circInOut:qA,circOut:jA,backIn:tg,backInOut:BA,backOut:kA,anticipate:zA},L_=e=>{if(Yp(e)){aA(e.length===4);const[t,i,s,o]=e;return Tu(t,i,s,o)}else if(typeof e=="string")return t2[e];return e};function e2(e,t,i){const s=[],o=i||sS,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Sn:t;d=Eu(m,d)}s.push(d)}return s}function n2(e,t,{clamp:i=!0,ease:s,mixer:o}={}){const u=e.length;if(aA(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=e2(t,s,o),m=d.length,g=v=>{if(c&&v<e[0])return t[0];let E=0;if(m>1)for(;E<e.length-2&&!(v<e[E+1]);E++);const A=oo(e[E],e[E+1],v);return d[E](A)};return i?v=>g(ir(e[0],e[u-1],v)):g}function i2(e,t){const i=e[e.length-1];for(let s=1;s<=t;s++){const o=oo(0,t,s);e.push(ne(i,1,o))}}function r2(e){const t=[0];return i2(t,e.length-1),t}function s2(e,t){return e.map(i=>i*t)}function a2(e,t){return e.map(()=>t||lS).splice(0,e.length-1)}function _h({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){const o=Jx(s)?s.map(L_):L_(s),u={done:!1,value:t[0]},c=s2(i&&i.length===t.length?i:r2(t),e),d=n2(c,t,{ease:Array.isArray(o)?o:a2(t,o)});return{calculatedDuration:e,next:m=>(u.value=d(m),u.done=m>=e,u)}}const o2=e=>{const t=({timestamp:i})=>e(i);return{start:()=>Wt.update(t,!0),stop:()=>ts(t),now:()=>Ge.isProcessing?Ge.timestamp:vi.now()}},l2={decay:P_,inertia:P_,tween:_h,keyframes:_h,spring:oS},u2=e=>e/100;class og extends iS{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:i,motionValue:s,element:o,keyframes:u}=this.options,c=o?.KeyframeResolver||sg,d=(m,g)=>this.onKeyframesResolved(m,g);this.resolver=new c(u,d,i,s,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=this.options,d=$p(i)?i:l2[i]||_h;let m,g;d!==_h&&typeof t[0]!="number"&&(m=Eu(u2,sS(t[0],t[1])),t=[0,100]);const v=d({...this.options,keyframes:t});u==="mirror"&&(g=d({...this.options,keyframes:[...t].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=wA(v));const{calculatedDuration:E}=v,A=E+o,w=A*(s+1)-o;return{generator:v,mirroredGenerator:g,mapPercentToKeyframes:m,calculatedDuration:E,resolvedDuration:A,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,i=!1){const{resolved:s}=this;if(!s){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:o,generator:u,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:m,calculatedDuration:g,totalDuration:v,resolvedDuration:E}=s;if(this.startTime===null)return u.next(0);const{delay:A,repeat:w,repeatType:x,repeatDelay:N,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-v/this.speed,this.startTime)),i?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const k=this.currentTime-A*(this.speed>=0?1:-1),F=this.speed>=0?k<0:k>v;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let $=this.currentTime,rt=u;if(w){const C=Math.min(this.currentTime,v)/E;let R=Math.floor(C),V=C%1;!V&&C>=1&&(V=1),V===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(x==="reverse"?(V=1-V,N&&(V-=N/E)):x==="mirror"&&(rt=c)),$=ir(0,1,V)*E}const J=F?{done:!1,value:m[0]}:rt.next($);d&&(J.value=d(J.value));let{done:at}=J;!F&&g!==null&&(at=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return M&&o!==void 0&&(J.value=Hh(m,this.options,o)),O&&O(J.value),M&&this.finish(),J}get duration(){const{resolved:t}=this;return t?er(t.calculatedDuration):0}get time(){return er(this.currentTime)}set time(t){t=tr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=er(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=o2,onPlay:i,startTime:s}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),i&&i();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const c2=new Set(["opacity","clipPath","filter","transform"]);function h2(e,t,i,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeInOut",times:m}={}){const g={[t]:i};m&&(g.offset=m);const v=DA(d,o);return Array.isArray(v)&&(g.easing=v),e.animate(g,{delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"})}const f2=Mp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Th=10,d2=2e4;function m2(e){return $p(e.type)||e.type==="spring"||!CA(e.ease)}function p2(e,t){const i=new og({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const o=[];let u=0;for(;!s.done&&u<d2;)s=i.sample(u),o.push(s.value),u+=Th;return{times:void 0,keyframes:o,duration:u-Th,ease:"linear"}}const uS={anticipate:zA,backInOut:BA,circInOut:qA};function g2(e){return e in uS}class U_ extends iS{constructor(t){super(t);const{name:i,motionValue:s,element:o,keyframes:u}=this.options;this.resolver=new nS(u,(c,d)=>this.onKeyframesResolved(c,d),i,s,o),this.resolver.scheduleResolve()}initPlayback(t,i){let{duration:s=300,times:o,ease:u,type:c,motionValue:d,name:m,startTime:g}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof u=="string"&&gh()&&g2(u)&&(u=uS[u]),m2(this.options)){const{onComplete:E,onUpdate:A,motionValue:w,element:x,...N}=this.options,O=p2(t,N);t=O.keyframes,t.length===1&&(t[1]=t[0]),s=O.duration,o=O.times,u=O.ease,c="keyframes"}const v=h2(d.owner.current,m,t,{...this.options,duration:s,times:o,ease:u});return v.startTime=g??this.calcStartTime(),this.pendingTimeline?(T_(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:E}=this.options;d.set(Hh(t,this.options,i)),E&&E(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:s,times:o,type:c,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:i}=t;return er(i)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:i}=t;return er(i.currentTime||0)}set time(t){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.currentTime=tr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:i}=t;return i.playbackRate}set speed(t){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:i}=t;return i.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:i}=t;return i.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:i}=this;if(!i)return Sn;const{animation:s}=i;T_(s,t)}return Sn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:i,keyframes:s,duration:o,type:u,ease:c,times:d}=t;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:v,onComplete:E,element:A,...w}=this.options,x=new og({...w,keyframes:s,duration:o,type:u,ease:c,times:d,isGenerator:!0}),N=tr(this.time);g.setWithVelocity(x.sample(N-Th).value,x.sample(N).value,Th)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:i,name:s,repeatDelay:o,repeatType:u,damping:c,type:d}=t;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=i.owner.getProps();return f2()&&s&&c2.has(s)&&!m&&!g&&!o&&u!=="mirror"&&c!==0&&d!=="inertia"}}const y2={type:"spring",stiffness:500,damping:25,restSpeed:10},v2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_2={type:"keyframes",duration:.8},T2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},E2=(e,{keyframes:t})=>t.length>2?_2:ea.has(e)?e.startsWith("scale")?v2(t[1]):y2:T2;function A2({when:e,delay:t,delayChildren:i,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const lg=(e,t,i,s={},o,u)=>c=>{const d=Qp(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-tr(m);let v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};A2(d)||(v={...v,...E2(e,v)}),v.duration&&(v.duration=tr(v.duration)),v.repeatDelay&&(v.repeatDelay=tr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),E&&!u&&t.get()!==void 0){const A=Hh(v.keyframes,d);if(A!==void 0)return Wt.update(()=>{v.onUpdate(A),v.onComplete()}),new zD([])}return!u&&U_.supports(v)?new U_(v):new og(v)};function S2({protectedKeys:e,needsAnimating:t},i){const s=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,s}function cS(e,t,{delay:i=0,transitionOverride:s,type:o}={}){var u;let{transition:c=e.getDefaultTransition(),transitionEnd:d,...m}=t;s&&(c=s);const g=[],v=o&&e.animationState&&e.animationState.getState()[o];for(const E in m){const A=e.getValue(E,(u=e.latestValues[E])!==null&&u!==void 0?u:null),w=m[E];if(w===void 0||v&&S2(v,E))continue;const x={delay:i,...Qp(c||{},E)};let N=!1;if(window.MotionHandoffAnimation){const k=NA(e);if(k){const F=window.MotionHandoffAnimation(k,E,Wt);F!==null&&(x.startTime=F,N=!0)}}jm(e,E),A.start(lg(E,A,w,e.shouldReduceMotion&&MA.has(E)?{type:!1}:x,e,N));const O=A.animation;O&&g.push(O)}return d&&Promise.all(g).then(()=>{Wt.update(()=>{d&&ex(e,d)})}),g}function $m(e,t,i={}){var s;const o=iu(e,t,i.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(u=i.transitionOverride);const c=o?()=>Promise.all(cS(e,o,i)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:A}=u;return b2(e,t,v+g,E,A,i)}:()=>Promise.resolve(),{when:m}=u;if(m){const[g,v]=m==="beforeChildren"?[c,d]:[d,c];return g().then(()=>v())}else return Promise.all([c(),d(i.delay)])}function b2(e,t,i=0,s=0,o=1,u){const c=[],d=(e.variantChildren.size-1)*s,m=o===1?(g=0)=>g*s:(g=0)=>d-g*s;return Array.from(e.variantChildren).sort(w2).forEach((g,v)=>{g.notify("AnimationStart",t),c.push($m(g,t,{...u,delay:i+m(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(c)}function w2(e,t){return e.sortNodePosition(t)}function R2(e,t,i={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>$m(e,u,i));s=Promise.all(o)}else if(typeof t=="string")s=$m(e,t,i);else{const o=typeof t=="function"?iu(e,t,i.custom):t;s=Promise.all(cS(e,o,i))}return s.then(()=>{e.notify("AnimationComplete",t)})}function hS(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(t[s]!==e[s])return!1;return!0}const C2=Np.length;function fS(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?fS(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<C2;i++){const s=Np[i],o=e.props[s];(tu(o)||o===!1)&&(t[s]=o)}return t}const D2=[...Op].reverse(),x2=Op.length;function V2(e){return t=>Promise.all(t.map(({animation:i,options:s})=>R2(e,i,s)))}function I2(e){let t=V2(e),i=k_(),s=!0;const o=m=>(g,v)=>{var E;const A=iu(e,v,m==="exit"?(E=e.presenceContext)===null||E===void 0?void 0:E.custom:void 0);if(A){const{transition:w,transitionEnd:x,...N}=A;g={...g,...N,...x}}return g};function u(m){t=m(e)}function c(m){const{props:g}=e,v=fS(e.parent)||{},E=[],A=new Set;let w={},x=1/0;for(let O=0;O<x2;O++){const k=D2[O],F=i[k],$=g[k]!==void 0?g[k]:v[k],rt=tu($),J=k===m?F.isActive:null;J===!1&&(x=O);let at=$===v[k]&&$!==g[k]&&rt;if(at&&s&&e.manuallyAnimateOnMount&&(at=!1),F.protectedKeys={...w},!F.isActive&&J===null||!$&&!F.prevProp||qh($)||typeof $=="boolean")continue;const M=M2(F.prevProp,$);let C=M||k===m&&F.isActive&&!at&&rt||O>x&&rt,R=!1;const V=Array.isArray($)?$:[$];let L=V.reduce(o(k),{});J===!1&&(L={});const{prevResolvedValues:j={}}=F,I={...j,...L},se=ct=>{C=!0,A.has(ct)&&(R=!0,A.delete(ct)),F.needsAnimating[ct]=!0;const ht=e.getValue(ct);ht&&(ht.liveStyle=!1)};for(const ct in I){const ht=L[ct],Nt=j[ct];if(w.hasOwnProperty(ct))continue;let P=!1;km(ht)&&km(Nt)?P=!hS(ht,Nt):P=ht!==Nt,P?ht!=null?se(ct):A.add(ct):ht!==void 0&&A.has(ct)?se(ct):F.protectedKeys[ct]=!0}F.prevProp=$,F.prevResolvedValues=L,F.isActive&&(w={...w,...L}),s&&e.blockInitialAnimation&&(C=!1),C&&(!(at&&M)||R)&&E.push(...V.map(ct=>({animation:ct,options:{type:k}})))}if(A.size){const O={};if(typeof g.initial!="boolean"){const k=iu(e,Array.isArray(g.initial)?g.initial[0]:g.initial);k&&k.transition&&(O.transition=k.transition)}A.forEach(k=>{const F=e.getBaseTarget(k),$=e.getValue(k);$&&($.liveStyle=!0),O[k]=F??null}),E.push({animation:O})}let N=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(N=!1),s=!1,N?t(E):Promise.resolve()}function d(m,g){var v;if(i[m].isActive===g)return Promise.resolve();(v=e.variantChildren)===null||v===void 0||v.forEach(A=>{var w;return(w=A.animationState)===null||w===void 0?void 0:w.setActive(m,g)}),i[m].isActive=g;const E=c(m);for(const A in i)i[A].protectedKeys={};return E}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=k_(),s=!0}}}function M2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hS(t,e):!1}function Hs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k_(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}class cs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class O2 extends cs{constructor(t){super(t),t.animationState||(t.animationState=I2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let N2=0;class P2 extends cs{constructor(){super(...arguments),this.id=N2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const L2={animation:{Feature:O2},exit:{Feature:P2}};function au(e,t,i,s={passive:!0}){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i)}function Au(e){return{point:{x:e.pageX,y:e.pageY}}}const U2=e=>t=>Xp(t)&&e(t,Au(t));function no(e,t,i,s){return au(e,t,U2(i),s)}function dS({top:e,left:t,right:i,bottom:s}){return{x:{min:t,max:i},y:{min:e,max:s}}}function k2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function B2(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}const mS=1e-4,z2=1-mS,j2=1+mS,pS=.01,q2=0-pS,F2=0+pS;function cn(e){return e.max-e.min}function H2(e,t,i){return Math.abs(e-t)<=i}function B_(e,t,i,s=.5){e.origin=s,e.originPoint=ne(t.min,t.max,e.origin),e.scale=cn(i)/cn(t),e.translate=ne(i.min,i.max,e.origin)-e.originPoint,(e.scale>=z2&&e.scale<=j2||isNaN(e.scale))&&(e.scale=1),(e.translate>=q2&&e.translate<=F2||isNaN(e.translate))&&(e.translate=0)}function Kl(e,t,i,s){B_(e.x,t.x,i.x,s?s.originX:void 0),B_(e.y,t.y,i.y,s?s.originY:void 0)}function z_(e,t,i){e.min=i.min+t.min,e.max=e.min+cn(t)}function G2(e,t,i){z_(e.x,t.x,i.x),z_(e.y,t.y,i.y)}function j_(e,t,i){e.min=t.min-i.min,e.max=e.min+cn(t)}function Ql(e,t,i){j_(e.x,t.x,i.x),j_(e.y,t.y,i.y)}const q_=()=>({translate:0,scale:1,origin:0,originPoint:0}),io=()=>({x:q_(),y:q_()}),F_=()=>({min:0,max:0}),ge=()=>({x:F_(),y:F_()});function Fn(e){return[e("x"),e("y")]}function vm(e){return e===void 0||e===1}function Ym({scale:e,scaleX:t,scaleY:i}){return!vm(e)||!vm(t)||!vm(i)}function Gs(e){return Ym(e)||gS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gS(e){return H_(e.x)||H_(e.y)}function H_(e){return e&&e!=="0%"}function Eh(e,t,i){const s=e-i,o=t*s;return i+o}function G_(e,t,i,s,o){return o!==void 0&&(e=Eh(e,o,s)),Eh(e,i,s)+t}function Xm(e,t=0,i=1,s,o){e.min=G_(e.min,t,i,s,o),e.max=G_(e.max,t,i,s,o)}function yS(e,{x:t,y:i}){Xm(e.x,t.translate,t.scale,t.originPoint),Xm(e.y,i.translate,i.scale,i.originPoint)}const K_=.999999999999,Q_=1.0000000000001;function K2(e,t,i,s=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&so(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,yS(e,c)),s&&Gs(u.latestValues)&&so(e,u.latestValues))}t.x<Q_&&t.x>K_&&(t.x=1),t.y<Q_&&t.y>K_&&(t.y=1)}function ro(e,t){e.min=e.min+t,e.max=e.max+t}function $_(e,t,i,s,o=.5){const u=ne(e.min,e.max,o);Xm(e,t,i,u,s)}function so(e,t){$_(e.x,t.x,t.scaleX,t.scale,t.originX),$_(e.y,t.y,t.scaleY,t.scale,t.originY)}function vS(e,t){return dS(B2(e.getBoundingClientRect(),t))}function Q2(e,t,i){const s=vS(e,i),{scroll:o}=t;return o&&(ro(s.x,o.offset.x),ro(s.y,o.offset.y)),s}const Y_=(e,t)=>Math.abs(e-t);function $2(e,t){const i=Y_(e.x,t.x),s=Y_(e.y,t.y);return Math.sqrt(i**2+s**2)}class _S{constructor(t,i,{transformPagePoint:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Tm(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=$2(v.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:w}=v,{timestamp:x}=Ge;this.history.push({...w,timestamp:x});const{onStart:N,onMove:O}=this.handlers;E||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,E)=>{if(v.target instanceof Element&&v.target.hasPointerCapture&&v.pointerId!==void 0)try{if(!v.target.hasPointerCapture(v.pointerId))return}catch{}this.lastMoveEvent=v,this.lastMoveEventInfo=_m(E,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(v,E)=>{yh(v,"release"),this.end();const{onEnd:A,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Tm(v.type==="pointercancel"||v.type==="lostpointercapture"?this.lastMoveEventInfo:_m(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(v,N),w&&w(v,N)},!Xp(t))return;this.dragSnapToOrigin=o,this.handlers=i,this.transformPagePoint=s;const u=Au(t),c=_m(u,this.transformPagePoint),{point:d}=c,{timestamp:m}=Ge;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=i;g&&g(t,Tm(c,this.history)),yh(t,"set"),this.removeListeners=Eu(no(t.currentTarget,"pointermove",this.handlePointerMove),no(t.currentTarget,"pointerup",this.handlePointerUp),no(t.currentTarget,"pointercancel",this.handlePointerUp),no(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function _m(e,t){return t?{point:t(e.point)}:e}function X_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tm({point:e},t){return{point:e,delta:X_(e,TS(t)),offset:X_(e,Y2(t)),velocity:X2(t,.1)}}function Y2(e){return e[0]}function TS(e){return e[e.length-1]}function X2(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,s=null;const o=TS(e);for(;i>=0&&(s=e[i],!(o.timestamp-s.timestamp>tr(t)));)i--;if(!s)return{x:0,y:0};const u=er(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Z2(e,{min:t,max:i},s){return t!==void 0&&e<t?e=s?ne(t,e,s.min):Math.max(e,t):i!==void 0&&e>i&&(e=s?ne(i,e,s.max):Math.min(e,i)),e}function Z_(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function W2(e,{top:t,left:i,bottom:s,right:o}){return{x:Z_(e.x,i,o),y:Z_(e.y,t,s)}}function W_(e,t){let i=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,s]=[s,i]),{min:i,max:s}}function J2(e,t){return{x:W_(e.x,t.x),y:W_(e.y,t.y)}}function tV(e,t){let i=.5;const s=cn(e),o=cn(t);return o>s?i=oo(t.min,t.max-s,e.min):s>o&&(i=oo(e.min,e.max-o,t.min)),ir(0,1,i)}function eV(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Zm=.35;function nV(e=Zm){return e===!1?e=0:e===!0&&(e=Zm),{x:J_(e,"left","right"),y:J_(e,"top","bottom")}}function J_(e,t,i){return{min:tT(e,t),max:tT(e,i)}}function tT(e,t){return typeof e=="number"?e:e[t]||0}const iV=new WeakMap;class rV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Au(v).point)},u=(v,E)=>{const{drag:A,dragPropagation:w,onDragStart:x}=this.getProps();if(A&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XD(A),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(O=>{let k=this.getAxisMotionValue(O).get()||0;if(yi.test(k)){const{projection:F}=this.visualElement;if(F&&F.layout){const $=F.layout.layoutBox[O];$&&(k=cn($)*(parseFloat(k)/100))}}this.originPoint[O]=k}),x&&Wt.postRender(()=>x(v,E)),jm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(v,E)=>{const{dragPropagation:A,dragDirectionLock:w,onDirectionLock:x,onDrag:N}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:O}=E;if(w&&this.currentDirection===null){this.currentDirection=sV(O),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",E.point,O),this.updateAxis("y",E.point,O),this.visualElement.render(),N&&N(v,E)},d=(v,E)=>this.stop(v,E),m=()=>Fn(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)===null||E===void 0?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new _S(t,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g})}stop(t,i){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Wt.postRender(()=>u(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,s){const{drag:o}=this.getProps();if(!s||!Wc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=Z2(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var t;const{dragConstraints:i,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;i&&to(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=W2(o.layoutBox,i):this.constraints=!1,this.elastic=nV(s),u!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Fn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=eV(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!to(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Q2(s,o.root,this.visualElement.getTransformPagePoint());let c=J2(o.layout.layoutBox,u);if(i){const d=i(k2(c));this.hasMutatedConstraints=!!d,d&&(c=dS(d))}return c}startAnimation(t){const{drag:i,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Fn(v=>{if(!Wc(v,i,this.currentDirection))return;let E=m&&m[v]||{};c&&(E={min:0,max:0});const A=o?200:1e6,w=o?40:1e7,x={type:"inertia",velocity:s?t[v]:0,bounceStiffness:A,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,x)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const s=this.getAxisMotionValue(t);return jm(this.visualElement,t),s.start(lg(t,s,0,i,this.visualElement,!1))}stopAnimation(){Fn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[i];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Fn(i=>{const{drag:s}=this.getProps();if(!Wc(i,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-ne(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!to(i)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Fn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();o[c]=tV({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Fn(c=>{if(!Wc(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(ne(m,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;iV.set(this.visualElement,this);const t=this.visualElement.current,i=no(t,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();to(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Wt.read(s);const c=au(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Fn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())});return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Zm,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Wc(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function sV(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class aV extends cs{constructor(t){super(t),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new rV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const eT=e=>(t,i)=>{e&&Wt.postRender(()=>e(t,i))};class oV extends cs{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(t){this.session=new _S(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:eT(t),onStart:eT(i),onMove:s,onEnd:(u,c)=>{delete this.session,o&&Wt.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=no(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ll={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const i=nT(e,t.target.x),s=nT(e,t.target.y);return`${i}% ${s}%`}},lV={correct:(e,{treeScale:t,projectionDelta:i})=>{const s=e,o=es.parse(e);if(o.length>5)return s;const u=es.createTransformer(e),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,m=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=m;const g=ne(d,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};class uV extends H.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;dD(cV),u&&(i.group&&i.group.add(u),s&&s.register&&o&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:s,drag:o,isPresent:u}=this.props,c=s.projection;return c&&(c.isPresent=u,o||t.layoutDependency!==i||i===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Wt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ES(e){const[t,i]=HC(),s=H.useContext(rA);return gt.jsx(uV,{...e,layoutGroup:s,switchLayoutGroup:H.useContext(fA),isPresent:t,safeToRemove:i})}const cV={borderRadius:{...Ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ll,borderTopRightRadius:Ll,borderBottomLeftRadius:Ll,borderBottomRightRadius:Ll,boxShadow:lV};function hV(e,t,i){const s=nn(e)?e:ru(e);return s.start(lg("",s,t,i)),s.animation}function fV(e){return e instanceof SVGElement&&e.tagName!=="svg"}const dV=(e,t)=>e.depth-t.depth;class mV{constructor(){this.children=[],this.isDirty=!1}add(t){Zp(this.children,t),this.isDirty=!0}remove(t){Wp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dV),this.isDirty=!1,this.children.forEach(t)}}function pV(e,t){const i=vi.now(),s=({timestamp:o})=>{const u=o-i;u>=t&&(ts(s),e(u-t))};return Wt.read(s,!0),()=>ts(s)}const AS=["TopLeft","TopRight","BottomLeft","BottomRight"],gV=AS.length,iT=e=>typeof e=="string"?parseFloat(e):e,rT=e=>typeof e=="number"||Tt.test(e);function yV(e,t,i,s,o,u){o?(e.opacity=ne(0,i.opacity!==void 0?i.opacity:1,vV(s)),e.opacityExit=ne(t.opacity!==void 0?t.opacity:1,0,_V(s))):u&&(e.opacity=ne(t.opacity!==void 0?t.opacity:1,i.opacity!==void 0?i.opacity:1,s));for(let c=0;c<gV;c++){const d=`border${AS[c]}Radius`;let m=sT(t,d),g=sT(i,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||rT(m)===rT(g)?(e[d]=Math.max(ne(iT(m),iT(g),s),0),(yi.test(g)||yi.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||i.rotate)&&(e.rotate=ne(t.rotate||0,i.rotate||0,s))}function sT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vV=SS(0,.5,jA),_V=SS(.5,.95,Sn);function SS(e,t,i){return s=>s<e?0:s>t?1:i(oo(e,t,s))}function aT(e,t){e.min=t.min,e.max=t.max}function qn(e,t){aT(e.x,t.x),aT(e.y,t.y)}function oT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lT(e,t,i,s,o){return e-=t,e=Eh(e,1/i,s),o!==void 0&&(e=Eh(e,1/o,s)),e}function TV(e,t=0,i=1,s=.5,o,u=e,c=e){if(yi.test(t)&&(t=parseFloat(t),t=ne(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ne(u.min,u.max,s);e===u&&(d-=t),e.min=lT(e.min,t,i,d,o),e.max=lT(e.max,t,i,d,o)}function uT(e,t,[i,s,o],u,c){TV(e,t[i],t[s],t[o],t.scale,u,c)}const EV=["x","scaleX","originX"],AV=["y","scaleY","originY"];function cT(e,t,i,s){uT(e.x,t,EV,i?i.x:void 0,s?s.x:void 0),uT(e.y,t,AV,i?i.y:void 0,s?s.y:void 0)}function hT(e){return e.translate===0&&e.scale===1}function bS(e){return hT(e.x)&&hT(e.y)}function fT(e,t){return e.min===t.min&&e.max===t.max}function SV(e,t){return fT(e.x,t.x)&&fT(e.y,t.y)}function dT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wS(e,t){return dT(e.x,t.x)&&dT(e.y,t.y)}function mT(e){return cn(e.x)/cn(e.y)}function pT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class bV{constructor(){this.members=[]}add(t){Zp(this.members,t),t.scheduleRender()}remove(t){if(Wp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let s;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,i){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,i&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:s}=t;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wV(e,t,i){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:w,skewY:x}=i;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),A&&(s+=`rotateY(${A}deg) `),w&&(s+=`skewX(${w}deg) `),x&&(s+=`skewY(${x}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Em=["","X","Y","Z"],RV={visibility:"hidden"},gT=1e3;let CV=0;function Am(e,t,i,s){const{latestValues:o}=t;o[e]&&(i[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function RS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=NA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",Wt,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&RS(s)}function CS({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=CV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VV),this.nodes.forEach(PV),this.nodes.forEach(LV),this.nodes.forEach(IV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new mV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Jp),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fV(c),this.instance=c;const{layoutId:m,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(g||m)&&(this.isLayoutDirty=!0),e){let E;const A=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,E&&E(),E=pV(A,250),lh.hasAnimatedSinceResize&&(lh.hasAnimatedSinceResize=!1,this.nodes.forEach(vT))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||g)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:A,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||v.getDefaultTransition()||jV,{onLayoutAnimationStart:O,onLayoutAnimationComplete:k}=v.getProps(),F=!this.targetLayout||!wS(this.targetLayout,x),$=!A&&w;if(this.options.layoutRoot||this.resumeFrom||$||A&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(E,$);const rt={...Qp(N,"layout"),onPlay:O,onComplete:k};(v.shouldReduceMotion||this.options.layoutRoot)&&(rt.delay=0,rt.type=!1),this.startAnimation(rt)}else A||vT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yT);return}this.isUpdating||this.nodes.forEach(OV),this.isUpdating=!1,this.nodes.forEach(NV),this.nodes.forEach(DV),this.nodes.forEach(xV),this.clearAllSnapshots();const d=vi.now();Ge.delta=ir(0,1e3/60,d-Ge.timestamp),Ge.timestamp=d,Ge.isProcessing=!0,dm.update.process(Ge),dm.preRender.process(Ge),dm.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MV),this.sharedNodes.forEach(kV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!bS(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&(d||Gs(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),qV(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return ge();const m=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(FV))){const{scroll:v}=this.root;v&&(ro(m.x,v.offset.x),ro(m.y,v.offset.y))}return m}removeElementScroll(c){var d;const m=ge();if(qn(m,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return m;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:A}=v;v!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&qn(m,c),ro(m.x,E.offset.x),ro(m.y,E.offset.y))}return m}applyTransform(c,d=!1){const m=ge();qn(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&so(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Gs(v.latestValues)&&so(m,v.latestValues)}return Gs(this.latestValues)&&so(m,this.latestValues),m}removeTransform(c){const d=ge();qn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Gs(g.latestValues))continue;Ym(g.latestValues)&&g.updateSnapshot();const v=ge(),E=g.measurePageBox();qn(v,E),cT(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Gs(this.latestValues)&&cT(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:A}=this.options;if(!(!this.layout||!(E||A))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Ql(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),yS(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Ql(this.relativeTargetOrigin,this.target,w.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ym(this.parent.latestValues)||gS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let g=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(g=!1),g)return;const{layout:v,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||E))return;qn(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,w=this.treeScale.y;K2(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ge());const{target:x}=d;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oT(this.prevProjectionDelta.x,this.projectionDelta.x),oT(this.prevProjectionDelta.y,this.projectionDelta.y)),Kl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==w||!pT(this.projectionDelta.x,this.prevProjectionDelta.x)||!pT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=io(),this.projectionDelta=io(),this.projectionDeltaWithTransform=io()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},E=io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=ge(),w=m?m.source:void 0,x=this.layout?this.layout.source:void 0,N=w!==x,O=this.getStack(),k=!O||O.members.length<=1,F=!!(N&&!k&&this.options.crossfade===!0&&!this.path.some(zV));this.animationProgress=0;let $;this.mixTargetDelta=rt=>{const J=rt/1e3;_T(E.x,c.x,J),_T(E.y,c.y,J),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ql(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BV(this.relativeTarget,this.relativeTargetOrigin,A,J),$&&SV(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=ge()),qn($,this.relativeTarget)),N&&(this.animationValues=v,yV(v,g,this.latestValues,J,F,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{lh.hasAnimatedSinceResize=!0,this.currentAnimation=hV(0,gT,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&DS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||ge();const E=cn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+E;const A=cn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+A}qn(d,m),so(d,v),Kl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bV),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Am("z",c,g,this.animationValues);for(let v=0;v<Em.length;v++)Am(`rotate${Em[v]}`,c,g,this.animationValues),Am(`skew${Em[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}getProjectionStyles(c){var d,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return RV;const g={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=ah(c?.pointerEvents)||"",g.transform=v?v(this.latestValues,""):"none",g;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=ah(c?.pointerEvents)||""),this.hasProjected&&!Gs(this.latestValues)&&(N.transform=v?v({},""):"none",this.hasProjected=!1),N}const A=E.animationValues||E.latestValues;this.applyTransformsToTarget(),g.transform=wV(this.projectionDeltaWithTransform,this.treeScale,A),v&&(g.transform=v(A,g.transform));const{x:w,y:x}=this.projectionDelta;g.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,E.animationValues?g.opacity=E===this?(m=(d=A.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:g.opacity=E===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const N in eu){if(A[N]===void 0)continue;const{correct:O,applyTo:k,isCSSVariable:F}=eu[N],$=g.transform==="none"?A[N]:O(A[N],E);if(k){const rt=k.length;for(let J=0;J<rt;J++)g[k[J]]=$}else F?this.options.visualElement.renderState.vars[N]=$:g[N]=$}return this.options.layoutId&&(g.pointerEvents=E===this?ah(c?.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(yT),this.root.sharedNodes.clear()}}}function DV(e){e.updateLayout()}function xV(e){var t;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:u}=e.options,c=i.source!==e.layout.source;u==="size"?Fn(E=>{const A=c?i.measuredBox[E]:i.layoutBox[E],w=cn(A);A.min=s[E].min,A.max=A.min+w}):DS(u,i.layoutBox,s)&&Fn(E=>{const A=c?i.measuredBox[E]:i.layoutBox[E],w=cn(s[E]);A.max=A.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+w)});const d=io();Kl(d,s,i.layoutBox);const m=io();c?Kl(m,e.applyTransform(o,!0),i.measuredBox):Kl(m,s,i.layoutBox);const g=!bS(d);let v=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:w}=E;if(A&&w){const x=ge();Ql(x,i.layoutBox,A.layoutBox);const N=ge();Ql(N,s,w.layoutBox),wS(x,N)||(v=!0),E.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=x,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function VV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function MV(e){e.clearSnapshot()}function yT(e){e.clearMeasurements()}function OV(e){e.isLayoutDirty=!1}function NV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function PV(e){e.resolveTargetDelta()}function LV(e){e.calcProjection()}function UV(e){e.resetSkewAndRotation()}function kV(e){e.removeLeadSnapshot()}function _T(e,t,i){e.translate=ne(t.translate,0,i),e.scale=ne(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function TT(e,t,i,s){e.min=ne(t.min,i.min,s),e.max=ne(t.max,i.max,s)}function BV(e,t,i,s){TT(e.x,t.x,i.x,s),TT(e.y,t.y,i.y,s)}function zV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jV={duration:.45,ease:[.4,0,.1,1]},ET=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),AT=ET("applewebkit/")&&!ET("chrome/")?Math.round:Sn;function ST(e){e.min=AT(e.min),e.max=AT(e.max)}function qV(e){ST(e.x),ST(e.y)}function DS(e,t,i){return e==="position"||e==="preserve-aspect"&&!H2(mT(t),mT(i),.2)}function FV(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const HV=CS({attachResizeListener:(e,t)=>au(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sm={current:void 0},xS=CS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sm.current){const e=new HV({});e.mount(window),e.setOptions({layoutScroll:!0}),Sm.current=e}return Sm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GV={pan:{Feature:oV},drag:{Feature:aV,ProjectionNode:xS,MeasureLayout:ES}};function bT(e,t,i){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=s[o];u&&Wt.postRender(()=>u(t,Au(t)))}class KV extends cs{mount(){const{current:t}=this.node;t&&(this.unmount=HD(t,(i,s)=>(bT(this.node,s,"Start"),o=>bT(this.node,o,"End"))))}unmount(){}}class QV extends cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eu(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wT(e,t,i){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=s[o];u&&Wt.postRender(()=>u(t,Au(t)))}class $V extends cs{mount(){const{current:t}=this.node;t&&(this.unmount=$D(t,(i,s)=>(wT(this.node,s,"Start"),(o,{success:u})=>wT(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wm=new WeakMap,bm=new WeakMap,YV=e=>{const t=Wm.get(e.target);t&&t(e)},XV=e=>{e.forEach(YV)};function ZV({root:e,...t}){const i=e||document;bm.has(i)||bm.set(i,{});const s=bm.get(i),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(XV,{root:e,...t})),s[o]}function WV(e,t,i){const s=ZV(t);return Wm.set(e,i),s.observe(e),()=>{Wm.delete(e),s.unobserve(e)}}const JV={some:0,all:1};class tI extends cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:s,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:JV[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(m)};return WV(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(eI(t,i))&&this.startObserver()}unmount(){}}function eI({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const nI={inView:{Feature:tI},tap:{Feature:$V},focus:{Feature:QV},hover:{Feature:KV}},iI={layout:{ProjectionNode:xS,MeasureLayout:ES}},Jm={current:null},VS={current:!1};function rI(){if(VS.current=!0,!!Ip)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jm.current=e.matches;e.addListener(t),t()}else Jm.current=!1}const sI=[...eS,Je,es],aI=e=>sI.find(tS(e)),oI=new WeakMap;function lI(e,t,i){for(const s in t){const o=t[s],u=i[s];if(nn(o))e.addValue(s,o);else if(nn(u))e.addValue(s,ru(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,ru(c!==void 0?c:o,{owner:e}))}}for(const s in i)t[s]===void 0&&e.removeValue(s);return t}const RT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uI{scrapeMotionValuesFromProps(t,i,s){return{}}constructor({parent:t,props:i,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=vi.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Wt.render(this.render,!1,!0))};const{latestValues:m,renderState:g,onUpdate:v}=c;this.onUpdate=v,this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Fh(i),this.isVariantNode=cA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...A}=this.scrapeMotionValuesFromProps(i,{},this);for(const w in A){const x=A[w];m[w]!==void 0&&nn(x)&&x.set(m[w],!1)}}mount(t){this.current=t,oI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),VS.current||rI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ea.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Wt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),c&&c(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in lo){const i=lo[t];if(!i)continue;const{isEnabled:s,Feature:o}=i;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<RT.length;s++){const o=RT[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=lI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const s=this.values.get(t);i!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&i!==void 0&&(s=ru(i===null?void 0:i,{owner:this}),this.addValue(t,s)),s}readValue(t,i){var s;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(WA(o)||FA(o))?o=parseFloat(o):!aI(o)&&es.test(i)&&(o=YA(t,i)),this.setBaseTarget(t,nn(o)?o.get():o)),nn(o)?o.get():o}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var i;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const c=Gp(this.props,s,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);c&&(o=c[t])}if(s&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!nn(u)?u:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Jp),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class IS extends uI{constructor(){super(...arguments),this.KeyframeResolver=nS}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:s}){delete i[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function cI(e){return window.getComputedStyle(e)}class hI extends IS{constructor(){super(...arguments),this.type="html",this.renderInstance=EA}readValueFromInstance(t,i){if(ea.has(i)){const s=rg(i);return s&&s.default||0}else{const s=cI(t),o=(Up(i)?s.getPropertyValue(i):s[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return vS(t,i)}build(t,i,s){zp(t,i,s.transformTemplate)}scrapeMotionValuesFromProps(t,i,s){return Kp(t,i,s)}}class fI extends IS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&TA(this.current,this.renderState)}}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ea.has(i)){const s=rg(i);return s&&s.default||0}return i=AA.has(i)?i:Pp(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,s){return bA(t,i,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Wt.postRender(this.updateDimensions)}build(t,i,s){Fp(t,i,this.isSVGTag,s.transformTemplate)}renderInstance(t,i,s,o){SA(t,i,s,o)}mount(t){this.isSVGTag=Hp(t.tagName),super.mount(t)}}const dI=(e,t)=>qp(e)?new fI(t):new hI(t,{allowProjection:e!==H.Fragment}),mI=UD({...L2,...nI,...GV,...iI},dI),$r=JC(mI),pI={initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50}};function gI(){return H.useEffect(()=>{let e=localStorage.getItem("anonymousID");e||(e=`user-${Math.random().toString(36).slice(2,11)}`,localStorage.setItem("anonymousID",e)),console.log("User Anonymous ID:",e)},[]),gt.jsxs($r.div,{className:"relative flex flex-col items-center justify-center min-h-screen text-center px-6 overflow-hidden",variants:pI,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.5},children:[gt.jsx($r.div,{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-blue-500 via-pink-500 to-orange-500 blur-[120px] opacity-90",style:{backgroundImage:"linear-gradient(90deg, #0000FF 20%, #FF1493 50%, #FFA500 80%)"},animate:{rotate:[0,360],scale:[3,3,3]},transition:{repeat:1/0,duration:60,ease:"linear"}}),gt.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center w-full max-w-lg space-y-6 text-white",children:[gt.jsx("h1",{className:"text-6xl md:text-7xl font-extrabold tracking-wide",children:"10Q"}),gt.jsx("p",{className:"text-lg md:text-xl max-w-lg",children:"A daily 10-question challenge to test your knowledge."}),gt.jsx(xp,{to:"/quiz",children:gt.jsx($r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-4 border-2 border-white text-white font-semibold text-lg md:text-xl rounded-lg shadow-md hover:bg-white hover:text-gray-900 transition-all duration-300",children:"Start Quiz"})})]})]})}var CT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(e){const t=[];let i=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},yI=function(e){const t=[];let i=0,s=0;for(;i<e.length;){const o=e[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[i++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[i++],c=e[i++],d=e[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=e[i++],c=e[i++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},OS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,m=o+2<e.length,g=m?e[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,w=g&63;m||(w=64,c||(A=64)),s.push(i[v],i[E],i[A],i[w])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(MS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=i[e.charAt(o++)],d=o<e.length?i[e.charAt(o)]:0;++o;const g=o<e.length?i[e.charAt(o)]:64;++o;const E=o<e.length?i[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new vI;const A=u<<2|d>>4;if(s.push(A),g!==64){const w=d<<4&240|g>>2;if(s.push(w),E!==64){const x=g<<6&192|E;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _I=function(e){const t=MS(e);return OS.encodeByteArray(t,!0)},Ah=function(e){return _I(e).replace(/\./g,"")},TI=function(e){try{return OS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=()=>EI().__FIREBASE_DEFAULTS__,SI=()=>{if(typeof process>"u"||typeof CT>"u")return;const e=CT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},bI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&TI(e[1]);return t&&JSON.parse(t)},ug=()=>{try{return AI()||SI()||bI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wI=e=>{var t,i;return(i=(t=ug())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},RI=e=>{const t=wI(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},NS=()=>{var e;return(e=ug())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ah(JSON.stringify(i)),Ah(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){var e;const t=(e=ug())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function II(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function MI(){return!VI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function LS(){return new Promise((e,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}function OI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="FirebaseError";class hs extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=NI,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gh.prototype.create)}}class Gh{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?PI(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new hs(o,d,s)}}function PI(e,t){return e.replace(LI,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const LI=/\{\$([^}]+)}/g;function Sh(e,t){if(e===t)return!0;const i=Object.keys(e),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const u=e[o],c=t[o];if(DT(u)&&DT(c)){if(!Sh(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function DT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1e3,kI=2,BI=4*60*60*1e3,zI=.5;function xT(e,t=UI,i=kI){const s=t*Math.pow(i,e),o=Math.round(zI*s*(Math.random()-.5)*2);return Math.min(BI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(e){return e&&e._delegate?e._delegate:e}class rr{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new CI;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t?.identifier),o=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FI(t))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ks){return this.instances.has(t)}getOptions(t=Ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&t(c,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qI(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ks){return this.component?this.component.multipleInstances?t:Ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qI(e){return e===Ks?void 0:e}function FI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new jI(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Bt||(Bt={}));const GI={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},KI=Bt.INFO,QI={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},$I=(e,t,...i)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=QI[t];if(o)console[o](`[${s}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cg{constructor(t){this.name=t,this._logLevel=KI,this._logHandler=$I,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const YI=(e,t)=>t.some(i=>e instanceof i);let VT,IT;function XI(){return VT||(VT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZI(){return IT||(IT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const US=new WeakMap,tp=new WeakMap,kS=new WeakMap,wm=new WeakMap,hg=new WeakMap;function WI(e){const t=new Promise((i,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{i(Yr(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&US.set(i,e)}).catch(()=>{}),hg.set(t,e),t}function JI(e){if(tp.has(e))return;const t=new Promise((i,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});tp.set(e,t)}let ep={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return tp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||kS.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tM(e){ep=e(ep)}function eM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=e.call(Rm(this),t,...i);return kS.set(s,t.sort?t.sort():[t]),Yr(s)}:ZI().includes(e)?function(...t){return e.apply(Rm(this),t),Yr(US.get(this))}:function(...t){return Yr(e.apply(Rm(this),t))}}function nM(e){return typeof e=="function"?eM(e):(e instanceof IDBTransaction&&JI(e),YI(e,XI())?new Proxy(e,ep):e)}function Yr(e){if(e instanceof IDBRequest)return WI(e);if(wm.has(e))return wm.get(e);const t=nM(e);return t!==e&&(wm.set(e,t),hg.set(t,e)),t}const Rm=e=>hg.get(e);function BS(e,t,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=Yr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Yr(c.result),m.oldVersion,m.newVersion,Yr(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const iM=["get","getKey","getAll","getAllKeys","count"],rM=["put","add","delete","clear"],Cm=new Map;function MT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=rM.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iM.includes(i)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&m.done]))[0]};return Cm.set(t,u),u}tM(e=>({...e,get:(t,i,s)=>MT(t,i)||e.get(t,i,s),has:(t,i)=>!!MT(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aM(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function aM(e){const t=e.getComponent();return t?.type==="VERSION"}const np="@firebase/app",OT="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new cg("@firebase/app"),oM="@firebase/app-compat",lM="@firebase/analytics-compat",uM="@firebase/analytics",cM="@firebase/app-check-compat",hM="@firebase/app-check",fM="@firebase/auth",dM="@firebase/auth-compat",mM="@firebase/database",pM="@firebase/data-connect",gM="@firebase/database-compat",yM="@firebase/functions",vM="@firebase/functions-compat",_M="@firebase/installations",TM="@firebase/installations-compat",EM="@firebase/messaging",AM="@firebase/messaging-compat",SM="@firebase/performance",bM="@firebase/performance-compat",wM="@firebase/remote-config",RM="@firebase/remote-config-compat",CM="@firebase/storage",DM="@firebase/storage-compat",xM="@firebase/firestore",VM="@firebase/vertexai",IM="@firebase/firestore-compat",MM="firebase",OM="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",NM={[np]:"fire-core",[oM]:"fire-core-compat",[uM]:"fire-analytics",[lM]:"fire-analytics-compat",[hM]:"fire-app-check",[cM]:"fire-app-check-compat",[fM]:"fire-auth",[dM]:"fire-auth-compat",[mM]:"fire-rtdb",[pM]:"fire-data-connect",[gM]:"fire-rtdb-compat",[yM]:"fire-fn",[vM]:"fire-fn-compat",[_M]:"fire-iid",[TM]:"fire-iid-compat",[EM]:"fire-fcm",[AM]:"fire-fcm-compat",[SM]:"fire-perf",[bM]:"fire-perf-compat",[wM]:"fire-rc",[RM]:"fire-rc-compat",[CM]:"fire-gcs",[DM]:"fire-gcs-compat",[xM]:"fire-fst",[IM]:"fire-fst-compat",[VM]:"fire-vertex","fire-js":"fire-js",[MM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,PM=new Map,rp=new Map;function NT(e,t){try{e.container.addComponent(t)}catch(i){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function ns(e){const t=e.name;if(rp.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;rp.set(t,e);for(const i of bh.values())NT(i,e);for(const i of PM.values())NT(i,e);return!0}function Su(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function LM(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Gh("app","Firebase",UM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=OM;function zS(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:ip,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Xr.create("bad-app-name",{appName:String(o)});if(i||(i=NS()),!i)throw Xr.create("no-options");const u=bh.get(o);if(u){if(Sh(i,u.options)&&Sh(s,u.config))return u;throw Xr.create("duplicate-app",{appName:o})}const c=new HI(o);for(const m of rp.values())c.addComponent(m);const d=new kM(i,s,c);return bh.set(o,d),d}function jS(e=ip){const t=bh.get(e);if(!t&&e===ip&&NS())return zS();if(!t)throw Xr.create("no-app",{appName:e});return t}function _i(e,t,i){var s;let o=(s=NM[e])!==null&&s!==void 0?s:e;i&&(o+=`-${i}`);const u=o.match(/\s|\//),c=t.match(/\s|\//);if(u||c){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(d.join(" "));return}ns(new rr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="firebase-heartbeat-database",jM=1,ou="firebase-heartbeat-store";let Dm=null;function qS(){return Dm||(Dm=BS(zM,jM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ou)}catch(i){console.warn(i)}}}}).catch(e=>{throw Xr.create("idb-open",{originalErrorMessage:e.message})})),Dm}async function qM(e){try{const i=(await qS()).transaction(ou),s=await i.objectStore(ou).get(FS(e));return await i.done,s}catch(t){if(t instanceof hs)sr.warn(t.message);else{const i=Xr.create("idb-get",{originalErrorMessage:t?.message});sr.warn(i.message)}}}async function PT(e,t){try{const s=(await qS()).transaction(ou,"readwrite");await s.objectStore(ou).put(t,FS(e)),await s.done}catch(i){if(i instanceof hs)sr.warn(i.message);else{const s=Xr.create("idb-set",{originalErrorMessage:i?.message});sr.warn(s.message)}}}function FS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=1024,HM=30;class GM{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QM(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=LT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>HM){const c=$M(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=LT(),{heartbeatsToSend:s,unsentEntries:o}=KM(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return sr.warn(i),""}}}function LT(){return new Date().toISOString().substring(0,10)}function KM(e,t=FM){const i=[];let s=e.slice();for(const o of e){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),UT(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),UT(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class QM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?LS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qM(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return PT(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return PT(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function UT(e){return Ah(JSON.stringify({version:2,heartbeats:e})).length}function $M(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let s=1;s<e.length;s++)e[s].date<i&&(i=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(e){ns(new rr("platform-logger",t=>new sM(t),"PRIVATE")),ns(new rr("heartbeat",t=>new GM(t),"PRIVATE")),_i(np,OT,e),_i(np,OT,"esm2017"),_i("fire-js","")}YM("");var kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,HS;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,C){function R(){}R.prototype=C.prototype,M.D=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(V,L,j){for(var I=Array(arguments.length-2),se=2;se<arguments.length;se++)I[se-2]=arguments[se];return C.prototype[L].apply(V,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,R){R||(R=0);var V=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)V[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;16>L;++L)V[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],L=M.g[2];var j=M.g[3],I=C+(j^R&(L^j))+V[0]+3614090360&4294967295;C=R+(I<<7&4294967295|I>>>25),I=j+(L^C&(R^L))+V[1]+3905402710&4294967295,j=C+(I<<12&4294967295|I>>>20),I=L+(R^j&(C^R))+V[2]+606105819&4294967295,L=j+(I<<17&4294967295|I>>>15),I=R+(C^L&(j^C))+V[3]+3250441966&4294967295,R=L+(I<<22&4294967295|I>>>10),I=C+(j^R&(L^j))+V[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(L^C&(R^L))+V[5]+1200080426&4294967295,j=C+(I<<12&4294967295|I>>>20),I=L+(R^j&(C^R))+V[6]+2821735955&4294967295,L=j+(I<<17&4294967295|I>>>15),I=R+(C^L&(j^C))+V[7]+4249261313&4294967295,R=L+(I<<22&4294967295|I>>>10),I=C+(j^R&(L^j))+V[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(L^C&(R^L))+V[9]+2336552879&4294967295,j=C+(I<<12&4294967295|I>>>20),I=L+(R^j&(C^R))+V[10]+4294925233&4294967295,L=j+(I<<17&4294967295|I>>>15),I=R+(C^L&(j^C))+V[11]+2304563134&4294967295,R=L+(I<<22&4294967295|I>>>10),I=C+(j^R&(L^j))+V[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(L^C&(R^L))+V[13]+4254626195&4294967295,j=C+(I<<12&4294967295|I>>>20),I=L+(R^j&(C^R))+V[14]+2792965006&4294967295,L=j+(I<<17&4294967295|I>>>15),I=R+(C^L&(j^C))+V[15]+1236535329&4294967295,R=L+(I<<22&4294967295|I>>>10),I=C+(L^j&(R^L))+V[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^L&(C^R))+V[6]+3225465664&4294967295,j=C+(I<<9&4294967295|I>>>23),I=L+(C^R&(j^C))+V[11]+643717713&4294967295,L=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(L^j))+V[0]+3921069994&4294967295,R=L+(I<<20&4294967295|I>>>12),I=C+(L^j&(R^L))+V[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^L&(C^R))+V[10]+38016083&4294967295,j=C+(I<<9&4294967295|I>>>23),I=L+(C^R&(j^C))+V[15]+3634488961&4294967295,L=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(L^j))+V[4]+3889429448&4294967295,R=L+(I<<20&4294967295|I>>>12),I=C+(L^j&(R^L))+V[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^L&(C^R))+V[14]+3275163606&4294967295,j=C+(I<<9&4294967295|I>>>23),I=L+(C^R&(j^C))+V[3]+4107603335&4294967295,L=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(L^j))+V[8]+1163531501&4294967295,R=L+(I<<20&4294967295|I>>>12),I=C+(L^j&(R^L))+V[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^L&(C^R))+V[2]+4243563512&4294967295,j=C+(I<<9&4294967295|I>>>23),I=L+(C^R&(j^C))+V[7]+1735328473&4294967295,L=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(L^j))+V[12]+2368359562&4294967295,R=L+(I<<20&4294967295|I>>>12),I=C+(R^L^j)+V[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^L)+V[8]+2272392833&4294967295,j=C+(I<<11&4294967295|I>>>21),I=L+(j^C^R)+V[11]+1839030562&4294967295,L=j+(I<<16&4294967295|I>>>16),I=R+(L^j^C)+V[14]+4259657740&4294967295,R=L+(I<<23&4294967295|I>>>9),I=C+(R^L^j)+V[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^L)+V[4]+1272893353&4294967295,j=C+(I<<11&4294967295|I>>>21),I=L+(j^C^R)+V[7]+4139469664&4294967295,L=j+(I<<16&4294967295|I>>>16),I=R+(L^j^C)+V[10]+3200236656&4294967295,R=L+(I<<23&4294967295|I>>>9),I=C+(R^L^j)+V[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^L)+V[0]+3936430074&4294967295,j=C+(I<<11&4294967295|I>>>21),I=L+(j^C^R)+V[3]+3572445317&4294967295,L=j+(I<<16&4294967295|I>>>16),I=R+(L^j^C)+V[6]+76029189&4294967295,R=L+(I<<23&4294967295|I>>>9),I=C+(R^L^j)+V[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^L)+V[12]+3873151461&4294967295,j=C+(I<<11&4294967295|I>>>21),I=L+(j^C^R)+V[15]+530742520&4294967295,L=j+(I<<16&4294967295|I>>>16),I=R+(L^j^C)+V[2]+3299628645&4294967295,R=L+(I<<23&4294967295|I>>>9),I=C+(L^(R|~j))+V[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~L))+V[7]+1126891415&4294967295,j=C+(I<<10&4294967295|I>>>22),I=L+(C^(j|~R))+V[14]+2878612391&4294967295,L=j+(I<<15&4294967295|I>>>17),I=R+(j^(L|~C))+V[5]+4237533241&4294967295,R=L+(I<<21&4294967295|I>>>11),I=C+(L^(R|~j))+V[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~L))+V[3]+2399980690&4294967295,j=C+(I<<10&4294967295|I>>>22),I=L+(C^(j|~R))+V[10]+4293915773&4294967295,L=j+(I<<15&4294967295|I>>>17),I=R+(j^(L|~C))+V[1]+2240044497&4294967295,R=L+(I<<21&4294967295|I>>>11),I=C+(L^(R|~j))+V[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~L))+V[15]+4264355552&4294967295,j=C+(I<<10&4294967295|I>>>22),I=L+(C^(j|~R))+V[6]+2734768916&4294967295,L=j+(I<<15&4294967295|I>>>17),I=R+(j^(L|~C))+V[13]+1309151649&4294967295,R=L+(I<<21&4294967295|I>>>11),I=C+(L^(R|~j))+V[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~L))+V[11]+3174756917&4294967295,j=C+(I<<10&4294967295|I>>>22),I=L+(C^(j|~R))+V[2]+718787259&4294967295,L=j+(I<<15&4294967295|I>>>17),I=R+(j^(L|~C))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var R=C-this.blockSize,V=this.B,L=this.h,j=0;j<C;){if(L==0)for(;j<=R;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<C;)if(V[L++]=M.charCodeAt(j++),L==this.blockSize){o(this,V),L=0;break}}else for(;j<C;)if(V[L++]=M[j++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var R=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=R&255,R/=256;for(this.u(M),M=Array(16),C=R=0;4>C;++C)for(var V=0;32>V;V+=8)M[R++]=this.g[C]>>>V&255;return M};function u(M,C){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function c(M,C){this.h=C;for(var R=[],V=!0,L=M.length-1;0<=L;L--){var j=M[L]|0;V&&j==C||(R[L]=j,V=!1)}this.g=R}var d={};function m(M){return-128<=M&&128>M?u(M,function(C){return new c([C|0],0>C?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return O(g(-M));for(var C=[],R=1,V=0;M>=R;V++)C[V]=M/R|0,R*=4294967296;return new c(C,0)}function v(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return O(v(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),V=E,L=0;L<M.length;L+=8){var j=Math.min(8,M.length-L),I=parseInt(M.substring(L,L+j),C);8>j?(j=g(Math.pow(C,j)),V=V.j(j).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var E=m(0),A=m(1),w=m(16777216);e=c.prototype,e.m=function(){if(N(this))return-O(this).m();for(var M=0,C=1,R=0;R<this.g.length;R++){var V=this.i(R);M+=(0<=V?V:4294967296+V)*C,C*=4294967296}return M},e.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(N(this))return"-"+O(this).toString(M);for(var C=g(Math.pow(M,6)),R=this,V="";;){var L=rt(R,C).g;R=k(R,L.j(C));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=L,x(R))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},e.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function N(M){return M.h==-1}e.l=function(M){return M=k(this,M),N(M)?-1:x(M)?0:1};function O(M){for(var C=M.g.length,R=[],V=0;V<C;V++)R[V]=~M.g[V];return new c(R,~M.h).add(A)}e.abs=function(){return N(this)?O(this):this},e.add=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],V=0,L=0;L<=C;L++){var j=V+(this.i(L)&65535)+(M.i(L)&65535),I=(j>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);V=I>>>16,j&=65535,I&=65535,R[L]=I<<16|j}return new c(R,R[R.length-1]&-2147483648?-1:0)};function k(M,C){return M.add(O(C))}e.j=function(M){if(x(this)||x(M))return E;if(N(this))return N(M)?O(this).j(O(M)):O(O(this).j(M));if(N(M))return O(this.j(O(M)));if(0>this.l(w)&&0>M.l(w))return g(this.m()*M.m());for(var C=this.g.length+M.g.length,R=[],V=0;V<2*C;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<M.g.length;L++){var j=this.i(V)>>>16,I=this.i(V)&65535,se=M.i(L)>>>16,de=M.i(L)&65535;R[2*V+2*L]+=I*de,F(R,2*V+2*L),R[2*V+2*L+1]+=j*de,F(R,2*V+2*L+1),R[2*V+2*L+1]+=I*se,F(R,2*V+2*L+1),R[2*V+2*L+2]+=j*se,F(R,2*V+2*L+2)}for(V=0;V<C;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=C;V<2*C;V++)R[V]=0;return new c(R,0)};function F(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function $(M,C){this.g=M,this.h=C}function rt(M,C){if(x(C))throw Error("division by zero");if(x(M))return new $(E,E);if(N(M))return C=rt(O(M),C),new $(O(C.g),O(C.h));if(N(C))return C=rt(M,O(C)),new $(O(C.g),C.h);if(30<M.g.length){if(N(M)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var R=A,V=C;0>=V.l(M);)R=J(R),V=J(V);var L=at(R,1),j=at(V,1);for(V=at(V,2),R=at(R,2);!x(V);){var I=j.add(V);0>=I.l(M)&&(L=L.add(R),j=I),V=at(V,1),R=at(R,1)}return C=k(M,L.j(C)),new $(L,C)}for(L=E;0<=M.l(C);){for(R=Math.max(1,Math.floor(M.m()/C.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=g(R),I=j.j(C);N(I)||0<I.l(M);)R-=V,j=g(R),I=j.j(C);x(j)&&(j=A),L=L.add(j),M=k(M,I)}return new $(L,M)}e.A=function(M){return rt(this,M).h},e.and=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],V=0;V<C;V++)R[V]=this.i(V)&M.i(V);return new c(R,this.h&M.h)},e.or=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],V=0;V<C;V++)R[V]=this.i(V)|M.i(V);return new c(R,this.h|M.h)},e.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],V=0;V<C;V++)R[V]=this.i(V)^M.i(V);return new c(R,this.h^M.h)};function J(M){for(var C=M.g.length+1,R=[],V=0;V<C;V++)R[V]=M.i(V)<<1|M.i(V-1)>>>31;return new c(R,M.h)}function at(M,C){var R=C>>5;C%=32;for(var V=M.g.length-R,L=[],j=0;j<V;j++)L[j]=0<C?M.i(j+R)>>>C|M.i(j+R+1)<<32-C:M.i(j+R);return new c(L,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,HS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Zr=c}).apply(typeof kT<"u"?kT:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GS,zl,KS,uh,sp,QS,$S,YS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(h,y){if(y)t:{var _=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var q=h[b];if(!(q in _))break t;_=_[q]}h=h[h.length-1],b=_[h],y=y(b),y!=b&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var _=0,b=!1,q={next:function(){if(!b&&_<h.length){var Q=_++;return{value:y(Q,h[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(h){return h||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function A(h,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,A.apply(null,arguments)}function w(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function x(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,q,Q){for(var it=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)it[Pt-2]=arguments[Pt];return y.prototype[q].apply(b,it)}}function N(h){const y=h.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=h[b];return _}return[]}function O(h,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const q=h.length||0,Q=b.length||0;h.length=q+Q;for(let it=0;it<Q;it++)h[q+it]=b[it]}else h.push(b)}}class k{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function rt(h){return rt[" "](h),h}rt[" "]=function(){};var J=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function at(h,y,_){for(const b in h)y.call(_,h[b],b,h)}function M(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function C(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,y){let _,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(_ in b)h[_]=b[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function L(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function j(h){d.setTimeout(()=>{throw h},0)}function I(){var h=Nt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,_){const b=de.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var de=new k(()=>new st,h=>h.reset());class st{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ht=!1,Nt=new se,P=()=>{const h=d.Promise.resolve(void 0);ct=()=>{h.then(et)}};var et=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(_){j(_)}var y=de;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ht=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Ct(h,y){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(J){t:{try{rt(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:wt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ct.aa.h.call(this)}}x(Ct,ot);var wt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ae(h,y,_,b,q){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=q,this.key=++zt,this.da=this.fa=!1}function Kt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function rn(h){this.src=h,this.g={},this.h=0}rn.prototype.add=function(h,y,_,b,q){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var it=wn(h,y,b,q);return-1<it?(y=h[it],_||(y.fa=!1)):(y=new ae(y,this.src,Q,!!b,q),y.fa=_,h.push(y)),y};function Ri(h,y){var _=y.type;if(_ in h.g){var b=h.g[_],q=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(b,q,1),Q&&(Kt(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function wn(h,y,_,b){for(var q=0;q<h.length;++q){var Q=h[q];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return q}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),cr={};function Ci(h,y,_,b,q){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Ci(h,y[Q],_,b,q);return null}return _=Du(_),h&&h[ve]?h.K(y,_,g(b)?!!b.capture:!1,q):Co(h,y,_,!1,b,q)}function Co(h,y,_,b,q,Q){if(!y)throw Error("Invalid event type");var it=g(q)?!!q.capture:!!q,Pt=Do(h);if(Pt||(h[ur]=Pt=new rn(h)),_=Pt.add(y,_,b,it,Q),_.proxy)return _;if(b=aa(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)lt||(q=it),q===void 0&&(q=!1),h.addEventListener(y.toString(),b,q);else if(h.attachEvent)h.attachEvent(la(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function aa(){function h(_){return y.call(h.src,h.listener,_)}const y=of;return h}function oa(h,y,_,b,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)oa(h,y[Q],_,b,q);else b=g(b)?!!b.capture:!!b,_=Du(_),h&&h[ve]?(h=h.i,y=String(y).toString(),y in h.g&&(Q=h.g[y],_=wn(Q,_,b,q),-1<_&&(Kt(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete h.g[y],h.h--)))):h&&(h=Do(h))&&(y=h.g[y.toString()],h=-1,y&&(h=wn(y,_,b,q)),(_=-1<h?y[h]:null)&&fs(_))}function fs(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ve])Ri(y.i,h);else{var _=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(_,b,h.capture):y.detachEvent?y.detachEvent(la(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Do(y))?(Ri(_,h),_.h==0&&(_.src=null,y[ur]=null)):Kt(h)}}}function la(h){return h in cr?cr[h]:cr[h]="on"+h}function of(h,y){if(h.da)h=!0;else{y=new Ct(y,this);var _=h.listener,b=h.ha||h.src;h.fa&&fs(h),h=_.call(b,y)}return h}function Do(h){return h=h[ur],h instanceof rn?h:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(h){return typeof h=="function"?h:(h[hn]||(h[hn]=function(y){return h.handleEvent(y)}),h[hn])}function be(){mt.call(this),this.i=new rn(this),this.M=this,this.F=null}x(be,mt),be.prototype[ve]=!0,be.prototype.removeEventListener=function(h,y,_,b){oa(this,h,y,_,b)};function Oe(h,y){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new ot(y,h);else if(y instanceof ot)y.target=y.target||h;else{var q=y;y=new ot(b,h),V(y,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var it=y.g=_[Q];q=Di(it,b,!0,y)&&q}if(it=y.g=h,q=Di(it,b,!0,y)&&q,q=Di(it,b,!1,y)&&q,_)for(Q=0;Q<_.length;Q++)it=y.g=_[Q],q=Di(it,b,!1,y)&&q}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],b=0;b<_.length;b++)Kt(_[b]);delete h.g[y],h.h--}}this.F=null},be.prototype.K=function(h,y,_,b){return this.i.add(String(h),y,!1,_,b)},be.prototype.L=function(h,y,_,b){return this.i.add(String(h),y,!0,_,b)};function Di(h,y,_,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Q=0;Q<y.length;++Q){var it=y[Q];if(it&&!it.da&&it.capture==_){var Pt=it.listener,Re=it.ha||it.src;it.fa&&Ri(h.i,it),q=Pt.call(Re,b)!==!1&&q}}return q&&!b.defaultPrevented}function xu(h,y,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function xo(h){h.g=xu(()=>{h.g=null,h.i&&(h.i=!1,xo(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class lf extends mt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(h){mt.call(this),this.h=h,this.g={}}x(ds,mt);var hr=[];function Ye(h){at(h.g,function(y,_){this.g.hasOwnProperty(_)&&fs(y)},h),h.g={}}ds.prototype.N=function(){ds.aa.N.call(this),Ye(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=d.JSON.stringify,ti=d.JSON.parse,sn=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Io(){}Io.prototype.h=null;function Vu(h){return h.h||(h.h=h.i())}function Iu(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){ot.call(this,"d")}x(fr,ot);function Kn(){ot.call(this,"c")}x(Kn,ot);var Rn={},dr=null;function ua(){return dr=dr||new be}Rn.La="serverreachability";function Mo(h){ot.call(this,Rn.La,h)}x(Mo,ot);function mr(h){const y=ua();Oe(y,new Mo(y))}Rn.STAT_EVENT="statevent";function ca(h,y){ot.call(this,Rn.STAT_EVENT,h),this.stat=y}x(ca,ot);function me(h){const y=ua();Oe(y,new ca(y,h))}Rn.Ma="timingevent";function Mu(h,y){ot.call(this,Rn.Ma,h),this.size=y}x(Mu,ot);function pr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function Ou(h,y,_,b,q,Q){h.info(function(){if(h.g)if(Q)for(var it="",Pt=Q.split("&"),Re=0;Re<Pt.length;Re++){var Lt=Pt[Re].split("=");if(1<Lt.length){var Le=Lt[0];Lt=Lt[1];var Ce=Le.split("_");it=2<=Ce.length&&Ce[1]=="type"?it+(Le+"="+Lt+"&"):it+(Le+"=redacted&")}}else it=null;else it=Q;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+y+`
`+_+`
`+it})}function Nu(h,y,_,b,q,Q,it){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+y+`
`+_+`
`+Q+" "+it})}function yr(h,y,_,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ne(h,_)+(b?" "+b:"")})}function ni(h,y){h.info(function(){return"TIMEOUT: "+y})}gr.prototype.info=function(){};function Ne(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var it=1;it<q.length;it++)q[it]=""}}}}return Vo(_)}catch{return y}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ms;function ha(){}x(ha,Io),ha.prototype.g=function(){return new XMLHttpRequest},ha.prototype.i=function(){return{}},ms=new ha;function ii(h,y,_,b){this.j=h,this.i=y,this.l=_,this.R=b||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oo}function Oo(){this.i=null,this.g="",this.h=!1}var vr={},ps={};function Qn(h,y,_){h.L=1,h.v=vs(oe(y)),h.m=_,h.P=!0,Vi(h,null)}function Vi(h,y){h.F=Date.now(),Jt(h),h.A=oe(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),Oi(_.i,"t",b),h.C=0,_=h.j.J,h.h=new Oo,h.g=$u(h.j,_?y:null,!h.m),0<h.O&&(h.M=new lf(A(h.Y,h,h.g),h.O)),y=h.U,_=h.g,b=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(hr[0]=q.toString()),q=hr);for(var Q=0;Q<q.length;Q++){var it=Ci(_,q[Q],b||y.handleEvent,!1,y.h||y);if(!it)break;y.g[it.key]=it}y=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),mr(),Ou(h.i,h.u,h.A,h.l,h.R,h.m)}ii.prototype.ca=function(h){h=h.target;const y=this.M;y&&In(h)==3?y.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)t:{const Ce=In(this.g);var y=this.g.Ba();const Ui=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||zu(this.g)))){this.J||Ce!=4||y==7||(y==8||0>=Ui?mr(3):mr(2)),fa(this);var _=this.g.Z();this.X=_;e:if(_r(this)){var b=zu(this.g);h="";var q=b.length,Q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),gn(this);var it="";break e}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!(Q&&y==q-1)});b.length=0,this.h.g+=h,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Nu(this.i,this.u,this.A,this.l,this.R,Ce,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Re=this.g;if((Pt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Pt)){var Lt=Pt;break e}}Lt=null}if(_=Lt)yr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,_);else{this.o=!1,this.s=3,me(12),fn(this),gn(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<it.length;)if(je=Tr(this,it),je==ps){Ce==4&&(this.s=4,me(14),_=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(je==vr){this.s=4,me(15),yr(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else yr(this.i,this.l,je,null),yn(this,je);if(_r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||it.length!=0||this.h.h||(this.s=1,me(16),_=!1),this.o=this.o&&_,!_)yr(this.i,this.l,it,"[Invalid Chunked Response]"),fn(this),gn(this);else if(0<it.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),ws(Le),Le.M=!0,me(11))}}else yr(this.i,this.l,it,null),yn(this,it);Ce==4&&fn(this),this.o&&!this.J&&(Ce==4?Gu(this.j,this):(this.o=!1,Jt(this)))}else mf(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,me(12)):(this.s=0,me(13)),fn(this),gn(this)}}}catch{}finally{}};function _r(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Tr(h,y){var _=h.C,b=y.indexOf(`
`,_);return b==-1?ps:(_=Number(y.substring(_,b)),isNaN(_)?vr:(b+=1,b+_>y.length?ps:(y=y.slice(b,b+_),h.C=b+_,y)))}ii.prototype.cancel=function(){this.J=!0,fn(this)};function Jt(h){h.S=Date.now()+h.I,No(h,h.I)}function No(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=pr(A(h.ba,h),y)}function fa(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ii.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ni(this.i,this.A),this.L!=2&&(mr(),me(17)),fn(this),this.s=2,gn(this)):No(this,this.S-h)};function gn(h){h.j.G==0||h.J||Gu(h.j,h)}function fn(h){fa(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Ye(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function yn(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Er(_.h,h))){if(!h.K&&Er(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Aa(_),Ta(_);else break t;Go(_),me(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=pr(A(_.Za,_),6e3));if(1>=Pu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Li(_,11)}else if((h.K||_.g==h)&&Aa(_),!F(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let Lt=q[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Le=Lt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const Ce=Lt[4];Ce!=null&&(_.Aa=Ce,_.j.info("SVER="+_.Aa));const Ui=Lt[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(b=1.5*Ui,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const je=h.g;if(je){const ci=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var Q=b.h;Q.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ar(Q,Q.h),Q.h=null))}if(b.D){const Qo=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(b.ya=Qo,jt(b.I,b.D,Qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var it=h;if(b.qa=Qu(b,b.J?b.ia:null,b.W),it.K){Cn(b.h,it);var Pt=it,Re=b.L;Re&&(Pt.I=Re),Pt.B&&(fa(Pt),Jt(Pt)),b.g=it}else Fu(b);0<_.i.length&&Ea(_)}else Lt[0]!="stop"&&Lt[0]!="close"||Li(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Li(_,7):Fo(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}mr(4)}catch{}}var uf=class{constructor(h,y){this.g=h,this.map=y}};function Po(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pu(h){return h.h?1:h.g?h.g.size:0}function Er(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ar(h,y){h.g?h.g.add(y):h.h=y}function Cn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Po.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function an(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return N(h.i)}function Lu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,b=0;b<_;b++)y.push(h[b]);return y}y=[],_=0;for(b in h)y[_++]=h[b];return y}function cf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const b in h)y[_++]=b;return y}}}function gs(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=cf(h),b=Lu(h),q=b.length,Q=0;Q<q;Q++)y.call(void 0,b[Q],_&&_[Q],h)}var Uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),q=null;if(0<=b){var Q=h[_].substring(0,b);q=h[_].substring(b+1)}else Q=h[_];y(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ii(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ii){this.h=h.h,Sr(this,h.j),this.o=h.o,this.g=h.g,ys(this,h.s),this.l=h.l;var y=h.i,_=new ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ma(this,_),this.m=h.m}else h&&(y=String(h).match(Uo))?(this.h=!1,Sr(this,y[1]||"",!0),this.o=br(y[2]||""),this.g=br(y[3]||"",!0),ys(this,y[4]),this.l=br(y[5]||"",!0),ma(this,y[6]||"",!0),this.m=br(y[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Ii.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Dn(y,ko,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Dn(y,ko,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Dn(_,_.charAt(0)=="/"?Bo:Uu,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Dn(_,df)),h.join("")};function oe(h){return new Ii(h)}function Sr(h,y,_){h.j=_?br(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ys(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ma(h,y,_){y instanceof ri?(h.i=y,zo(h.i,h.h)):(_||(y=Dn(y,ff)),h.i=new ri(y,h.h))}function jt(h,y,_){h.i.set(y,_)}function vs(h){return jt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function br(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Dn(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,hf),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ko=/[#\/\?@]/g,Uu=/[#\?:]/g,Bo=/[#\?]/g,ff=/[#\?@]/g,df=/#/g;function ri(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&da(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}e=ri.prototype,e.add=function(h,y){xn(this),this.i=null,h=Ni(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function pa(h,y){xn(h),y=Ni(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Mi(h,y){return xn(h),y=Ni(h,y),h.g.has(y)}e.forEach=function(h,y){xn(this),this.g.forEach(function(_,b){_.forEach(function(q){h.call(y,q,b,this)},this)},this)},e.na=function(){xn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const q=h[b];for(let Q=0;Q<q.length;Q++)_.push(y[b])}return _},e.V=function(h){xn(this);let y=[];if(typeof h=="string")Mi(this,h)&&(y=y.concat(this.g.get(Ni(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},e.set=function(h,y){return xn(this),this.i=null,h=Ni(this,h),Mi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Oi(h,y,_){pa(h,y),0<_.length&&(h.i=null,h.g.set(Ni(h,y),N(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),it=this.V(b);for(b=0;b<it.length;b++){var q=Q;it[b]!==""&&(q+="="+encodeURIComponent(String(it[b]))),h.push(q)}}return this.i=h.join("&")};function Ni(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function zo(h,y){y&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(_,b){var q=b.toLowerCase();b!=q&&(pa(this,b),Oi(this,q,_))},h)),h.j=y}function ku(h,y){const _=new gr;if(d.Image){const b=new Image;b.onload=w(Vn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=w(Vn,_,"TestLoadImage: error",!1,y,b),b.onabort=w(Vn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=w(Vn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function _s(h,y){const _=new gr,b=new AbortController,q=setTimeout(()=>{b.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(Q=>{clearTimeout(q),Q.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Vn(_,"TestPingServer: error",!1,y)})}function Vn(h,y,_,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(_)}catch{}}function Ts(){this.g=new sn}function si(h,y,_){const b=_||"";try{gs(h,function(q,Q){let it=q;g(q)&&(it=Vo(q)),y.push(b+Q+"="+encodeURIComponent(it))})}catch(q){throw y.push(b+"type="+encodeURIComponent("_badmap")),q}}function wr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(wr,Io),wr.prototype.g=function(){return new Pi(this.l,this.j)},wr.prototype.i=function(h){return function(){return h}}({});function Pi(h,y){be.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Pi,be),e=Pi.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,oi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ai(this):oi(this),this.readyState==3&&jo(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,ai(this))},e.Qa=function(h){this.g&&(this.response=h,ai(this))},e.ga=function(){this.g&&ai(this)};function ai(h){h.readyState=4,h.l=null,h.j=null,h.v=null,oi(h)}e.setRequestHeader=function(h,y){this.u.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qo(h){let y="";return at(h,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Pe(h,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=qo(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):jt(h,y,_))}function Ht(h){be.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ht,be);var ga=/^https?$/i,Es=["POST","PUT"];e=Ht.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ms.g(),this.v=this.o?Vu(this.o):Vu(ms),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Bu(this,Q);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)_.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||b||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,it]of _)this.g.setRequestHeader(Q,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Bu(this,Q)}};function Bu(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,ya(h),li(h)}function ya(h){h.A||(h.A=!0,Oe(h,"complete"),Oe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Oe(this,"complete"),Oe(this,"abort"),li(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},e.bb=function(){va(this)};function va(h){if(h.h&&typeof c<"u"&&(!h.v[1]||In(h)!=4||h.Z()!=2)){if(h.u&&In(h)==4)xu(h.Ea,0,h);else if(Oe(h,"readystatechange"),In(h)==4){h.h=!1;try{const it=h.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=it===0){var q=String(h.D).match(Uo)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),b=!ga.test(q?q.toLowerCase():"")}_=b}if(_)Oe(h,"complete"),Oe(h,"success");else{h.m=6;try{var Q=2<In(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",ya(h)}}finally{li(h)}}}}function li(h,y){if(h.g){As(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Oe(h,"ready");try{_.onreadystatechange=b}catch{}}}function As(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function In(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ti(y)}};function zu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function mf(h){const y={};h=(h.g&&2<=In(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(F(h[b]))continue;var _=L(h[b]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[q]||[];y[q]=Q,Q.push(_)}M(y,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function _a(h){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,h),this.cb=Ss("retryDelaySeedMs",1e4,h),this.Wa=Ss("forwardChannelMaxRetries",2,h),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Po(h&&h.concurrentRequestLimit),this.Da=new Ts,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=_a.prototype,e.la=8,e.G=1,e.connect=function(h,y,_,b){me(0),this.W=h,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Qu(this,null,this.W),Ea(this)};function Fo(h){if(ju(h),h.G==3){var y=h.U++,_=oe(h.I);if(jt(_,"SID",h.K),jt(_,"RID",y),jt(_,"TYPE","terminate"),bs(h,_),y=new ii(h,h.j,y),y.L=2,y.v=vs(oe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=$u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Jt(y)}Ku(h)}function Ta(h){h.g&&(ws(h),h.g.cancel(),h.g=null)}function ju(h){Ta(h),h.u&&(d.clearTimeout(h.u),h.u=null),Aa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ea(h){if(!Lo(h.h)&&!h.s){h.s=!0;var y=h.Ga;ct||P(),ht||(ct(),ht=!0),Nt.add(y,h),h.B=0}}function pf(h,y){return Pu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=pr(A(h.Ga,h,y),Ko(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new ii(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=C(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=qu(this,q,y),_=oe(this.I),jt(_,"RID",h),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),bs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(qo(Q)))+"&"+y:this.m&&Pe(_,this.m,Q)),Ar(this.h,q),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",y),jt(_,"SID","null"),q.T=!0,Qn(q,_,null)):Qn(q,_,y),this.G=2}}else this.G==3&&(h?Ho(this,h):this.i.length==0||Lo(this.h)||Ho(this))};function Ho(h,y){var _;y?_=y.l:_=h.U++;const b=oe(h.I);jt(b,"SID",h.K),jt(b,"RID",_),jt(b,"AID",h.T),bs(h,b),h.m&&h.o&&Pe(b,h.m,h.o),_=new ii(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=qu(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ar(h.h,_),Qn(_,b,y)}function bs(h,y){h.H&&at(h.H,function(_,b){jt(y,b,_)}),h.l&&gs({},function(_,b){jt(y,b,_)})}function qu(h,y,_){_=Math.min(h.i.length,_);var b=h.l?A(h.l.Na,h.l,h):null;t:{var q=h.i;let Q=-1;for(;;){const it=["count="+_];Q==-1?0<_?(Q=q[0].g,it.push("ofs="+Q)):Q=0:it.push("ofs="+Q);let Pt=!0;for(let Re=0;Re<_;Re++){let Lt=q[Re].g;const Le=q[Re].map;if(Lt-=Q,0>Lt)Q=Math.max(0,q[Re].g-100),Pt=!1;else try{si(Le,it,"req"+Lt+"_")}catch{b&&b(Le)}}if(Pt){b=it.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,b}function Fu(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ct||P(),ht||(ct(),ht=!0),Nt.add(y,h),h.v=0}}function Go(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=pr(A(h.Fa,h),Ko(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=pr(A(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,me(10),Ta(this),Hu(this))};function ws(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Hu(h){h.g=new ii(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=oe(h.qa);jt(y,"RID","rpc"),jt(y,"SID",h.K),jt(y,"AID",h.T),jt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&jt(y,"TO",h.ja),jt(y,"TYPE","xmlhttp"),bs(h,y),h.m&&h.o&&Pe(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=vs(oe(y)),_.m=null,_.P=!0,Vi(_,h)}e.Za=function(){this.C!=null&&(this.C=null,Ta(this),Go(this),me(19))};function Aa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Gu(h,y){var _=null;if(h.g==y){Aa(h),ws(h),h.g=null;var b=2}else if(Er(h.h,y))_=y.D,Cn(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;b=ua(),Oe(b,new Mu(b,_)),Ea(h)}else Fu(h);else if(q=y.s,q==3||q==0&&0<y.X||!(b==1&&pf(h,y)||b==2&&Go(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),q){case 1:Li(h,5);break;case 4:Li(h,10);break;case 3:Li(h,6);break;default:Li(h,2)}}}function Ko(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Li(h,y){if(h.j.info("Error code "+y),y==2){var _=A(h.fb,h),b=h.Xa;const q=!b;b=new Ii(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Sr(b,"https"),vs(b),q?ku(b.toString(),_):_s(b.toString(),_)}else me(2);h.G=0,h.l&&h.l.sa(y),Ku(h),ju(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),me(2)):(this.j.info("Failed to ping google.com"),me(1))};function Ku(h){if(h.G=0,h.ka=[],h.l){const y=an(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function Qu(h,y,_){var b=_ instanceof Ii?oe(_):new Ii(_);if(b.g!="")y&&(b.g=y+"."+b.g),ys(b,b.s);else{var q=d.location;b=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Q=new Ii(null);b&&Sr(Q,b),y&&(Q.g=y),q&&ys(Q,q),_&&(Q.l=_),b=Q}return _=h.D,y=h.ya,_&&y&&jt(b,_,y),jt(b,"VER",h.la),bs(h,b),b}function $u(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ht(new wr({eb:_})):new Ht(h.pa),y.Ha(h.J),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}e=Yu.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Sa(){}Sa.prototype.g=function(h,y){return new on(h,y)};function on(h,y){be.call(this),this.g=new _a(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!F(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ui(this)}x(on,be),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Fo(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Vo(h),h=_);y.i.push(new uf(y.Ya++,h)),y.G==3&&Ea(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,on.aa.N.call(this)};function Xu(h){fr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}x(Xu,fr);function Zu(){Kn.call(this),this.status=1}x(Zu,Kn);function ui(h){this.g=h}x(ui,Yu),ui.prototype.ua=function(){Oe(this.g,"a")},ui.prototype.ta=function(h){Oe(this.g,new Xu(h))},ui.prototype.sa=function(h){Oe(this.g,new Zu)},ui.prototype.ra=function(){Oe(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,YS=function(){return new Sa},$S=function(){return ua()},QS=Rn,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,uh=we,xi.COMPLETE="complete",KS=xi,Iu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",be.prototype.listen=be.prototype.K,zl=Iu,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,GS=Ht}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const BT="@firebase/firestore",zT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new cg("@firebase/firestore");function Xa(){return Zs.logLevel}function ut(e,...t){if(Zs.logLevel<=Bt.DEBUG){const i=t.map(fg);Zs.debug(`Firestore (${So}): ${e}`,...i)}}function ar(e,...t){if(Zs.logLevel<=Bt.ERROR){const i=t.map(fg);Zs.error(`Firestore (${So}): ${e}`,...i)}}function ho(e,...t){if(Zs.logLevel<=Bt.WARN){const i=t.map(fg);Zs.warn(`Firestore (${So}): ${e}`,...i)}}function fg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e="Unexpected state"){const t=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+e;throw ar(t),new Error(t)}function Gt(e,t){e||Et()}function bt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(tn.UNAUTHENTICATED))}shutdown(){}}class ZM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class WM{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,i(m)):Promise.resolve();let u=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wr,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wr)}},0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new XS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new tn(t)}}class JM{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tO{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new JM(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eO{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,LM(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jT(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new jT(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<e;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=t.charAt(o[u]%62))}return s}}function Ot(e,t){return e<t?-1:e>t?1:0}function fo(e,t,i){return e.length===t.length&&e.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=-62135596800,FT=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*FT);return new Ie(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new yt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<qT)throw new yt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FT}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-qT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Ie(0,0))}static max(){return new At(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__name__";class gi{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(),s===void 0?s=t.length-i:s>t.length-i&&Et(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return gi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof gi?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const u=gi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Math.sign(t.length-i.length)}static compareSegments(t,i){const s=gi.isNumericId(t),o=gi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(t).compare(gi.extractNumericId(i)):t<i?-1:t>i?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class fe extends gi{construct(t,i,s){return new fe(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new fe(i)}static emptyPath(){return new fe([])}}const iO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends gi{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return iO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HT}static keyField(){return new Qe([HT])}static fromServerFormat(t){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new yt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new yt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(fe.fromString(t))}static fromName(t){return new vt(fe.fromString(t).popFirst(5))}static empty(){return new vt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function rO(e,t){const i=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new Ie(i+1,0):new Ie(i,s));return new is(o,vt.empty(),t)}function sO(e){return new is(e.readTime,e.key,lu)}class is{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new is(At.min(),vt.empty(),lu)}static max(){return new is(At.max(),vt.empty(),lu)}}function aO(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(e.documentKey,t.documentKey),i!==0?i:Ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==oO)throw e;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,s)=>{i(t)})}static reject(t){return new W((i,s)=>{s(t)})}static waitFor(t){return new W((i,s)=>{let o=0,u=0,c=!1;t.forEach(d=>{++o,d.next(()=>{++u,c&&u===o&&i()},m=>s(m))}),c=!0,u===o&&i()})}static or(t){let i=W.resolve(!1);for(const s of t)i=i.next(o=>o?W.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,u)=>{s.push(i.call(this,o,u))}),this.waitFor(s)}static mapArray(t,i){return new W((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;i(t[g]).next(v=>{c[g]=v,++d,d===u&&s(c)},v=>o(v))}})}static doWhile(t,i){return new W((s,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):s()};u()})}}function uO(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Qh(e){return e==null}function wh(e){return e===0&&1/e==-1/0}function cO(e){return typeof e=="number"&&Number.isInteger(e)&&!wh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="";function hO(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=GT(t)),t=fO(e.get(i),t);return GT(t)}function fO(e,t){let i=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":i+="";break;case WS:i+="";break;default:i+=u}}return i}function GT(e){return e+WS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function na(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function JS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new th(this.root,t,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new th(this.root,t,this.comparator,!0)}}class th{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,s,o,u){this.key=t,this.value=i,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,u){return new Ke(t??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,i,s,o,u){return this}insert(t,i,s){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new QT(this.data.getIterator())}getIteratorFrom(t){return new QT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class QT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tb("Invalid base64 string: "+u):u}}(t);return new $e(i)}static fromUint8Array(t){const i=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const dO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(e){if(Gt(!!e),typeof e=="string"){let t=0;const i=dO.exec(e);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(e.seconds),nanos:ye(e.nanos)}}function ye(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ss(e){return typeof e=="string"?$e.fromBase64String(e):$e.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="server_timestamp",nb="__type__",ib="__previous_value__",rb="__local_write_time__";function mg(e){var t,i;return((i=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[nb])===null||i===void 0?void 0:i.stringValue)===eb}function $h(e){const t=e.mapValue.fields[ib];return mg(t)?$h(t):t}function uu(e){const t=rs(e.mapValue.fields[rb].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,i,s,o,u,c,d,m,g){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Rh="(default)";class cu{constructor(t,i){this.projectId=t,this.database=i||Rh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(t){return t instanceof cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="__type__",pO="__max__",eh={mapValue:{}},ab="__vector__",Ch="value";function as(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mg(e)?4:yO(e)?9007199254740991:gO(e)?10:11:Et()}function Si(e,t){if(e===t)return!0;const i=as(e);if(i!==as(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uu(e).isEqual(uu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=rs(o.timestampValue),d=rs(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ye(o.doubleValue),d=ye(u.doubleValue);return c===d?wh(c)===wh(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return fo(e.arrayValue.values||[],t.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(KT(c)!==KT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Si(c[m],d[m])))return!1;return!0}(e,t);default:return Et()}}function hu(e,t){return(e.values||[]).find(i=>Si(i,t))!==void 0}function mo(e,t){if(e===t)return 0;const i=as(e),s=as(t);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(e.booleanValue,t.booleanValue);case 2:return function(u,c){const d=ye(u.integerValue||u.doubleValue),m=ye(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return $T(e.timestampValue,t.timestampValue);case 4:return $T(uu(e),uu(t));case 5:return Ot(e.stringValue,t.stringValue);case 6:return function(u,c){const d=ss(u),m=ss(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Ot(d[g],m[g]);if(v!==0)return v}return Ot(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,c){const d=Ot(ye(u.latitude),ye(c.latitude));return d!==0?d:Ot(ye(u.longitude),ye(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return YT(e.arrayValue,t.arrayValue);case 10:return function(u,c){var d,m,g,v;const E=u.fields||{},A=c.fields||{},w=(d=E[Ch])===null||d===void 0?void 0:d.arrayValue,x=(m=A[Ch])===null||m===void 0?void 0:m.arrayValue,N=Ot(((g=w?.values)===null||g===void 0?void 0:g.length)||0,((v=x?.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:YT(w,x)}(e.mapValue,t.mapValue);case 11:return function(u,c){if(u===eh.mapValue&&c===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(c===eh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const A=Ot(m[E],v[E]);if(A!==0)return A;const w=mo(d[m[E]],g[v[E]]);if(w!==0)return w}return Ot(m.length,v.length)}(e.mapValue,t.mapValue);default:throw Et()}}function $T(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ot(e,t);const i=rs(e),s=rs(t),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function YT(e,t){const i=e.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=mo(i[o],s[o]);if(u)return u}return Ot(i.length,s.length)}function po(e){return ap(e)}function ap(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const s=rs(i);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return ss(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return vt.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${ap(i.fields[c])}`;return o+"}"}(e.mapValue):Et()}function ch(e){switch(as(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$h(e);return t?16+ch(t):16;case 5:return 2*e.stringValue.length;case 6:return ss(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ch(u),0)}(e.arrayValue);case 10:case 11:return function(s){let o=0;return na(s.fields,(u,c)=>{o+=u.length+ch(c)}),o}(e.mapValue);default:throw Et()}}function op(e){return!!e&&"integerValue"in e}function pg(e){return!!e&&"arrayValue"in e}function XT(e){return!!e&&"nullValue"in e}function ZT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hh(e){return!!e&&"mapValue"in e}function gO(e){var t,i;return((i=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[sb])===null||i===void 0?void 0:i.stringValue)===ab}function $l(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return na(e.mapValue.fields,(i,s)=>t.mapValue.fields[i]=$l(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=$l(e.arrayValue.values[i]);return t}return Object.assign({},e)}function yO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===pO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!hh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=$l(i)}setAll(t){let i=Qe.emptyPath(),s={},o=[];t.forEach((c,d)=>{if(!i.isImmediateParentOf(d)){const m=this.getFieldsMap(i);this.applyChanges(m,s,o),s={},o=[],i=d.popLast()}c?s[d.lastSegment()]=$l(c):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(t){const i=this.field(t.popLast());hh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Si(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){na(i,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Hn($l(this.value))}}function ob(e){const t=[];return na(e.fields,(i,s)=>{const o=new Qe([i]);if(hh(s)){const u=ob(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)}),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,i,s,o,u,c,d){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new en(t,0,At.min(),At.min(),At.min(),Hn.empty(),0)}static newFoundDocument(t,i,s,o){return new en(t,1,i,At.min(),s,o,0)}static newNoDocument(t,i){return new en(t,2,i,At.min(),At.min(),Hn.empty(),0)}static newUnknownDocument(t,i){return new en(t,3,i,At.min(),At.min(),Hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,i){this.position=t,this.inclusive=i}}function WT(e,t,i){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),i.key):s=mo(c,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function JT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!Si(e.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,i="asc"){this.field=t,this.dir=i}}function vO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{}class Ve extends lb{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new TO(t,i,s):i==="array-contains"?new SO(t,s):i==="in"?new bO(t,s):i==="not-in"?new wO(t,s):i==="array-contains-any"?new RO(t,s):new Ve(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new EO(t,s):new AO(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(mo(i,this.value)):i!==null&&as(this.value)===as(i)&&this.matchesComparison(mo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends lb{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new bi(t,i)}matches(t){return ub(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ub(e){return e.op==="and"}function cb(e){return _O(e)&&ub(e)}function _O(e){for(const t of e.filters)if(t instanceof bi)return!1;return!0}function lp(e){if(e instanceof Ve)return e.field.canonicalString()+e.op.toString()+po(e.value);if(cb(e))return e.filters.map(t=>lp(t)).join(",");{const t=e.filters.map(i=>lp(i)).join(",");return`${e.op}(${t})`}}function hb(e,t){return e instanceof Ve?function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(e,t):e instanceof bi?function(s,o){return o instanceof bi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,c,d)=>u&&hb(c,o.filters[d]),!0):!1}(e,t):void Et()}function fb(e){return e instanceof Ve?function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`}(e):e instanceof bi?function(i){return i.op.toString()+" {"+i.getFilters().map(fb).join(" ,")+"}"}(e):"Filter"}class TO extends Ve{constructor(t,i,s){super(t,i,s),this.key=vt.fromName(s.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class EO extends Ve{constructor(t,i){super(t,"in",i),this.keys=db("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class AO extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=db("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function db(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>vt.fromName(s.referenceValue))}class SO extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return pg(i)&&hu(i.arrayValue,this.value)}}class bO extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&hu(this.value.arrayValue,i)}}class wO extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!hu(this.value.arrayValue,i)}}class RO extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!pg(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>hu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,i=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.le=null}}function tE(e,t=null,i=[],s=[],o=null,u=null,c=null){return new CO(e,t,i,s,o,u,c)}function gg(e){const t=bt(e);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>lp(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Qh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>po(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>po(s)).join(",")),t.le=i}return t.le}function yg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!vO(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!hb(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!JT(e.startAt,t.startAt)&&JT(e.endAt,t.endAt)}function up(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,i=null,s=[],o=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function DO(e,t,i,s,o,u,c,d){return new Yh(e,t,i,s,o,u,c,d)}function vg(e){return new Yh(e)}function eE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function xO(e){return e.collectionGroup!==null}function Yl(e){const t=bt(e);if(t.he===null){t.he=[];const i=new Set;for(const u of t.explicitOrderBy)t.he.push(u),i.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Me(Qe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.he.push(new xh(u,s))}),i.has(Qe.keyField().canonicalString())||t.he.push(new xh(Qe.keyField(),s))}return t.he}function Ti(e){const t=bt(e);return t.Pe||(t.Pe=VO(t,Yl(e))),t.Pe}function VO(e,t){if(e.limitType==="F")return tE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xh(o.field,u)});const i=e.endAt?new Dh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Dh(e.startAt.position,e.startAt.inclusive):null;return tE(e.path,e.collectionGroup,t,e.filters,e.limit,i,s)}}function cp(e,t,i){return new Yh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Xh(e,t){return yg(Ti(e),Ti(t))&&e.limitType===t.limitType}function mb(e){return`${gg(Ti(e))}|lt:${e.limitType}`}function Za(e){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>fb(o)).join(", ")}]`),Qh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>po(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>po(o)).join(",")),`Target(${s})`}(Ti(e))}; limitType=${e.limitType})`}function Zh(e,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(e,t)&&function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(c,d,m){const g=WT(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,Yl(s),o)||s.endAt&&!function(c,d,m){const g=WT(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,Yl(s),o))}(e,t)}function IO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pb(e){return(t,i)=>{let s=!1;for(const o of Yl(e)){const u=MO(o,t,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MO(e,t,i){const s=e.field.isKeyField()?vt.comparator(t.key,i.key):function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?mo(m,g):Et()}(e.field,t,i);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){na(this.inner,(i,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new re(vt.comparator);function or(){return OO}const gb=new re(vt.comparator);function jl(...e){let t=gb;for(const i of e)t=t.insert(i.key,i);return t}function yb(e){let t=gb;return e.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function $s(){return Xl()}function vb(){return Xl()}function Xl(){return new ia(e=>e.toString(),(e,t)=>e.isEqual(t))}const NO=new re(vt.comparator),PO=new Me(vt.comparator);function It(...e){let t=PO;for(const i of e)t=t.add(i);return t}const LO=new Me(Ot);function UO(){return LO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function _b(e){return{integerValue:""+e}}function kO(e,t){return cO(t)?_b(t):_g(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function BO(e,t,i){return e instanceof Vh?function(o,u){const c={fields:{[nb]:{stringValue:eb},[rb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mg(u)&&(u=$h(u)),u&&(c.fields[ib]=u),{mapValue:c}}(i,t):e instanceof fu?Eb(e,t):e instanceof du?Ab(e,t):function(o,u){const c=Tb(o,u),d=nE(c)+nE(o.Ie);return op(c)&&op(o.Ie)?_b(d):_g(o.serializer,d)}(e,t)}function zO(e,t,i){return e instanceof fu?Eb(e,t):e instanceof du?Ab(e,t):i}function Tb(e,t){return e instanceof Ih?function(s){return op(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Vh extends Wh{}class fu extends Wh{constructor(t){super(),this.elements=t}}function Eb(e,t){const i=Sb(t);for(const s of e.elements)i.some(o=>Si(o,s))||i.push(s);return{arrayValue:{values:i}}}class du extends Wh{constructor(t){super(),this.elements=t}}function Ab(e,t){let i=Sb(t);for(const s of e.elements)i=i.filter(o=>!Si(o,s));return{arrayValue:{values:i}}}class Ih extends Wh{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function nE(e){return ye(e.integerValue||e.doubleValue)}function Sb(e){return pg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function jO(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof fu&&o instanceof fu||s instanceof du&&o instanceof du?fo(s.elements,o.elements,Si):s instanceof Ih&&o instanceof Ih?Si(s.Ie,o.Ie):s instanceof Vh&&o instanceof Vh}(e.transform,t.transform)}class qO{constructor(t,i){this.version=t,this.transformResults=i}}class nr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new nr}static exists(t){return new nr(void 0,t)}static updateTime(t){return new nr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Jh{}function bb(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Rb(e.key,nr.none()):new bu(e.key,e.data,nr.none());{const i=e.data,s=Hn.empty();let o=new Me(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new ra(e.key,s,new Jn(o.toArray()),nr.none())}}function FO(e,t,i){e instanceof bu?function(o,u,c){const d=o.value.clone(),m=rE(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,i):e instanceof ra?function(o,u,c){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=rE(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(wb(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,i):function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,i)}function Zl(e,t,i,s){return e instanceof bu?function(u,c,d,m){if(!fh(u.precondition,c))return d;const g=u.value.clone(),v=sE(u.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(e,t,i,s):e instanceof ra?function(u,c,d,m){if(!fh(u.precondition,c))return d;const g=sE(u.fieldTransforms,m,c),v=c.data;return v.setAll(wb(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(e,t,i,s):function(u,c,d){return fh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,i)}function HO(e,t){let i=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=Tb(s.transform,o||null);u!=null&&(i===null&&(i=Hn.empty()),i.set(s.field,u))}return i||null}function iE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,(u,c)=>jO(u,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bu extends Jh{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends Jh{constructor(t,i,s,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wb(e){const t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=e.data.field(i);t.set(i,s)}}),t}function rE(e,t,i){const s=new Map;Gt(e.length===i.length);for(let o=0;o<i.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,zO(c,d,i[o]))}return s}function sE(e,t,i){const s=new Map;for(const o of e){const u=o.transform,c=i.data.field(o.field);s.set(o.field,BO(u,c,t))}return s}class Rb extends Jh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GO extends Jh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&FO(u,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Zl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Zl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=vb();return this.mutations.forEach(o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const m=bb(c,d);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),It())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,(i,s)=>iE(i,s))&&fo(this.baseMutations,t.baseMutations,(i,s)=>iE(i,s))}}class Tg{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Gt(t.mutations.length===s.length);let o=function(){return NO}();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new Tg(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,kt;function YO(e){switch(e){case nt.OK:return Et();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Et()}}function Cb(e){if(e===void 0)return ar("GRPC error has no .code"),nt.UNKNOWN;switch(e){case Se.OK:return nt.OK;case Se.CANCELLED:return nt.CANCELLED;case Se.UNKNOWN:return nt.UNKNOWN;case Se.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Se.INTERNAL:return nt.INTERNAL;case Se.UNAVAILABLE:return nt.UNAVAILABLE;case Se.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Se.NOT_FOUND:return nt.NOT_FOUND;case Se.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Se.ABORTED:return nt.ABORTED;case Se.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Se.DATA_LOSS:return nt.DATA_LOSS;default:return Et()}}(kt=Se||(Se={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Zr([4294967295,4294967295],0);function aE(e){const t=XO().encode(e),i=new HS;return i.update(t),new Uint8Array(i.digest())}function oE(e){const t=new DataView(e.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([i,s],0),new Zr([o,u],0)]}class Eg{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Zr.fromNumber(this.Ee)}Ae(t,i,s){let o=t.add(i.multiply(Zr.fromNumber(s)));return o.compare(ZO)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=aE(t),[s,o]=oE(i);for(let u=0;u<this.hashCount;u++){const c=this.Ae(s,o,u);if(!this.Re(c))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Eg(u,o,i);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.Ee===0)return;const i=aE(t),[s,o]=oE(i);for(let u=0;u<this.hashCount;u++){const c=this.Ae(s,o,u);this.Ve(c)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,i,s,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,wu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new tf(At.min(),o,new re(Ot),or(),It())}}class wu{constructor(t,i,s,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new wu(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,i,s,o){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=o}}class Db{constructor(t,i){this.targetId=t,this.ge=i}}class xb{constructor(t,i,s=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class lE{constructor(){this.pe=0,this.ye=uE(),this.we=$e.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=It(),i=It(),s=It();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new wu(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=uE()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WO{constructor(t){this.ke=t,this.qe=new Map,this.Qe=or(),this.$e=nh(),this.Ke=nh(),this.Ue=new re(Ot)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,s=t.ge.count,o=this.Xe(i);if(o){const u=o.target;if(up(u))if(s===0){const c=new vt(u.path);this.ze(i,c,en.newNoDocument(c,At.min()))}else Gt(s===1);else{const c=this.et(i);if(c!==s){const d=this.tt(t),m=d?this.nt(d,t,c):1;if(m!==0){this.Ye(i);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,g)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=ss(s).toUint8Array()}catch(m){if(m instanceof tb)return ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Eg(c,o,u)}catch(m){return ho(m instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(u=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.ze(i,u,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((u,c)=>{const d=this.Xe(c);if(d){if(u.current&&up(d.target)){const m=new vt(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,en.newNoDocument(m,t))}u.ve&&(i.set(c,u.Fe()),u.Me())}});let s=It();this.Ke.forEach((u,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,c)=>c.setReadTime(t));const o=new tf(t,i,this.Ue,this.Qe,s);return this.Qe=or(),this.$e=nh(),this.Ke=nh(),this.Ue=new re(Ot),o}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(t)),this.Ke=this.Ke.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new lE,this.qe.set(t,i)),i}ct(t){let i=this.Ke.get(t);return i||(i=new Me(Ot),this.Ke=this.Ke.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Me(Ot),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new lE),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function nh(){return new re(vt.comparator)}function uE(){return new re(vt.comparator)}const JO={asc:"ASCENDING",desc:"DESCENDING"},tN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eN={and:"AND",or:"OR"};class nN{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hp(e,t){return e.useProto3Json||Qh(t)?t:{value:t}}function Mh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function iN(e,t){return Mh(e,t.toTimestamp())}function Ei(e){return Gt(!!e),At.fromTimestamp(function(i){const s=rs(i);return new Ie(s.seconds,s.nanos)}(e))}function Ag(e,t){return fp(e,t).canonicalString()}function fp(e,t){const i=function(o){return new fe(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?i:i.child(t)}function Ib(e){const t=fe.fromString(e);return Gt(Lb(t)),t}function dp(e,t){return Ag(e.databaseId,t.path)}function xm(e,t){const i=Ib(t);if(i.get(1)!==e.databaseId.projectId)throw new yt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new yt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new vt(Ob(i))}function Mb(e,t){return Ag(e.databaseId,t)}function rN(e){const t=Ib(e);return t.length===4?fe.emptyPath():Ob(t)}function mp(e){return new fe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ob(e){return Gt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function cE(e,t,i){return{name:dp(e,t),fields:i.value.mapValue.fields}}function sN(e,t){let i;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Gt(v===void 0||typeof v=="string"),$e.fromBase64String(v||"")):(Gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),$e.fromUint8Array(v||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const v=g.code===void 0?nt.UNKNOWN:Cb(g.code);return new yt(v,g.message||"")}(c);i=new xb(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(e,s.document.name),u=Ei(s.document.updateTime),c=s.document.createTime?Ei(s.document.createTime):At.min(),d=new Hn({mapValue:{fields:s.document.fields}}),m=en.newFoundDocument(o,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];i=new dh(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=xm(e,s.document),u=s.readTime?Ei(s.readTime):At.min(),c=en.newNoDocument(o,u),d=s.removedTargetIds||[];i=new dh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=xm(e,s.document),u=s.removedTargetIds||[];i=new dh([],u,o,null)}else{if(!("filter"in t))return Et();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new $O(o,u),d=s.targetId;i=new Db(d,c)}}return i}function aN(e,t){let i;if(t instanceof bu)i={update:cE(e,t.key,t.value)};else if(t instanceof Rb)i={delete:dp(e,t.key)};else if(t instanceof ra)i={update:cE(e,t.key,t.data),updateMask:pN(t.fieldMask)};else{if(!(t instanceof GO))return Et();i={verify:dp(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(u,c){const d=c.transform;if(d instanceof Vh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ih)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Et()}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:iN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et()}(e,t.precondition)),i}function oN(e,t){return e&&e.length>0?(Gt(t!==void 0),e.map(i=>function(o,u){let c=o.updateTime?Ei(o.updateTime):Ei(u);return c.isEqual(At.min())&&(c=Ei(u)),new qO(c,o.transformResults||[])}(i,t))):[]}function lN(e,t){return{documents:[Mb(e,t.path)]}}function uN(e,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Mb(e,o);const u=function(g){if(g.length!==0)return Pb(bi.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const c=function(g){if(g.length!==0)return g.map(v=>function(A){return{field:Wa(A.field),direction:fN(A.dir)}}(v))}(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=hp(e,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:i,parent:o}}function cN(e){let t=rN(e.parent);const i=e.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const A=Nb(E);return A instanceof bi&&cb(A)?A.getFilters():[A]}(i.where));let c=[];i.orderBy&&(c=function(E){return E.map(A=>function(x){return new xh(Ja(x.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(A))}(i.orderBy));let d=null;i.limit&&(d=function(E){let A;return A=typeof E=="object"?E.value:E,Qh(A)?null:A}(i.limit));let m=null;i.startAt&&(m=function(E){const A=!!E.before,w=E.values||[];return new Dh(w,A)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const A=!E.before,w=E.values||[];return new Dh(w,A)}(i.endAt)),DO(t,o,c,u,d,"F",m,g)}function hN(e,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Nb(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ja(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(i.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ja(i.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(e):e.fieldFilter!==void 0?function(i){return Ve.create(Ja(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return bi.create(i.compositeFilter.filters.map(s=>Nb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(e):Et()}function fN(e){return JO[e]}function dN(e){return tN[e]}function mN(e){return eN[e]}function Wa(e){return{fieldPath:e.canonicalString()}}function Ja(e){return Qe.fromServerFormat(e.fieldPath)}function Pb(e){return e instanceof Ve?function(i){if(i.op==="=="){if(ZT(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(XT(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ZT(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(XT(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:dN(i.op),value:i.value}}}(e):e instanceof bi?function(i){const s=i.getFilters().map(o=>Pb(o));return s.length===1?s[0]:{compositeFilter:{op:mN(i.op),filters:s}}}(e):Et()}function pN(e){const t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Lb(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,i,s,o,u=At.min(),c=At.min(),d=$e.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.Tt=t}}function yN(e){const t=cN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.Tn=new _N}addToCollectionParentIndex(t,i){return this.Tn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(is.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(is.min())}updateCollectionGroup(t,i,s){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class _N{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Me(fe.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Me(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ub=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Ub,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new go(0)}static Un(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LruGarbageCollector",TN=1048576;function dE([e,t],[i,s]){const o=Ot(e,i);return o===0?Ot(t,s):o}class EN{constructor(t){this.Hn=t,this.buffer=new Me(dE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();dE(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AN{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(fE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?ut(fE,"Ignoring IndexedDB error during garbage collection: ",i):await bo(i)}await this.er(3e5)})}}class SN{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Kh.ae);const s=new EN(i);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(hE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,o,u,c,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,i))).next(E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(g=Date.now(),Xa()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function bN(e,t){return new SN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.changes=new ia(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&Zl(s.mutation,o,Jn.empty(),Ie.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,It()).next(()=>s))}getLocalViewOfDocuments(t,i,s=It()){const o=$s();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(u=>{let c=jl();return u.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,i){const s=$s();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,It()))}populateOverlays(t,i,s){const o=[];return s.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((c,d)=>{i.set(c,d)})})}computeViews(t,i,s,o){let u=or();const c=Xl(),d=function(){return Xl()}();return i.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ra)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Zl(v.mutation,g,v.mutation.getFieldMask(),Ie.now())):c.set(g.key,Jn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,v)=>c.set(g,v)),i.forEach((g,v)=>{var E;return d.set(g,new RN(v,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,i){const s=Xl();let o=new re((c,d)=>c-d),u=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=i.get(m);if(g===null)return;let v=s.get(m)||Jn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const E=(o.get(d.batchId)||It()).add(m);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,E=vb();v.forEach(A=>{if(!u.has(A)){const w=bb(i.get(A),s.get(A));w!==null&&E.set(A,w),u=u.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return W.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):xO(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-u.size):W.resolve($s());let d=lu,m=u;return c.next(g=>W.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?W.resolve():this.remoteDocumentCache.getEntry(t,v).next(A=>{m=m.insert(v,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,It())).next(v=>({batchId:d,changes:yb(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next(s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const u=i.collectionGroup;let c=jl();return this.indexManager.getCollectionParents(t,u).next(d=>W.forEach(d,m=>{const g=function(E,A){return new Yh(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(v=>{v.forEach((E,A)=>{c=c.insert(E,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,u,o))).next(c=>{u.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,en.newInvalidDocument(v)))});let d=jl();return c.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Zl(v.mutation,g,Jn.empty(),Ie.now()),Zh(i,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return W.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:yN(o.bundledQuery),readTime:Ei(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.overlays=new re(vt.comparator),this.Rr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const s=$s();return W.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,u)=>{this.Et(t,i,u)}),W.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(t,i,s){const o=$s(),u=i.length+1,c=new vt(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let u=new re((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=$s(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=$s(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return W.resolve(d)}Et(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new QO(i,s));let u=this.Rr.get(i);u===void 0&&(u=It(),this.Rr.set(i,u)),this.Rr.set(i,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.Vr=new Me(ze.mr),this.gr=new Me(ze.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new ze(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new ze(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new vt(new fe([])),s=new ze(i,t),o=new ze(i,t+1),u=[];return this.gr.forEachInRange([s,o],c=>{this.wr(c),u.push(c.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new vt(new fe([])),s=new ze(i,t),o=new ze(i,t+1);let u=It();return this.gr.forEachInRange([s,o],c=>{u=u.add(c.key)}),u}containsKey(t){const i=new ze(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return vt.comparator(t.key,i.key)||Ot(t.Cr,i.Cr)}static pr(t,i){return Ot(t.Cr,i.Cr)||vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Me(ze.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new KO(u,i,s,o);this.mutationQueue.push(c);for(const d of o)this.Mr=this.Mr.add(new ze(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return W.resolve(c)}lookupMutationBatch(t,i){return W.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?dg:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],c=>{const d=this.Or(c.Cr);u.push(d)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Ot);return i.forEach(o=>{const u=new ze(o,0),c=new ze(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,c],d=>{s=s.add(d.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const c=new ze(new vt(u),0);let d=new Me(Ot);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},c),W.resolve(this.Br(d))}Br(t){const i=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(i.mutations,o=>{const u=new ze(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new ze(i,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t){this.kr=t,this.docs=function(){return new re(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,c=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():en.newInvalidDocument(i))}getEntries(t,i){let s=or();return i.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let u=or();const c=i.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||aO(sO(v),s)<=0||(o.has(v.key)||Zh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,i,s,o){Et()}qr(t,i){return W.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new ON(this)}getSize(t){return W.resolve(this.size)}}class ON extends wN{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),W.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t){this.persistence=t,this.Qr=new ia(i=>gg(i),yg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Sg,this.targetCount=0,this.Ur=go.Kn()}forEachTarget(t,i){return this.Qr.forEach((s,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),W.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ur=new go(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.zn(i),W.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,s){let o=0;const u=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=i&&s.get(d.targetId)===null&&(this.Qr.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return W.resolve(s)}addMatchingKeys(t,i,s){return this.Kr.yr(i,s),W.resolve()}removeMatchingKeys(t,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(c=>{u.push(o.markPotentiallyOrphaned(t,c))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.Kr.br(i),W.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Kr.vr(i);return W.resolve(s)}containsKey(t,i){return W.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Kh(0),this.zr=!1,this.zr=!0,this.jr=new VN,this.referenceDelegate=t(this),this.Hr=new NN(this),this.indexManager=new vN,this.remoteDocumentCache=function(o){return new MN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new gN(i),this.Yr=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new xN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new IN(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){ut("MemoryPersistence","Starting transaction:",t);const o=new PN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,i){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class PN extends lO{constructor(t){super(),this.currentSequenceNumber=t}}class bg{constructor(t){this.persistence=t,this.ti=new Sg,this.ni=null}static ri(t){return new bg(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),W.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),W.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=vt.fromPath(s);return this.si(t,o).next(u=>{u||i.removeEntry(o,At.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return W.or([()=>W.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Oh{constructor(t,i){this.persistence=t,this.oi=new ia(s=>hO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=bN(this,i)}static ri(t,i){return new Oh(t,i)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return W.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?W.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,c=>this.ar(t,c,i).next(d=>{d||(s++,u.removeEntry(c,At.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=ch(t.data.value)),i}ar(t,i,s){return W.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(t,i){let s=It(),o=It();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wg(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return MI()?8:uO(xI())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,o){const u={result:null};return this.rs(t,i).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.ss(t,i,o,s).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new LN;return this._s(t,i,c).next(d=>{if(u.result=d,this.Xi)return this.us(t,i,c,d.size)})}).next(()=>u.result)}us(t,i,s,o){return s.documentReadCount<this.es?(Xa()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Xa()<=Bt.DEBUG&&ut("QueryEngine","Query:",Za(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Xa()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):W.resolve())}rs(t,i){if(eE(i))return W.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=cp(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const c=It(...u);return this.ns.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.cs(i,d);return this.ls(i,g,c,m.readTime)?this.rs(t,cp(i,null,"F")):this.hs(t,g,i,m)}))})))}ss(t,i,s,o){return eE(i)||o.isEqual(At.min())?W.resolve(null):this.ns.getDocuments(t,s).next(u=>{const c=this.cs(i,u);return this.ls(i,c,s,o)?W.resolve(null):(Xa()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(i)),this.hs(t,c,i,rO(o,lu)).next(d=>d))})}cs(t,i){let s=new Me(pb(t));return i.forEach((o,u)=>{Zh(t,u)&&(s=s.add(u))}),s}ls(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,i,s){return Xa()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ns.getDocumentsMatchingQuery(t,i,is.min(),s)}hs(t,i,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(i.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",kN=3e8;class BN{constructor(t,i,s,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new re(Ot),this.Is=new ia(u=>gg(u),yg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function zN(e,t,i,s){return new BN(e,t,i,s)}async function Bb(e,t){const i=bt(e);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(u=>{const c=[],d=[];let m=It();for(const g of o){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return i.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function jN(e,t){const i=bt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=i.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const E=g.batch,A=E.keys();let w=W.resolve();return A.forEach(x=>{w=w.next(()=>v.getEntry(m,x)).next(N=>{const O=g.docVersions.get(x);Gt(O!==null),N.version.compareTo(O)<0&&(E.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),v.addEntry(N)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(i,s,t,u).next(()=>u.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=It();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function zb(e){const t=bt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function qN(e,t){const i=bt(e),s=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const d=[];t.targetChanges.forEach((v,E)=>{const A=o.get(E);if(!A)return;d.push(i.Hr.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.Hr.addMatchingKeys(u,v.addedDocuments,E)));let w=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?w=w.withResumeToken($e.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),o=o.insert(E,w),function(N,O,k){return N.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=kN?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(A,w,v)&&d.push(i.Hr.updateTargetData(u,w))});let m=or(),g=It();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(FN(u,c,t.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!s.isEqual(At.min())){const v=i.Hr.getLastRemoteSnapshotVersion(u).next(E=>i.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return W.waitFor(d).next(()=>c.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(i.Ts=o,u))}function FN(e,t,i){let s=It(),o=It();return i.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let c=or();return i.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(At.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ut(Rg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:c,fs:o}})}function HN(e,t){const i=bt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=dg),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function GN(e,t){const i=bt(e);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,t).next(u=>u?(o=u,W.resolve(o)):i.Hr.allocateTargetId(s).next(c=>(o=new Qr(t,c,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function pp(e,t,i){const s=bt(e),o=s.Ts.get(t),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!wo(c))throw c;ut(Rg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function mE(e,t,i){const s=bt(e);let o=At.min(),u=It();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const E=bt(m),A=E.Is.get(v);return A!==void 0?W.resolve(E.Ts.get(A)):E.Hr.getTargetData(g,v)}(s,c,Ti(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,t,i?o:At.min(),i?u:It())).next(d=>(KN(s,IO(t),d),{documents:d,gs:u})))}function KN(e,t,i){let s=e.Es.get(t)||At.min();i.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.Es.set(t,s)}class pE{constructor(){this.activeTargetIds=UO()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QN{constructor(){this.ho=new pE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new pE,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="ConnectivityMonitor";class yE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(gE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(gE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function gp(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",YN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XN{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,i,s,o,u){const c=gp(),d=this.bo(t,i.toUriEncodedString());ut(Vm,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(t,d,m,s).then(g=>(ut(Vm,`Received RPC '${t}' ${c}: `,g),g),g=>{throw ho(Vm,`RPC '${t}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}Co(t,i,s,o,u,c){return this.So(t,i,s,o,u)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}bo(t,i){const s=YN[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class WN extends XN{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,o){const u=gp();return new Promise((c,d)=>{const m=new GS;m.setWithCredentials(!0),m.listenOnce(KS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case uh.NO_ERROR:const v=m.getResponseJson();ut(We,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),c(v);break;case uh.TIMEOUT:ut(We,`RPC '${t}' ${u} timed out`),d(new yt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const E=m.getStatus();if(ut(We,`RPC '${t}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const w=A?.error;if(w&&w.status&&w.message){const x=function(O){const k=O.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(k)>=0?k:nt.UNKNOWN}(w.status);d(new yt(x,w.message))}else d(new yt(nt.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new yt(nt.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ut(We,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ut(We,`RPC '${t}' ${u} sending request:`,o),m.send(i,"POST",g,s,15)})}Wo(t,i,s){const o=gp(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=YS(),d=$S(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,i,s),m.encodeInitMessageHeaders=!0;const v=u.join("");ut(We,`Creating RPC '${t}' stream ${o}: ${v}`,m);const E=c.createWebChannel(v,m);let A=!1,w=!1;const x=new ZN({Fo:O=>{w?ut(We,`Not sending because RPC '${t}' stream ${o} is closed:`,O):(A||(ut(We,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),ut(We,`RPC '${t}' stream ${o} sending:`,O),E.send(O))},Mo:()=>E.close()}),N=(O,k,F)=>{O.listen(k,$=>{try{F($)}catch(rt){setTimeout(()=>{throw rt},0)}})};return N(E,zl.EventType.OPEN,()=>{w||(ut(We,`RPC '${t}' stream ${o} transport opened.`),x.Qo())}),N(E,zl.EventType.CLOSE,()=>{w||(w=!0,ut(We,`RPC '${t}' stream ${o} transport closed`),x.Ko())}),N(E,zl.EventType.ERROR,O=>{w||(w=!0,ho(We,`RPC '${t}' stream ${o} transport errored:`,O),x.Ko(new yt(nt.UNAVAILABLE,"The operation could not be completed")))}),N(E,zl.EventType.MESSAGE,O=>{var k;if(!w){const F=O.data[0];Gt(!!F);const $=F,rt=$?.error||((k=$[0])===null||k===void 0?void 0:k.error);if(rt){ut(We,`RPC '${t}' stream ${o} received error:`,rt);const J=rt.status;let at=function(R){const V=Se[R];if(V!==void 0)return Cb(V)}(J),M=rt.message;at===void 0&&(at=nt.INTERNAL,M="Unknown error status: "+J+" with message "+rt.message),w=!0,x.Ko(new yt(at,M)),E.close()}else ut(We,`RPC '${t}' stream ${o} received:`,F),x.Uo(F)}}),N(d,QS.STAT_EVENT,O=>{O.stat===sp.PROXY?ut(We,`RPC '${t}' stream ${o} detected buffering proxy`):O.stat===sp.NOPROXY&&ut(We,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e){return new nN(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,i,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="PersistentStream";class qb{constructor(t,i,s,o,u,c,d,m){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new jb(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(ar(i.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{t(()=>{const o=new yt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(vE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(ut(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JN extends qb{constructor(t,i,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,c),this.serializer=u}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=sN(this.serializer,t),s=function(u){if(!("targetChange"in u))return At.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Ei(c.readTime):At.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=mp(this.serializer),i.addTarget=function(u,c){let d;const m=c.target;if(d=up(m)?{documents:lN(u,m)}:{query:uN(u,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Vb(u,c.resumeToken);const g=hp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=Mh(u,c.snapshotVersion.toTimestamp());const g=hp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=hN(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=mp(this.serializer),i.removeTarget=t,this.I_(i)}}class tP extends qb{constructor(t,i,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,c),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=oN(t.writeResults,t.commitTime),s=Ei(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=mp(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>aN(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{}class nP extends eP{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new yt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.So(t,fp(i,s),o,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(nt.UNKNOWN,u.toString())})}Co(t,i,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,fp(i,s),o,c,d,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(nt.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iP{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ar(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class rP{constructor(t,i,s,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(c=>{s.enqueueAndForget(async()=>{sa(this)&&(ut(Ws,"Restarting streams for network reachability change."),await async function(m){const g=bt(m);g.W_.add(4),await Ru(g),g.j_.set("Unknown"),g.W_.delete(4),await nf(g)}(this))})}),this.j_=new iP(s,o)}}async function nf(e){if(sa(e))for(const t of e.G_)await t(!0)}async function Ru(e){for(const t of e.G_)await t(!1)}function Fb(e,t){const i=bt(e);i.U_.has(t.targetId)||(i.U_.set(t.targetId,t),Vg(i)?xg(i):Ro(i).c_()&&Dg(i,t))}function Cg(e,t){const i=bt(e),s=Ro(i);i.U_.delete(t),s.c_()&&Hb(i,t),i.U_.size===0&&(s.c_()?s.P_():sa(i)&&i.j_.set("Unknown"))}function Dg(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ro(e).y_(t)}function Hb(e,t){e.H_.Ne(t),Ro(e).w_(t)}function xg(e){e.H_=new WO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Ro(e).start(),e.j_.B_()}function Vg(e){return sa(e)&&!Ro(e).u_()&&e.U_.size>0}function sa(e){return bt(e).W_.size===0}function Gb(e){e.H_=void 0}async function sP(e){e.j_.set("Online")}async function aP(e){e.U_.forEach((t,i)=>{Dg(e,t)})}async function oP(e,t){Gb(e),Vg(e)?(e.j_.q_(t),xg(e)):e.j_.set("Unknown")}async function lP(e,t,i){if(e.j_.set("Online"),t instanceof xb&&t.state===2&&t.cause)try{await async function(o,u){const c=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.U_.delete(d),o.H_.removeTarget(d))}(e,t)}catch(s){ut(Ws,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Nh(e,s)}else if(t instanceof dh?e.H_.We(t):t instanceof Db?e.H_.Ze(t):e.H_.je(t),!i.isEqual(At.min()))try{const s=await zb(e.localStore);i.compareTo(s)>=0&&await function(u,c){const d=u.H_.ot(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.U_.get(g);v&&u.U_.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=u.U_.get(m);if(!v)return;u.U_.set(m,v.withResumeToken($e.EMPTY_BYTE_STRING,v.snapshotVersion)),Hb(u,m);const E=new Qr(v.target,m,g,v.sequenceNumber);Dg(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(e,i)}catch(s){ut(Ws,"Failed to raise snapshot:",s),await Nh(e,s)}}async function Nh(e,t,i){if(!wo(t))throw t;e.W_.add(1),await Ru(e),e.j_.set("Offline"),i||(i=()=>zb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ut(Ws,"Retrying IndexedDB access"),await i(),e.W_.delete(1),await nf(e)})}function Kb(e,t){return t().catch(i=>Nh(e,i,t))}async function rf(e){const t=bt(e),i=os(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:dg;for(;uP(t);)try{const o=await HN(t.localStore,s);if(o===null){t.K_.length===0&&i.P_();break}s=o.batchId,cP(t,o)}catch(o){await Nh(t,o)}Qb(t)&&$b(t)}function uP(e){return sa(e)&&e.K_.length<10}function cP(e,t){e.K_.push(t);const i=os(e);i.c_()&&i.S_&&i.b_(t.mutations)}function Qb(e){return sa(e)&&!os(e).u_()&&e.K_.length>0}function $b(e){os(e).start()}async function hP(e){os(e).C_()}async function fP(e){const t=os(e);for(const i of e.K_)t.b_(i.mutations)}async function dP(e,t,i){const s=e.K_.shift(),o=Tg.from(s,t,i);await Kb(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await rf(e)}async function mP(e,t){t&&os(e).S_&&await async function(s,o){if(function(c){return YO(c)&&c!==nt.ABORTED}(o.code)){const u=s.K_.shift();os(s).h_(),await Kb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rf(s)}}(e,t),Qb(e)&&$b(e)}async function _E(e,t){const i=bt(e);i.asyncQueue.verifyOperationInProgress(),ut(Ws,"RemoteStore received new credentials");const s=sa(i);i.W_.add(3),await Ru(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await nf(i)}async function pP(e,t){const i=bt(e);t?(i.W_.delete(2),await nf(i)):t||(i.W_.add(2),await Ru(i),i.j_.set("Unknown"))}function Ro(e){return e.J_||(e.J_=function(i,s,o){const u=bt(i);return u.M_(),new JN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{xo:sP.bind(null,e),No:aP.bind(null,e),Lo:oP.bind(null,e),p_:lP.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Vg(e)?xg(e):e.j_.set("Unknown")):(await e.J_.stop(),Gb(e))})),e.J_}function os(e){return e.Y_||(e.Y_=function(i,s,o){const u=bt(i);return u.M_(),new tP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:hP.bind(null,e),Lo:mP.bind(null,e),D_:fP.bind(null,e),v_:dP.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await rf(e)):(await e.Y_.stop(),e.K_.length>0&&(ut(Ws,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,i,s,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,u){const c=Date.now()+s,d=new Ig(t,i,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(e,t){if(ar("AsyncQueue",`${t}: ${e}`),wo(e))return new yt(nt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=jl(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.Z_=new re(vt.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class yo{constructor(t,i,s,o,u,c,d,m,g){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,i,s,o,u){const c=[];return i.forEach(d=>{c.push({type:0,doc:d})}),new yo(t,i,ao.emptySet(i),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class yP{constructor(){this.queries=EE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=bt(i),u=o.queries;o.queries=EE(),u.forEach((c,d)=>{for(const m of d.ta)m.onError(s)})})(this,new yt(nt.ABORTED,"Firestore shutting down"))}}function EE(){return new ia(e=>mb(e),Xh)}async function vP(e,t){const i=bt(e);let s=3;const o=t.query;let u=i.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new gP,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await i.onListen(o,!0);break;case 1:u.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=Mg(c,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.ta.push(t),t.sa(i.onlineState),u.ea&&t.oa(u.ea)&&Og(i)}async function _P(e,t){const i=bt(e),s=t.query;let o=3;const u=i.queries.get(s);if(u){const c=u.ta.indexOf(t);c>=0&&(u.ta.splice(c,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function TP(e,t){const i=bt(e);let s=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.ta)d.oa(o)&&(s=!0);c.ea=o}}s&&Og(i)}function EP(e,t,i){const s=bt(e),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(i);s.queries.delete(t)}function Og(e){e.ia.forEach(t=>{t.next()})}var yp,AE;(AE=yp||(yp={}))._a="default",AE.Cache="cache";class AP{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t){this.key=t}}class Xb{constructor(t){this.key=t}}class SP{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=pb(t),this.wa=new ao(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new TE,o=i?i.wa:this.wa;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const A=o.get(v),w=Zh(this.query,E)?E:null,x=!!A&&this.mutatedKeys.has(A.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let O=!1;A&&w?A.data.isEqual(w.data)?x!==N&&(s.track({type:3,doc:w}),O=!0):this.va(A,w)||(s.track({type:2,doc:w}),O=!0,(m&&this.ya(w,m)>0||g&&this.ya(w,g)<0)&&(d=!0)):!A&&w?(s.track({type:0,doc:w}),O=!0):A&&!w&&(s.track({type:1,doc:A}),O=!0,(m||g)&&(d=!0)),O&&(w?(c=c.add(w),u=N?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:c,Da:s,ls:d,mutatedKeys:u}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((v,E)=>function(w,x){const N=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return N(w)-N(x)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(s),o=o!=null&&o;const d=i&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,c.length!==0||g?{snapshot:new yo(this.query,t.wa,u,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new TE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=It(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new Xb(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new Yb(s))}),i}Oa(t){this.fa=t.gs,this.pa=It();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ng="SyncEngine";class bP{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class wP{constructor(t){this.key=t,this.Ba=!1}}class RP{constructor(t,i,s,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ia(d=>mb(d),Xh),this.qa=new Map,this.Qa=new Set,this.$a=new re(vt.comparator),this.Ka=new Map,this.Ua=new Sg,this.Wa={},this.Ga=new Map,this.za=go.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function CP(e,t,i=!0){const s=nw(e);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Zb(s,t,i,!0),o}async function DP(e,t){const i=nw(e);await Zb(i,t,!0,!1)}async function Zb(e,t,i,s){const o=await GN(e.localStore,Ti(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,i);let d;return s&&(d=await xP(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&i&&Fb(e.remoteStore,o),d}async function xP(e,t,i,s,o){e.Ha=(E,A,w)=>async function(N,O,k,F){let $=O.view.ba(k);$.ls&&($=await mE(N.localStore,O.query,!1).then(({documents:M})=>O.view.ba(M,$)));const rt=F&&F.targetChanges.get(O.targetId),J=F&&F.targetMismatches.get(O.targetId)!=null,at=O.view.applyChanges($,N.isPrimaryClient,rt,J);return bE(N,O.targetId,at.Ma),at.snapshot}(e,E,A,w);const u=await mE(e.localStore,t,!0),c=new SP(t,u.gs),d=c.ba(u.documents),m=wu.createSynthesizedTargetChangeForCurrentChange(i,s&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,m);bE(e,i,g.Ma);const v=new bP(t,i,c);return e.ka.set(t,v),e.qa.has(i)?e.qa.get(i).push(t):e.qa.set(i,[t]),g.snapshot}async function VP(e,t,i){const s=bt(e),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(c=>!Xh(c,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Cg(s.remoteStore,o.targetId),vp(s,o.targetId)}).catch(bo)):(vp(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function IP(e,t){const i=bt(e),s=i.ka.get(t),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Cg(i.remoteStore,s.targetId))}async function MP(e,t,i){const s=BP(e);try{const o=await function(c,d){const m=bt(c),g=Ie.now(),v=d.reduce((w,x)=>w.add(x.key),It());let E,A;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=or(),N=It();return m.ds.getEntries(w,v).next(O=>{x=O,x.forEach((k,F)=>{F.isValidDocument()||(N=N.add(k))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,x)).next(O=>{E=O;const k=[];for(const F of d){const $=HO(F,E.get(F.key).overlayedDocument);$!=null&&k.push(new ra(F.key,$,ob($.value.mapValue),nr.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,k,d)}).next(O=>{A=O;const k=O.applyToLocalDocumentSet(E,N);return m.documentOverlayCache.saveOverlays(w,O.batchId,k)})}).then(()=>({batchId:A.batchId,changes:yb(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let g=c.Wa[c.currentUser.toKey()];g||(g=new re(Ot)),g=g.insert(d,m),c.Wa[c.currentUser.toKey()]=g}(s,o.batchId,i),await Cu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=Mg(o,"Failed to persist write");i.reject(u)}}async function Wb(e,t){const i=bt(e);try{const s=await qN(i.localStore,t);t.targetChanges.forEach((o,u)=>{const c=i.Ka.get(u);c&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?Gt(c.Ba):o.removedDocuments.size>0&&(Gt(c.Ba),c.Ba=!1))}),await Cu(i,s,t)}catch(s){await bo(s)}}function SE(e,t,i){const s=bt(e);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((u,c)=>{const d=c.view.sa(t);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=bt(c);m.onlineState=d;let g=!1;m.queries.forEach((v,E)=>{for(const A of E.ta)A.sa(d)&&(g=!0)}),g&&Og(m)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function OP(e,t,i){const s=bt(e);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Ka.get(t),u=o&&o.key;if(u){let c=new re(vt.comparator);c=c.insert(u,en.newNoDocument(u,At.min()));const d=It().add(u),m=new tf(At.min(),new Map,new re(Ot),c,d);await Wb(s,m),s.$a=s.$a.remove(u),s.Ka.delete(t),Pg(s)}else await pp(s.localStore,t,!1).then(()=>vp(s,t,i)).catch(bo)}async function NP(e,t){const i=bt(e),s=t.batch.batchId;try{const o=await jN(i.localStore,t);tw(i,s,null),Jb(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(i,o)}catch(o){await bo(o)}}async function PP(e,t,i){const s=bt(e);try{const o=await function(c,d){const m=bt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(Gt(E!==null),v=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,t);tw(s,t,i),Jb(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Cu(s,o)}catch(o){await bo(o)}}function Jb(e,t){(e.Ga.get(t)||[]).forEach(i=>{i.resolve()}),e.Ga.delete(t)}function tw(e,t,i){const s=bt(e);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function vp(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.qa.get(t))e.ka.delete(s),i&&e.La.Ja(s,i);e.qa.delete(t),e.isPrimaryClient&&e.Ua.br(t).forEach(s=>{e.Ua.containsKey(s)||ew(e,s)})}function ew(e,t){e.Qa.delete(t.path.canonicalString());const i=e.$a.get(t);i!==null&&(Cg(e.remoteStore,i),e.$a=e.$a.remove(t),e.Ka.delete(i),Pg(e))}function bE(e,t,i){for(const s of i)s instanceof Yb?(e.Ua.addReference(s.key,t),LP(e,s)):s instanceof Xb?(ut(Ng,"Document no longer in limbo: "+s.key),e.Ua.removeReference(s.key,t),e.Ua.containsKey(s.key)||ew(e,s.key)):Et()}function LP(e,t){const i=t.key,s=i.path.canonicalString();e.$a.get(i)||e.Qa.has(s)||(ut(Ng,"New document in limbo: "+i),e.Qa.add(s),Pg(e))}function Pg(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const i=new vt(fe.fromString(t)),s=e.za.next();e.Ka.set(s,new wP(i)),e.$a=e.$a.insert(i,s),Fb(e.remoteStore,new Qr(Ti(vg(i.path)),s,"TargetPurposeLimboResolution",Kh.ae))}}async function Cu(e,t,i){const s=bt(e),o=[],u=[],c=[];s.ka.isEmpty()||(s.ka.forEach((d,m)=>{c.push(s.Ha(m,t,i).then(g=>{var v;if((g||i)&&s.isPrimaryClient){const E=g?!g.fromCache:(v=i?.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){o.push(g);const E=wg.Yi(m.targetId,g);u.push(E)}}))}),await Promise.all(c),s.La.p_(o),await async function(m,g){const v=bt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>W.forEach(g,A=>W.forEach(A.Hi,w=>v.persistence.referenceDelegate.addReference(E,A.targetId,w)).next(()=>W.forEach(A.Ji,w=>v.persistence.referenceDelegate.removeReference(E,A.targetId,w)))))}catch(E){if(!wo(E))throw E;ut(Rg,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const w=v.Ts.get(A),x=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(x);v.Ts=v.Ts.insert(A,N)}}}(s.localStore,u))}async function UP(e,t){const i=bt(e);if(!i.currentUser.isEqual(t)){ut(Ng,"User change. New user:",t.toKey());const s=await Bb(i.localStore,t);i.currentUser=t,function(u,c){u.Ga.forEach(d=>{d.forEach(m=>{m.reject(new yt(nt.CANCELLED,c))})}),u.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Cu(i,s.Rs)}}function kP(e,t){const i=bt(e),s=i.Ka.get(t);if(s&&s.Ba)return It().add(s.key);{let o=It();const u=i.qa.get(t);if(!u)return o;for(const c of u){const d=i.ka.get(c);o=o.unionWith(d.view.Sa)}return o}}function nw(e){const t=bt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OP.bind(null,t),t.La.p_=TP.bind(null,t.eventManager),t.La.Ja=EP.bind(null,t.eventManager),t}function BP(e){const t=bt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PP.bind(null,t),t}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ef(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return zN(this.persistence,new UN,t.initialUser,this.serializer)}Xa(t){return new kb(bg.ri,this.serializer)}Za(t){return new QN}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class zP extends Ph{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Gt(this.persistence.referenceDelegate instanceof Oh);const s=this.persistence.referenceDelegate.garbageCollector;return new AN(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new kb(s=>Oh.ri(s,i),this.serializer)}}class _p{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UP.bind(null,this.syncEngine),await pP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yP}()}createDatastore(t){const i=ef(t.databaseInfo.databaseId),s=function(u){return new WN(u)}(t.databaseInfo);return function(u,c,d,m){return new nP(u,c,d,m)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,u,c,d){return new rP(s,o,u,c,d)}(this.localStore,this.datastore,t.asyncQueue,i=>SE(this.syncEngine,i,0),function(){return yE.D()?new yE:new $N}())}createSyncEngine(t,i){return function(o,u,c,d,m,g,v){const E=new RP(o,u,c,d,m,g);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=bt(o);ut(Ws,"RemoteStore shutting down."),u.W_.add(5),await Ru(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class qP{constructor(t,i,s,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ZS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async c=>{ut(ls,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ut(ls,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Mg(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Mm(e,t){e.asyncQueue.verifyOperationInProgress(),ut(ls,"Initializing OfflineComponentProvider");const i=e.configuration;await t.initialize(i);let s=i.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Bb(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wE(e,t){e.asyncQueue.verifyOperationInProgress();const i=await FP(e);ut(ls,"Initializing OnlineComponentProvider"),await t.initialize(i,e.configuration),e.setCredentialChangeListener(s=>_E(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,o)=>_E(t.remoteStore,o)),e._onlineComponents=t}async function FP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ut(ls,"Using user provided OfflineComponentProvider");try{await Mm(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ho("Error using user provided cache. Falling back to memory cache: "+i),await Mm(e,new Ph)}}else ut(ls,"Using default OfflineComponentProvider"),await Mm(e,new zP(void 0));return e._offlineComponents}async function iw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ut(ls,"Using user provided OnlineComponentProvider"),await wE(e,e._uninitializedComponentsProvider._online)):(ut(ls,"Using default OnlineComponentProvider"),await wE(e,new _p))),e._onlineComponents}function HP(e){return iw(e).then(t=>t.syncEngine)}async function GP(e){const t=await iw(e),i=t.eventManager;return i.onListen=CP.bind(null,t.syncEngine),i.onUnlisten=VP.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=DP.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=IP.bind(null,t.syncEngine),i}function KP(e,t,i={}){const s=new Wr;return e.asyncQueue.enqueueAndForget(async()=>function(u,c,d,m,g){const v=new jP({next:A=>{v.su(),c.enqueueAndForget(()=>_P(u,E));const w=A.docs.has(d);!w&&A.fromCache?g.reject(new yt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&A.fromCache&&m&&m.source==="server"?g.reject(new yt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new AP(vg(d.path),v,{includeMetadataChanges:!0,Ta:!0});return vP(u,E)}(await GP(e),e.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(e,t,i){if(!i)throw new yt(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $P(e,t,i,s){if(t===!0&&s===!0)throw new yt(nt.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function CE(e){if(!vt.isDocumentKey(e))throw new yt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Lg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et()}function mu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lg(e);throw new yt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firestore.googleapis.com",DE=!0;class xE{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sw,this.ssl=DE}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:DE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Ub;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TN)throw new yt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$P("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rw((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ug{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new XM;switch(s.type){case"firstParty":return new tO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=RE.get(i);s&&(ut("ComponentProvider","Removing Datastore"),RE.delete(i),s.terminate())}(this),Promise.resolve()}}function YP(e,t,i,s={}){var o;const u=(e=mu(e,Ug))._getSettings(),c=`${t}:${i}`;if(u.host!==sw&&u.host!==c&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},u),{host:c,ssl:!1})),s.mockUserToken){let d,m;if(typeof s.mockUserToken=="string")d=s.mockUserToken,m=tn.MOCK_USER;else{d=DI(s.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new yt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new tn(g)}e._authCredentials=new ZM(new XS(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new kg(this.firestore,t,this._query)}}class Gn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gn(this.firestore,t,this._key)}}class pu extends kg{constructor(t,i,s){super(t,i,vg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gn(this.firestore,null,new vt(t))}withConverter(t){return new pu(this.firestore,t,this._path)}}function Fl(e,t,...i){if(e=co(e),arguments.length===1&&(t=ZS.newId()),QP("doc","path",t),e instanceof Ug){const s=fe.fromString(t,...i);return CE(s),new Gn(e,null,new vt(s))}{if(!(e instanceof Gn||e instanceof pu))throw new yt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(fe.fromString(t,...i));return CE(s),new Gn(e.firestore,e instanceof pu?e.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class IE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jb(this,"async_queue_retry"),this.Su=()=>{const s=Im();s&&ut(VE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=Im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=Im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Wr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!wo(t))throw t;ut(VE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=Ig.createAndSchedule(this,t,i,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class Bg extends Ug{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new IE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new IE(t),this._firestoreClient=void 0,await t}}}function XP(e,t){const i=typeof e=="object"?e:jS(),s=typeof e=="string"?e:Rh,o=Su(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=RI("firestore");u&&YP(o,...u)}return o}function aw(e){if(e._terminated)throw new yt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ZP(e),e._firestoreClient}function ZP(e){var t,i,s;const o=e._freezeSettings(),u=function(d,m,g,v){return new mO(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rw(v.experimentalLongPollingOptions),v.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new qP(e._authCredentials,e._appCheckCredentials,e._queue,u,e._componentsProvider&&function(d){const m=d?._online.build();return{_offline:d?._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vo($e.fromBase64String(t))}catch(i){throw new yt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new vo($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new yt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new yt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new yt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=/^__.*__$/;class JP{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,i,this.fieldTransforms):new bu(t,this.data,i,this.fieldTransforms)}}function lw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Fg{constructor(t,i,s,o,u,c){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Fg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Lh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(lw(this.Lu)&&WP.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class t4{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||ef(t)}ju(t,i,s,o=!1){return new Fg({Lu:t,methodName:i,zu:s,path:Qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e4(e){const t=e._freezeSettings(),i=ef(e._databaseId);return new t4(e._databaseId,!!t.ignoreUndefinedProperties,i)}function n4(e,t,i,s,o,u={}){const c=e.ju(u.merge||u.mergeFields?2:0,t,i,o);fw("Data must be an object, but it was:",c,s);const d=cw(s,c);let m,g;if(u.merge)m=new Jn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const A=i4(t,E,i);if(!c.contains(A))throw new yt(nt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);s4(v,A)||v.push(A)}m=new Jn(v),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new JP(new Hn(d),m,g)}function uw(e,t){if(hw(e=co(e)))return fw("Unsupported field value:",t,e),cw(e,t);if(e instanceof ow)return function(s,o){if(!lw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let c=0;for(const d of s){let m=uw(d,o.Uu(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}}(e,t)}return function(s,o){if((s=co(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ie.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Ie){const u=new Ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof jg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vo)return{bytesValue:Vb(o.serializer,s._byteString)};if(s instanceof Gn){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qg)return function(c,d){return{mapValue:{fields:{[sb]:{stringValue:ab},[Ch]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return _g(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Lg(s)}`)}(e,t)}function cw(e,t){const i={};return JS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(e,(s,o)=>{const u=uw(o,t.qu(s));u!=null&&(i[s]=u)}),{mapValue:{fields:i}}}function hw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ie||e instanceof jg||e instanceof vo||e instanceof Gn||e instanceof ow||e instanceof qg)}function fw(e,t,i){if(!hw(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Lg(i);throw s==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+s)}}function i4(e,t,i){if((t=co(t))instanceof zg)return t._internalPath;if(typeof t=="string")return dw(e,t);throw Lh("Field path arguments must be of type string or ",e,!1,void 0,i)}const r4=new RegExp("[~\\*/\\[\\]]");function dw(e,t,i){if(t.search(r4)>=0)throw Lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new zg(...t.split("."))._internalPath}catch{throw Lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function Lh(e,t,i,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new yt(nt.INVALID_ARGUMENT,d+e+m)}function s4(e,t){return e.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,i,s,o,u){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new a4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(pw("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class a4 extends mw{data(){return super.data()}}function pw(e,t){return typeof t=="string"?dw(e,t):t instanceof zg?t._internalPath:t._delegate._internalPath}class o4{convertValue(t,i="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return na(t,(o,u)=>{s[o]=this.convertValue(u,i)}),s}convertVectorValue(t){var i,s,o;const u=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[Ch].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>ye(c.doubleValue));return new qg(u)}convertGeoPoint(t){return new jg(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=$h(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(uu(t));default:return null}}convertTimestamp(t){const i=rs(t);return new Ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=fe.fromString(t);Gt(Lb(s));const o=new cu(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(i)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(e,t,i){let s;return s=e?e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gw extends mw{constructor(t,i,s,o,u,c){super(t,i,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new c4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(pw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class c4 extends gw{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(e){e=mu(e,Gn);const t=mu(e.firestore,Bg);return KP(aw(t),e._key).then(i=>d4(t,e,i))}class h4 extends o4{constructor(t){super(),this.firestore=t}convertBytes(t){return new vo(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Gn(this.firestore,null,i)}}function Tp(e,t,i){e=mu(e,Gn);const s=mu(e.firestore,Bg),o=l4(e.converter,t);return f4(s,[n4(e4(s),"setDoc",e._key,o,e.converter!==null,i).toMutation(e._key,nr.none())])}function f4(e,t){return function(s,o){const u=new Wr;return s.asyncQueue.enqueueAndForget(async()=>MP(await HP(s),o,u)),u.promise}(aw(e),t)}function d4(e,t,i){const s=i.docs.get(t._key),o=new h4(e);return new gw(e,o,t._key,s,new u4(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){So=o})(BM),ns(new rr("firestore",(s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Bg(new WM(s.getProvider("auth-internal")),new eO(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new yt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,v)}(c,o),c);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),_i(BT,zT,t),_i(BT,zT,"esm2017")})();var m4="firebase",p4="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(m4,p4,"app");const yw="@firebase/installations",Hg="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=1e4,_w=`w:${Hg}`,Tw="FIS_v2",g4="https://firebaseinstallations.googleapis.com/v1",y4=60*60*1e3,v4="installations",_4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Js=new Gh(v4,_4,T4);function Ew(e){return e instanceof hs&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw({projectId:e}){return`${g4}/projects/${e}/installations`}function Sw(e){return{token:e.token,requestStatus:2,expiresIn:A4(e.expiresIn),creationTime:Date.now()}}async function bw(e,t){const s=(await t.json()).error;return Js.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ww({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function E4(e,{refreshToken:t}){const i=ww(e);return i.append("Authorization",S4(t)),i}async function Rw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function A4(e){return Number(e.replace("s","000"))}function S4(e){return`${Tw} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4({appConfig:e,heartbeatServiceProvider:t},{fid:i}){const s=Aw(e),o=ww(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:i,authVersion:Tw,appId:e.appId,sdkVersion:_w},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await Rw(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:Sw(g.authToken)}}else throw await bw("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=/^[cdef][\w-]{21}$/,Ep="";function C4(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const i=D4(e);return R4.test(i)?i:Ep}catch{return Ep}}function D4(e){return w4(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function xw(e,t){const i=sf(e);Vw(i,t),x4(i,t)}function Vw(e,t){const i=Dw.get(e);if(i)for(const s of i)s(t)}function x4(e,t){const i=V4();i&&i.postMessage({key:e,fid:t}),I4()}let Ys=null;function V4(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=e=>{Vw(e.data.key,e.data.fid)}),Ys}function I4(){Dw.size===0&&Ys&&(Ys.close(),Ys=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-installations-database",O4=1,ta="firebase-installations-store";let Om=null;function Gg(){return Om||(Om=BS(M4,O4,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ta)}}})),Om}async function Uh(e,t){const i=sf(e),o=(await Gg()).transaction(ta,"readwrite"),u=o.objectStore(ta),c=await u.get(i);return await u.put(t,i),await o.done,(!c||c.fid!==t.fid)&&xw(e,t.fid),t}async function Iw(e){const t=sf(e),s=(await Gg()).transaction(ta,"readwrite");await s.objectStore(ta).delete(t),await s.done}async function af(e,t){const i=sf(e),o=(await Gg()).transaction(ta,"readwrite"),u=o.objectStore(ta),c=await u.get(i),d=t(c);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!c||c.fid!==d.fid)&&xw(e,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(e){let t;const i=await af(e.appConfig,s=>{const o=N4(s),u=P4(e,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Ep?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function N4(e){const t=e||{fid:C4(),registrationStatus:0};return Mw(t)}function P4(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Js.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=L4(e,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:U4(e)}:{installationEntry:t}}async function L4(e,t){try{const i=await b4(e,t);return Uh(e.appConfig,i)}catch(i){throw Ew(i)&&i.customData.serverCode===409?await Iw(e.appConfig):await Uh(e.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function U4(e){let t=await OE(e.appConfig);for(;t.registrationStatus===1;)await Cw(100),t=await OE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Kg(e);return s||i}return t}function OE(e){return af(e,t=>{if(!t)throw Js.create("installation-not-found");return Mw(t)})}function Mw(e){return k4(e)?{fid:e.fid,registrationStatus:0}:e}function k4(e){return e.registrationStatus===1&&e.registrationTime+vw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4({appConfig:e,heartbeatServiceProvider:t},i){const s=z4(e,i),o=E4(e,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:_w,appId:e.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await Rw(()=>fetch(s,d));if(m.ok){const g=await m.json();return Sw(g)}else throw await bw("Generate Auth Token",m)}function z4(e,{fid:t}){return`${Aw(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qg(e,t=!1){let i;const s=await af(e.appConfig,u=>{if(!Ow(u))throw Js.create("not-registered");const c=u.authToken;if(!t&&F4(c))return u;if(c.requestStatus===1)return i=j4(e,t),u;{if(!navigator.onLine)throw Js.create("app-offline");const d=G4(u);return i=q4(e,d),d}});return i?await i:s.authToken}async function j4(e,t){let i=await NE(e.appConfig);for(;i.authToken.requestStatus===1;)await Cw(100),i=await NE(e.appConfig);const s=i.authToken;return s.requestStatus===0?Qg(e,t):s}function NE(e){return af(e,t=>{if(!Ow(t))throw Js.create("not-registered");const i=t.authToken;return K4(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function q4(e,t){try{const i=await B4(e,t),s=Object.assign(Object.assign({},t),{authToken:i});return await Uh(e.appConfig,s),i}catch(i){if(Ew(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Iw(e.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Uh(e.appConfig,s)}throw i}}function Ow(e){return e!==void 0&&e.registrationStatus===2}function F4(e){return e.requestStatus===2&&!H4(e)}function H4(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y4}function G4(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function K4(e){return e.requestStatus===1&&e.requestTime+vw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(e){const t=e,{installationEntry:i,registrationPromise:s}=await Kg(t);return s?s.catch(console.error):Qg(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(e,t=!1){const i=e;return await Y4(i),(await Qg(i,t)).token}async function Y4(e){const{registrationPromise:t}=await Kg(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(e){if(!e||!e.options)throw Nm("App Configuration");if(!e.name)throw Nm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!e.options[i])throw Nm(i);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Nm(e){return Js.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="installations",Z4="installations-internal",W4=e=>{const t=e.getProvider("app").getImmediate(),i=X4(t),s=Su(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},J4=e=>{const t=e.getProvider("app").getImmediate(),i=Su(t,Nw).getImmediate();return{getId:()=>Q4(i),getToken:o=>$4(i,o)}};function tL(){ns(new rr(Nw,W4,"PUBLIC")),ns(new rr(Z4,J4,"PRIVATE"))}tL();_i(yw,Hg);_i(yw,Hg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="analytics",eL="firebase_id",nL="origin",iL=60*1e3,rL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$g="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new cg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Gh("analytics","Analytics",sL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(e){if(!e.startsWith($g)){const t=bn.create("invalid-gtag-resource",{gtagURL:e});return pn.warn(t.message),""}return e}function Pw(e){return Promise.all(e.map(t=>t.catch(i=>i)))}function oL(e,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(e,t)),i}function lL(e,t){const i=oL("firebase-js-sdk-policy",{createScriptURL:aL}),s=document.createElement("script"),o=`${$g}?l=${e}&id=${t}`;s.src=i?i?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function uL(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function cL(e,t,i,s,o,u){const c=s[o];try{if(c)await t[c];else{const m=(await Pw(i)).find(g=>g.measurementId===o);m&&await t[m.appId]}}catch(d){pn.error(d)}e("config",o,u)}async function hL(e,t,i,s,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await Pw(i);for(const m of c){const g=d.find(E=>E.measurementId===m),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),e("event",s,o||{})}catch(u){pn.error(u)}}function fL(e,t,i,s){async function o(u,...c){try{if(u==="event"){const[d,m]=c;await hL(e,t,i,d,m)}else if(u==="config"){const[d,m]=c;await cL(e,t,i,s,d,m)}else if(u==="consent"){const[d,m]=c;e("consent",d,m)}else if(u==="get"){const[d,m,g]=c;e("get",d,m,g)}else if(u==="set"){const[d]=c;e("set",d)}else e(u,...c)}catch(d){pn.error(d)}}return o}function dL(e,t,i,s,o){let u=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=fL(u,e,t,i),{gtagCore:u,wrappedGtag:window[o]}}function mL(e){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes($g)&&i.src.includes(e))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=30,gL=1e3;class yL{constructor(t={},i=gL){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Lw=new yL;function vL(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function _L(e){var t;const{appId:i,apiKey:s}=e,o={method:"GET",headers:vL(s)},u=rL.replace("{app-id}",i),c=await fetch(u,o);if(c.status!==200&&c.status!==304){let d="";try{const m=await c.json();!((t=m.error)===null||t===void 0)&&t.message&&(d=m.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function TL(e,t=Lw,i){const{appId:s,apiKey:o,measurementId:u}=e.options;if(!s)throw bn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw bn.create("no-api-key")}const c=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new SL;return setTimeout(async()=>{d.abort()},iL),Uw({appId:s,apiKey:o,measurementId:u},c,d,t)}async function Uw(e,{throttleEndTimeMillis:t,backoffCount:i},s,o=Lw){var u;const{appId:c,measurementId:d}=e;try{await EL(s,t)}catch(m){if(d)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:d};throw m}try{const m=await _L(e);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!AL(g)){if(o.deleteThrottleMetadata(c),d)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw m}const v=Number((u=g?.customData)===null||u===void 0?void 0:u.httpStatus)===503?xT(i,o.intervalMillis,pL):xT(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(c,E),pn.debug(`Calling attemptFetch again in ${v} millis`),Uw(e,E,s,o)}}function EL(e,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);e.addEventListener(()=>{clearTimeout(u),s(bn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function AL(e){if(!(e instanceof hs)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class SL{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function bL(e,t,i,s,o){if(o&&o.global){e("event",i,s);return}else{const u=await t,c=Object.assign(Object.assign({},s),{send_to:u});e("event",i,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(){if(PS())try{await LS()}catch(e){return pn.warn(bn.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return pn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RL(e,t,i,s,o,u,c){var d;const m=TL(e);m.then(w=>{i[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>pn.error(w)),t.push(m);const g=wL().then(w=>{if(w)return s.getId()}),[v,E]=await Promise.all([m,g]);mL(u)||lL(u,v.measurementId),o("js",new Date);const A=(d=c?.config)!==null&&d!==void 0?d:{};return A[nL]="firebase",A.update=!0,E!=null&&(A[eL]=E),o("config",v.measurementId,A),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(t){this.app=t}_delete(){return delete Wl[this.app.options.appId],Promise.resolve()}}let Wl={},PE=[];const LE={};let Pm="dataLayer",DL="gtag",UE,kw,kE=!1;function xL(){const e=[];if(II()&&e.push("This is a browser extension environment."),OI()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=bn.create("invalid-analytics-context",{errorInfo:t});pn.warn(i.message)}}function VL(e,t,i){xL();const s=e.options.appId;if(!s)throw bn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(Wl[s]!=null)throw bn.create("already-exists",{id:s});if(!kE){uL(Pm);const{wrappedGtag:u,gtagCore:c}=dL(Wl,PE,LE,Pm,DL);kw=u,UE=c,kE=!0}return Wl[s]=RL(e,PE,LE,t,UE,Pm,i),new CL(e)}function IL(e=jS()){e=co(e);const t=Su(e,kh);return t.isInitialized()?t.getImmediate():ML(e)}function ML(e,t={}){const i=Su(e,kh);if(i.isInitialized()){const o=i.getImmediate();if(Sh(t,i.getOptions()))return o;throw bn.create("already-initialized")}return i.initialize({options:t})}function OL(e,t,i,s){e=co(e),bL(kw,Wl[e.app.options.appId],t,i,s).catch(o=>pn.error(o))}const BE="@firebase/analytics",zE="0.10.11";function NL(){ns(new rr(kh,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return VL(s,o,i)},"PUBLIC")),ns(new rr("analytics-internal",e,"PRIVATE")),_i(BE,zE),_i(BE,zE,"esm2017");function e(t){try{const i=t.getProvider(kh).getImmediate();return{logEvent:(s,o,u)=>OL(i,s,o,u)}}catch(i){throw bn.create("interop-component-reg-failed",{reason:i})}}}NL();const PL={apiKey:"AIzaSyBqAKNg5TQ7Dup9l96_SrzOF2_t46Xe0c0",authDomain:"q-production-e4848.firebaseapp.com",projectId:"q-production-e4848",storageBucket:"q-production-e4848.firebasestorage.app",messagingSenderId:"1004209252200",appId:"1:1004209252200:web:254c79d46e184a00af58dd",measurementId:"G-MC3HT5MY4V"},Bw=zS(PL);IL(Bw);const Hl=XP(Bw),jE=12;function LL(e){return[...e].sort(()=>Math.random()-.5)}function UL(){const[e,t]=H.useState([]),[i,s]=H.useState(0),[o,u]=H.useState(jE),[c,d]=H.useState(!0),[m,g]=H.useState(null),[v,E]=H.useState([]),A=bp();let w=localStorage.getItem("anonymousID")||"";H.useEffect(()=>{async function N(){const O=new Date().toLocaleDateString("en-US",{timeZone:"America/New_York",month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-");try{const k=Fl(Hl,"qotd",O),F=await ME(k);if(!F.exists()){g("No quiz available for today."),d(!1);return}const{questions:$}=F.data();if(!$||$.length===0){g("No questions found for today's quiz."),d(!1);return}const rt=$.map(M=>Fl(Hl,"questions",M)),at=(await Promise.all(rt.map(M=>ME(M)))).filter(M=>M.exists()).map(M=>{const C=M.data();return{question:C.question,choices:LL(C.choices),correctAnswer:C.answer,id:M.id}});at.length===0?g("No valid questions found."):t(at)}catch(k){console.error("Error fetching QOTD:",k),g(k.message)}finally{d(!1)}}N()},[]),H.useEffect(()=>{if(o>0){const N=setTimeout(()=>u(O=>parseFloat((O-.1).toFixed(1))),100);return()=>clearTimeout(N)}else x(null)},[o]);const x=async N=>{if(e.length===0)return;const O=new Date().toLocaleDateString("en-US",{timeZone:"America/New_York",month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,"-"),k=e[i],F=N?.toLowerCase()===k.correctAnswer.toLowerCase(),$={question:k.question,selected:N,correct:k.correctAnswer};E(rt=>[...rt,$]);try{const rt=Fl(Hl,"questions",k.id,"responses",w);await Tp(rt,{response:N,isCorrect:F});const J=Fl(Hl,"users",w,"qotd",O,"responses",k.id);await Tp(J,{response:N,isCorrect:F})}catch(rt){console.error("Error updating Firestore:",rt)}i+1<e.length?(s(rt=>rt+1),u(jE)):A("/results",{state:{userAnswers:[...v,$]}})};return c?gt.jsx("div",{className:"flex justify-center items-center h-screen text-white text-2xl",children:"Loading today's quiz..."}):m?gt.jsx("div",{className:"flex justify-center items-center h-screen text-white text-2xl",children:m}):gt.jsxs($r.div,{className:"relative flex flex-col items-center justify-center h-screen w-screen px-6 py-10 text-white overflow-hidden",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5},children:[gt.jsx($r.div,{className:"fixed inset-0 w-screen h-screen bg-gradient-to-r from-blue-500 via-pink-500 to-orange-500 blur-[120px] opacity-90 pointer-events-none",animate:{rotate:[0,360],scale:[3,3,3]},transition:{repeat:1/0,duration:60,ease:"linear"}}),e.length>0&&gt.jsxs("div",{className:"relative z-10 flex flex-col items-center h-full w-full max-w-lg text-center px-6",children:[gt.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 space-y-2",children:[gt.jsx("p",{className:"text-3xl font-bold text-white px-6",children:e[i].question}),gt.jsxs("p",{className:"text-lg font-semibold text-white",children:[o.toFixed(1),"s"]})]}),gt.jsx("div",{className:"w-full max-w-lg px-6 flex flex-col space-y-4 pb-10",children:e[i].choices.map((N,O)=>gt.jsx("button",{onClick:()=>x(N),className:"w-full px-4 py-3 border-2 border-white rounded-md bg-transparent text-white text-lg hover:bg-white hover:text-black transition-all duration-300",children:N},O))})]})]})}function kL(){const e=us(),t=bp(),i=e.state?.userAnswers||[],s=i.reduce((u,c)=>c.selected.toLowerCase()===c.correct.toLowerCase()?u+10:u,0),o=()=>{const u=i.map(g=>g.selected===g.correct?"":"").join(" "),d=`10Q - ${new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}
Score: ${s} points
${u}

Can you beat my score?`,m=`sms:?body=${encodeURIComponent(d)}`;window.location.href=m};return gt.jsxs($r.div,{className:"relative flex flex-col items-center justify-center h-screen w-screen px-6 py-10 text-white overflow-hidden",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5},children:[gt.jsx($r.div,{className:"fixed inset-0 w-screen h-screen bg-gradient-to-r from-blue-500 via-pink-500 to-orange-500 blur-[120px] opacity-90 pointer-events-none",animate:{rotate:[0,360],scale:[3,3,3]},transition:{repeat:1/0,duration:60,ease:"linear"}}),gt.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full max-w-lg h-full overflow-y-auto",children:[gt.jsx("h1",{className:"text-3xl font-bold text-center text-white",children:"Quiz Results"}),gt.jsxs("div",{className:"mt-4 text-xl font-semibold text-center text-white bg-gray-800 px-6 py-3 rounded-lg",children:["Total Score: ",gt.jsxs("span",{className:"text-yellow-300",children:[s," points"]})]}),gt.jsx("ul",{className:"mt-6 space-y-4 w-full",children:i.map((u,c)=>{const d=u.selected.toLowerCase()===u.correct.toLowerCase();return gt.jsxs("li",{className:`p-4 border rounded-lg text-white text-lg ${d?"border-green-500 bg-green-700":"border-red-500 bg-red-700"}`,children:[gt.jsx("p",{className:"font-semibold",children:u.question}),gt.jsxs("p",{className:"text-sm text-gray-300",children:["Your Answer: ",u.selected||"Not Answered"]}),gt.jsxs("p",{className:"text-sm text-gray-300",children:["Correct Answer: ",gt.jsx("span",{className:"font-bold",children:u.correct})]}),d?gt.jsx("p",{className:"text-sm font-bold text-yellow-300",children:" Correct"}):gt.jsx("p",{className:"text-sm font-bold text-yellow-300",children:" Wrong"})]},c)})}),gt.jsx("button",{onClick:()=>t("/"),className:"mt-6 px-6 py-3 bg-white text-black rounded-md text-lg font-semibold hover:bg-gray-200 transition-all duration-300",children:"Go to Home"}),gt.jsx("button",{onClick:o,className:"mt-4 px-6 py-3 bg-blue-500 text-white rounded-md text-lg font-semibold hover:bg-blue-600 transition-all duration-300",children:"Challenge Your Friends"})]})]})}async function BL(e){try{for(let t of e){const i=Fl(Hl,"questions",t.id);await Tp(i,t)}console.log(" Questions added successfully!")}catch(t){console.error(" Error adding questions:",t)}}const Ae="02-23-2025",zL=[{id:`${Ae}-q1`,question:"Which country won the FIFA World Cup in 2018?",choices:["France","Brazil","Germany","Argentina"],answer:"france",date:Ae,difficulty:0,lastUsed:null},{id:`${Ae}-q2`,question:"Who holds the record for the most home runs in a single MLB season?",choices:["Barry Bonds","Babe Ruth","Mark McGwire","Sammy Sosa"],answer:"barry bonds",date:Ae,difficulty:2,lastUsed:null},{id:`${Ae}-q3`,question:"How many players are there on a standard basketball team on the court at one time?",choices:["5","6","7","4"],answer:"5",date:Ae,difficulty:1,lastUsed:null},{id:`${Ae}-q4`,question:"Which NFL team has won the most Super Bowls?",choices:["New England Patriots","Pittsburgh Steelers","Dallas Cowboys","San Francisco 49ers"],answer:"new england patriots",date:Ae,difficulty:3,lastUsed:null},{id:`${Ae}-q5`,question:"Who is the fastest man in the world, holding the 100m world record?",choices:["Usain Bolt","Tyson Gay","Yohan Blake","Carl Lewis"],answer:"usain bolt",date:Ae,difficulty:1,lastUsed:null},{id:`${Ae}-q6`,question:"Which team won the NBA championship in 2020?",choices:["Los Angeles Lakers","Miami Heat","Golden State Warriors","Milwaukee Bucks"],answer:"los angeles lakers",date:Ae,difficulty:2,lastUsed:null},{id:`${Ae}-q7`,question:"Which golfer has won the most major championships?",choices:["Jack Nicklaus","Tiger Woods","Arnold Palmer","Ben Hogan"],answer:"jack nicklaus",date:Ae,difficulty:4,lastUsed:null},{id:`${Ae}-q8`,question:"In which sport would you perform a 'slam dunk'?",choices:["Basketball","Tennis","Soccer","Volleyball"],answer:"basketball",date:Ae,difficulty:0,lastUsed:null},{id:`${Ae}-q9`,question:"What is the maximum break in a single frame of snooker?",choices:["147","155","167","180"],answer:"147",date:Ae,difficulty:5,lastUsed:null},{id:`${Ae}-q10`,question:"Which country is known as the birthplace of modern Olympic Games?",choices:["Greece","United States","France","United Kingdom"],answer:"greece",date:Ae,difficulty:2,lastUsed:null}],jL=()=>{const[e,t]=H.useState(null),i=async()=>{t("Adding questions...");try{await BL(zL),t(" Questions added successfully!")}catch(s){t(" Error adding questions."),console.error(s)}};return gt.jsxs("div",{className:"relative flex flex-col items-center justify-center h-screen w-screen text-white overflow-hidden",children:[gt.jsx($r.div,{className:"fixed inset-0 w-screen h-screen bg-gradient-to-r from-blue-500 via-pink-500 to-orange-500 blur-[120px] opacity-90 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}}),gt.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center",children:[gt.jsx("button",{onClick:i,className:"px-6 py-3 bg-white hover:bg-gray-200 text-black font-bold rounded-lg",children:"Add Questions"}),e&&gt.jsx("p",{className:"mt-4 text-lg",children:e})]})]})};function qL(){return gt.jsx(OC,{children:gt.jsxs(uC,{children:[gt.jsx(Ul,{path:"/",element:gt.jsx(gI,{})}),gt.jsx(Ul,{path:"/quiz",element:gt.jsx(UL,{})}),gt.jsx(Ul,{path:"/results",element:gt.jsx(kL,{})}),gt.jsx(Ul,{path:"/add-questions",element:gt.jsx(jL,{})})," "]})})}const qE=document.getElementById("root");if(!qE)console.error("Root element #root not found. Make sure index.html has <div id='root'></div>");else try{_R.createRoot(qE).render(gt.jsx(H.StrictMode,{children:gt.jsx(qL,{})}))}catch(e){console.error("Error rendering React app:",e)}
